function By(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var zy={exports:{}},Vc={},Uy={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),NS=Symbol.for("react.portal"),SS=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),_S=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),kS=Symbol.for("react.context"),TS=Symbol.for("react.forward_ref"),PS=Symbol.for("react.suspense"),AS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),Jp=Symbol.iterator;function OS(e){return e===null||typeof e!="object"?null:(e=Jp&&e[Jp]||e["@@iterator"],typeof e=="function"?e:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wy=Object.assign,qy={};function Di(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Hy}Di.prototype.isReactComponent={};Di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gy(){}Gy.prototype=Di.prototype;function Wf(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Hy}var qf=Wf.prototype=new Gy;qf.constructor=Wf;Wy(qf,Di.prototype);qf.isPureReactComponent=!0;var Xp=Array.isArray,Ky=Object.prototype.hasOwnProperty,Gf={current:null},Yy={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Ky.call(t,s)&&!Yy.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:jo,type:e,key:a,ref:o,props:i,_owner:Gf.current}}function $S(e,t){return{$$typeof:jo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kf(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo}function MS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zp=/\/+/g;function Fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MS(""+e.key):t.toString(36)}function _l(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jo:case NS:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Fd(o,0):s,Xp(i)?(n="",e!=null&&(n=e.replace(Zp,"$&/")+"/"),_l(i,t,n,"",function(d){return d})):i!=null&&(Kf(i)&&(i=$S(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",Xp(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Fd(a,l);o+=_l(a,t,n,c,i)}else if(c=OS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Fd(a,l++),o+=_l(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bo(e,t,n){if(e==null)return e;var s=[],i=0;return _l(e,s,"","",function(a){return t.call(n,a,i++)}),s}function DS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},El={transition:null},LS={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:El,ReactCurrentOwner:Gf};function Jy(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Bo,forEach:function(e,t,n){Bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bo(e,function(){t++}),t},toArray:function(e){return Bo(e,function(t){return t})||[]},only:function(e){if(!Kf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Di;de.Fragment=SS;de.Profiler=_S;de.PureComponent=Wf;de.StrictMode=CS;de.Suspense=PS;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LS;de.act=Jy;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Wy({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Gf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ky.call(t,c)&&!Yy.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:jo,type:e.type,key:i,ref:a,props:s,_owner:o}};de.createContext=function(e){return e={$$typeof:kS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ES,_context:e},e.Consumer=e};de.createElement=Qy;de.createFactory=function(e){var t=Qy.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:TS,render:e}};de.isValidElement=Kf;de.lazy=function(e){return{$$typeof:RS,_payload:{_status:-1,_result:e},_init:DS}};de.memo=function(e,t){return{$$typeof:AS,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=El.transition;El.transition={};try{e()}finally{El.transition=t}};de.unstable_act=Jy;de.useCallback=function(e,t){return Et.current.useCallback(e,t)};de.useContext=function(e){return Et.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};de.useEffect=function(e,t){return Et.current.useEffect(e,t)};de.useId=function(){return Et.current.useId()};de.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Et.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};de.useRef=function(e){return Et.current.useRef(e)};de.useState=function(e){return Et.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Et.current.useTransition()};de.version="18.3.1";Uy.exports=de;var m=Uy.exports;const Y=_r(m),Bc=By({__proto__:null,default:Y},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=m,FS=Symbol.for("react.element"),VS=Symbol.for("react.fragment"),BS=Object.prototype.hasOwnProperty,zS=IS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,US={key:!0,ref:!0,__self:!0,__source:!0};function Xy(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)BS.call(t,s)&&!US.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:FS,type:e,key:a,ref:o,props:i,_owner:zS.current}}Vc.Fragment=VS;Vc.jsx=Xy;Vc.jsxs=Xy;zy.exports=Vc;var r=zy.exports,sh={},Zy={exports:{}},Qt={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var F=P.length;P.push(M);e:for(;0<F;){var J=F-1>>>1,re=P[J];if(0<i(re,M))P[J]=M,P[F]=re,F=J;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var M=P[0],F=P.pop();if(F!==M){P[0]=F;e:for(var J=0,re=P.length,fe=re>>>1;J<fe;){var le=2*(J+1)-1,Te=P[le],We=le+1,ee=P[We];if(0>i(Te,F))We<re&&0>i(ee,Te)?(P[J]=ee,P[We]=F,J=We):(P[J]=Te,P[le]=F,J=le);else if(We<re&&0>i(ee,F))P[J]=ee,P[We]=F,J=We;else break e}}return M}function i(P,M){var F=P.sortIndex-M.sortIndex;return F!==0?F:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var M=n(d);M!==null;){if(M.callback===null)s(d);else if(M.startTime<=P)s(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(d)}}function j(P){if(x=!1,b(P),!y)if(n(c)!==null)y=!0,C(S);else{var M=n(d);M!==null&&O(j,M.startTime-P)}}function S(P,M){y=!1,x&&(x=!1,p(_),_=-1),g=!0;var F=f;try{for(b(M),h=n(c);h!==null&&(!(h.expirationTime>M)||P&&!B());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var re=J(h.expirationTime<=M);M=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(c)&&s(c),b(M)}else s(c);h=n(c)}if(h!==null)var fe=!0;else{var le=n(d);le!==null&&O(j,le.startTime-M),fe=!1}return fe}finally{h=null,f=F,g=!1}}var E=!1,N=null,_=-1,R=5,A=-1;function B(){return!(e.unstable_now()-A<R)}function k(){if(N!==null){var P=e.unstable_now();A=P;var M=!0;try{M=N(!0,P)}finally{M?L():(E=!1,N=null)}}else E=!1}var L;if(typeof v=="function")L=function(){v(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=k,L=function(){T.postMessage(null)}}else L=function(){w(k,0)};function C(P){N=P,E||(E=!0,L())}function O(P,M){_=w(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,C(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var F=f;f=M;try{return P()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=f;f=P;try{return M()}finally{f=F}},e.unstable_scheduleCallback=function(P,M,F){var J=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?J+F:J):F=J,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=F+re,P={id:u++,callback:M,priorityLevel:P,startTime:F,expirationTime:re,sortIndex:-1},F>J?(P.sortIndex=F,t(d,P),n(c)===null&&P===n(d)&&(x?(p(_),_=-1):x=!0,O(j,F-J))):(P.sortIndex=re,t(c,P),y||g||(y=!0,C(S))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var M=f;return function(){var F=f;f=M;try{return P.apply(this,arguments)}finally{f=F}}}})(tv);ev.exports=tv;var HS=ev.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=m,Kt=HS;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nv=new Set,Ua={};function Er(e,t){wi(e,t),wi(e+"Capture",t)}function wi(e,t){for(Ua[e]=t,e=0;e<t.length;e++)nv.add(t[e])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,qS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e0={},t0={};function GS(e){return rh.call(t0,e)?!0:rh.call(e0,e)?!1:qS.test(e)?t0[e]=!0:(e0[e]=!0,!1)}function KS(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YS(e,t,n,s){if(t===null||typeof t>"u"||KS(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Qf);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,s){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YS(t,n,i,s)&&(n=null),s||i===null?GS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var fs=WS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),em=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),iv=Symbol.for("react.offscreen"),n0=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=n0&&e[n0]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Vd;function ga(e){if(Vd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vd=t&&t[1]||""}return`
`+Vd+e}var Bd=!1;function zd(e,t){if(!e||Bd)return"";Bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ga(e):""}function QS(e){switch(e.tag){case 5:return ga(e.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return e=zd(e.type,!1),e;case 11:return e=zd(e.type.render,!1),e;case 1:return e=zd(e.type,!0),e;default:return""}}function lh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case qr:return"Portal";case ih:return"Profiler";case Xf:return"StrictMode";case ah:return"Suspense";case oh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rv:return(e.displayName||"Context")+".Consumer";case sv:return(e._context.displayName||"Context")+".Provider";case Zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case em:return t=e.displayName||null,t!==null?t:lh(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return lh(e(t))}catch{}}return null}function JS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lh(t);case 8:return t===Xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XS(e){var t=av(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uo(e){e._valueTracker||(e._valueTracker=XS(e))}function ov(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=av(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ch(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function s0(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Bs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lv(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function dh(e,t){lv(e,t);var n=Bs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uh(e,t.type,n):t.hasOwnProperty("defaultValue")&&uh(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uh(e,t,n){(t!=="number"||ql(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xa=Array.isArray;function li(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Bs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function i0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(xa(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bs(n)}}function cv(e,t){var n=Bs(t.value),s=Bs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function a0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZS=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(e){ZS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ja[t]=ja[e]})});function hv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ja.hasOwnProperty(e)&&ja[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=hv(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var eC=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(e,t){if(t){if(eC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=null;function tm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xh=null,ci=null,di=null;function o0(e){if(e=Co(e)){if(typeof xh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=qc(t),xh(e.stateNode,e.type,t))}}function mv(e){ci?di?di.push(e):di=[e]:ci=e}function pv(){if(ci){var e=ci,t=di;if(di=ci=null,o0(e),t)for(e=0;e<t.length;e++)o0(t[e])}}function gv(e,t){return e(t)}function xv(){}var Ud=!1;function yv(e,t,n){if(Ud)return e(t,n);Ud=!0;try{return gv(e,t,n)}finally{Ud=!1,(ci!==null||di!==null)&&(xv(),pv())}}function Wa(e,t){var n=e.stateNode;if(n===null)return null;var s=qc(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var yh=!1;if(rs)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{yh=!1}function tC(e,t,n,s,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Na=!1,Gl=null,Kl=!1,vh=null,nC={onError:function(e){Na=!0,Gl=e}};function sC(e,t,n,s,i,a,o,l,c){Na=!1,Gl=null,tC.apply(nC,arguments)}function rC(e,t,n,s,i,a,o,l,c){if(sC.apply(this,arguments),Na){if(Na){var d=Gl;Na=!1,Gl=null}else throw Error(W(198));Kl||(Kl=!0,vh=d)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l0(e){if(kr(e)!==e)throw Error(W(188))}function iC(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return l0(i),e;if(a===s)return l0(i),t;a=a.sibling}throw Error(W(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==s)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function wv(e){return e=iC(e),e!==null?bv(e):null}function bv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bv(e);if(t!==null)return t;e=e.sibling}return null}var jv=Kt.unstable_scheduleCallback,c0=Kt.unstable_cancelCallback,aC=Kt.unstable_shouldYield,oC=Kt.unstable_requestPaint,Ke=Kt.unstable_now,lC=Kt.unstable_getCurrentPriorityLevel,nm=Kt.unstable_ImmediatePriority,Nv=Kt.unstable_UserBlockingPriority,Yl=Kt.unstable_NormalPriority,cC=Kt.unstable_LowPriority,Sv=Kt.unstable_IdlePriority,zc=null,Rn=null;function dC(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(zc,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:fC,uC=Math.log,hC=Math.LN2;function fC(e){return e>>>=0,e===0?32:31-(uC(e)/hC|0)|0}var Wo=64,qo=4194304;function ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ql(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=ya(l):(a&=o,a!==0&&(s=ya(a)))}else o=n&~i,o!==0?s=ya(o):a!==0&&(s=ya(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vn(t),i=1<<n,s|=e[n],t&=~i;return s}function mC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pC(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-vn(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=mC(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cv(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function Hd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function No(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=n}function gC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vn(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vn(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var be=0;function _v(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ev,rm,kv,Tv,Pv,bh=!1,Go=[],Ps=null,As=null,Rs=null,qa=new Map,Ga=new Map,Cs=[],xC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d0(e,t){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function Zi(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Co(t),t!==null&&rm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yC(e,t,n,s,i){switch(t){case"focusin":return Ps=Zi(Ps,e,t,n,s,i),!0;case"dragenter":return As=Zi(As,e,t,n,s,i),!0;case"mouseover":return Rs=Zi(Rs,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return qa.set(a,Zi(qa.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Ga.set(a,Zi(Ga.get(a)||null,e,t,n,s,i)),!0}return!1}function Av(e){var t=dr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=vv(n),t!==null){e.blockedOn=t,Pv(e.priority,function(){kv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);gh=s,n.target.dispatchEvent(s),gh=null}else return t=Co(n),t!==null&&rm(t),e.blockedOn=n,!1;t.shift()}return!0}function u0(e,t,n){kl(e)&&n.delete(t)}function vC(){bh=!1,Ps!==null&&kl(Ps)&&(Ps=null),As!==null&&kl(As)&&(As=null),Rs!==null&&kl(Rs)&&(Rs=null),qa.forEach(u0),Ga.forEach(u0)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,bh||(bh=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,vC)))}function Ka(e){function t(i){return ea(i,e)}if(0<Go.length){ea(Go[0],e);for(var n=1;n<Go.length;n++){var s=Go[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Ps!==null&&ea(Ps,e),As!==null&&ea(As,e),Rs!==null&&ea(Rs,e),qa.forEach(t),Ga.forEach(t),n=0;n<Cs.length;n++)s=Cs[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)Av(n),n.blockedOn===null&&Cs.shift()}var ui=fs.ReactCurrentBatchConfig,Jl=!0;function wC(e,t,n,s){var i=be,a=ui.transition;ui.transition=null;try{be=1,im(e,t,n,s)}finally{be=i,ui.transition=a}}function bC(e,t,n,s){var i=be,a=ui.transition;ui.transition=null;try{be=4,im(e,t,n,s)}finally{be=i,ui.transition=a}}function im(e,t,n,s){if(Jl){var i=jh(e,t,n,s);if(i===null)eu(e,t,s,Xl,n),d0(e,s);else if(yC(i,e,t,n,s))s.stopPropagation();else if(d0(e,s),t&4&&-1<xC.indexOf(e)){for(;i!==null;){var a=Co(i);if(a!==null&&Ev(a),a=jh(e,t,n,s),a===null&&eu(e,t,s,Xl,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else eu(e,t,s,null,n)}}var Xl=null;function jh(e,t,n,s){if(Xl=null,e=tm(s),e=dr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function Rv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case nm:return 1;case Nv:return 4;case Yl:case cC:return 16;case Sv:return 536870912;default:return 16}default:return 16}}var Es=null,am=null,Tl=null;function Ov(){if(Tl)return Tl;var e,t=am,n=t.length,s,i="value"in Es?Es.value:Es.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return Tl=i.slice(e,1<s?1-s:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ko(){return!0}function h0(){return!1}function Jt(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ko:h0,this.isPropagationStopped=h0,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Jt(Li),So=He({},Li,{view:0,detail:0}),jC=Jt(So),Wd,qd,ta,Uc=He({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(Wd=e.screenX-ta.screenX,qd=e.screenY-ta.screenY):qd=Wd=0,ta=e),Wd)},movementY:function(e){return"movementY"in e?e.movementY:qd}}),f0=Jt(Uc),NC=He({},Uc,{dataTransfer:0}),SC=Jt(NC),CC=He({},So,{relatedTarget:0}),Gd=Jt(CC),_C=He({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),EC=Jt(_C),kC=He({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TC=Jt(kC),PC=He({},Li,{data:0}),m0=Jt(PC),AC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $C(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OC[e])?!!t[e]:!1}function lm(){return $C}var MC=He({},So,{key:function(e){if(e.key){var t=AC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DC=Jt(MC),LC=He({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Jt(LC),IC=He({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),FC=Jt(IC),VC=He({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=Jt(VC),zC=He({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=Jt(zC),HC=[9,13,27,32],cm=rs&&"CompositionEvent"in window,Sa=null;rs&&"documentMode"in document&&(Sa=document.documentMode);var WC=rs&&"TextEvent"in window&&!Sa,$v=rs&&(!cm||Sa&&8<Sa&&11>=Sa),g0=String.fromCharCode(32),x0=!1;function Mv(e,t){switch(e){case"keyup":return HC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function qC(e,t){switch(e){case"compositionend":return Dv(t);case"keypress":return t.which!==32?null:(x0=!0,g0);case"textInput":return e=t.data,e===g0&&x0?null:e;default:return null}}function GC(e,t){if(Kr)return e==="compositionend"||!cm&&Mv(e,t)?(e=Ov(),Tl=am=Es=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $v&&t.locale!=="ko"?null:t.data;default:return null}}var KC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KC[e.type]:t==="textarea"}function Lv(e,t,n,s){mv(s),t=Zl(t,"onChange"),0<t.length&&(n=new om("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ca=null,Ya=null;function YC(e){Kv(e,0)}function Hc(e){var t=Jr(e);if(ov(t))return e}function QC(e,t){if(e==="change")return t}var Iv=!1;if(rs){var Kd;if(rs){var Yd="oninput"in document;if(!Yd){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),Yd=typeof v0.oninput=="function"}Kd=Yd}else Kd=!1;Iv=Kd&&(!document.documentMode||9<document.documentMode)}function w0(){Ca&&(Ca.detachEvent("onpropertychange",Fv),Ya=Ca=null)}function Fv(e){if(e.propertyName==="value"&&Hc(Ya)){var t=[];Lv(t,Ya,e,tm(e)),yv(YC,t)}}function JC(e,t,n){e==="focusin"?(w0(),Ca=t,Ya=n,Ca.attachEvent("onpropertychange",Fv)):e==="focusout"&&w0()}function XC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(Ya)}function ZC(e,t){if(e==="click")return Hc(t)}function e_(e,t){if(e==="input"||e==="change")return Hc(t)}function t_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:t_;function Qa(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!rh.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function b0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j0(e,t){var n=b0(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b0(n)}}function Vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bv(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n_(e){var t=Bv(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vv(n.ownerDocument.documentElement,n)){if(s!==null&&dm(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=j0(n,a);var o=j0(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s_=rs&&"documentMode"in document&&11>=document.documentMode,Yr=null,Nh=null,_a=null,Sh=!1;function N0(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sh||Yr==null||Yr!==ql(s)||(s=Yr,"selectionStart"in s&&dm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_a&&Qa(_a,s)||(_a=s,s=Zl(Nh,"onSelect"),0<s.length&&(t=new om("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Yr)))}function Yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},Qd={},zv={};rs&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Wc(e){if(Qd[e])return Qd[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zv)return Qd[e]=t[n];return e}var Uv=Wc("animationend"),Hv=Wc("animationiteration"),Wv=Wc("animationstart"),qv=Wc("transitionend"),Gv=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){Gv.set(e,t),Er(t,[e])}for(var Jd=0;Jd<S0.length;Jd++){var Xd=S0[Jd],r_=Xd.toLowerCase(),i_=Xd[0].toUpperCase()+Xd.slice(1);Ks(r_,"on"+i_)}Ks(Uv,"onAnimationEnd");Ks(Hv,"onAnimationIteration");Ks(Wv,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(qv,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a_=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function C0(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,rC(s,t,void 0,e),e.currentTarget=null}function Kv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;C0(i,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;C0(i,l,d),a=c}}}if(Kl)throw e=vh,Kl=!1,vh=null,e}function Me(e,t){var n=t[Th];n===void 0&&(n=t[Th]=new Set);var s=e+"__bubble";n.has(s)||(Yv(t,e,2,!1),n.add(s))}function Zd(e,t,n){var s=0;t&&(s|=4),Yv(n,e,s,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[Qo]){e[Qo]=!0,nv.forEach(function(n){n!=="selectionchange"&&(a_.has(n)||Zd(n,!1,e),Zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,Zd("selectionchange",!1,t))}}function Yv(e,t,n,s){switch(Rv(t)){case 1:var i=wC;break;case 4:i=bC;break;default:i=im}n=i.bind(null,t,n,e),i=void 0,!yh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function eu(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=dr(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}yv(function(){var d=a,u=tm(n),h=[];e:{var f=Gv.get(e);if(f!==void 0){var g=om,y=e;switch(e){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":g=DC;break;case"focusin":y="focus",g=Gd;break;case"focusout":y="blur",g=Gd;break;case"beforeblur":case"afterblur":g=Gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FC;break;case Uv:case Hv:case Wv:g=EC;break;case qv:g=BC;break;case"scroll":g=jC;break;case"wheel":g=UC;break;case"copy":case"cut":case"paste":g=TC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=p0}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var v=d,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=Wa(v,p),j!=null&&x.push(Xa(v,j,b)))),w)break;v=v.return}0<x.length&&(f=new g(f,y,null,n,u),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==gh&&(y=n.relatedTarget||n.fromElement)&&(dr(y)||y[is]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=d,y=y?dr(y):null,y!==null&&(w=kr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(x=f0,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=p0,j="onPointerLeave",p="onPointerEnter",v="pointer"),w=g==null?f:Jr(g),b=y==null?f:Jr(y),f=new x(j,v+"leave",g,n,u),f.target=w,f.relatedTarget=b,j=null,dr(u)===d&&(x=new x(p,v+"enter",y,n,u),x.target=b,x.relatedTarget=w,j=x),w=j,g&&y)t:{for(x=g,p=y,v=0,b=x;b;b=Mr(b))v++;for(b=0,j=p;j;j=Mr(j))b++;for(;0<v-b;)x=Mr(x),v--;for(;0<b-v;)p=Mr(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=Mr(x),p=Mr(p)}x=null}else x=null;g!==null&&_0(h,f,g,x,!1),y!==null&&w!==null&&_0(h,w,y,x,!0)}}e:{if(f=d?Jr(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=QC;else if(y0(f))if(Iv)S=e_;else{S=XC;var E=JC}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=ZC);if(S&&(S=S(e,d))){Lv(h,S,n,u);break e}E&&E(e,f,d),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&uh(f,"number",f.value)}switch(E=d?Jr(d):window,e){case"focusin":(y0(E)||E.contentEditable==="true")&&(Yr=E,Nh=d,_a=null);break;case"focusout":_a=Nh=Yr=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,N0(h,n,u);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":N0(h,n,u)}var N;if(cm)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Kr?Mv(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&($v&&n.locale!=="ko"&&(Kr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Kr&&(N=Ov()):(Es=u,am="value"in Es?Es.value:Es.textContent,Kr=!0)),E=Zl(d,_),0<E.length&&(_=new m0(_,e,null,n,u),h.push({event:_,listeners:E}),N?_.data=N:(N=Dv(n),N!==null&&(_.data=N)))),(N=WC?qC(e,n):GC(e,n))&&(d=Zl(d,"onBeforeInput"),0<d.length&&(u=new m0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=N))}Kv(h,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wa(e,n),a!=null&&s.unshift(Xa(e,a,i)),a=Wa(e,t),a!=null&&s.push(Xa(e,a,i))),e=e.return}return s}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _0(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=Wa(n,a),c!=null&&o.unshift(Xa(n,c,l))):i||(c=Wa(n,a),c!=null&&o.push(Xa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var o_=/\r\n?/g,l_=/\u0000|\uFFFD/g;function E0(e){return(typeof e=="string"?e:""+e).replace(o_,`
`).replace(l_,"")}function Jo(e,t,n){if(t=E0(t),E0(e)!==t&&n)throw Error(W(425))}function ec(){}var Ch=null,_h=null;function Eh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,c_=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,d_=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(e){return k0.resolve(null).then(e).catch(u_)}:kh;function u_(e){setTimeout(function(){throw e})}function tu(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Ka(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ka(t)}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Ii,Za="__reactProps$"+Ii,is="__reactContainer$"+Ii,Th="__reactEvents$"+Ii,h_="__reactListeners$"+Ii,f_="__reactHandles$"+Ii;function dr(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[is]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=T0(e);e!==null;){if(n=e[Pn])return n;e=T0(e)}return t}e=n,n=e.parentNode}return null}function Co(e){return e=e[Pn]||e[is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function qc(e){return e[Za]||null}var Ph=[],Xr=-1;function Ys(e){return{current:e}}function De(e){0>Xr||(e.current=Ph[Xr],Ph[Xr]=null,Xr--)}function Ae(e,t){Xr++,Ph[Xr]=e.current,e.current=t}var zs={},yt=Ys(zs),Mt=Ys(!1),vr=zs;function bi(e,t){var n=e.type.contextTypes;if(!n)return zs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(e){return e=e.childContextTypes,e!=null}function tc(){De(Mt),De(yt)}function P0(e,t,n){if(yt.current!==zs)throw Error(W(168));Ae(yt,t),Ae(Mt,n)}function Qv(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(W(108,JS(e)||"Unknown",i));return He({},n,s)}function nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,vr=yt.current,Ae(yt,e),Ae(Mt,Mt.current),!0}function A0(e,t,n){var s=e.stateNode;if(!s)throw Error(W(169));n?(e=Qv(e,t,vr),s.__reactInternalMemoizedMergedChildContext=e,De(Mt),De(yt),Ae(yt,e)):De(Mt),Ae(Mt,n)}var qn=null,Gc=!1,nu=!1;function Jv(e){qn===null?qn=[e]:qn.push(e)}function m_(e){Gc=!0,Jv(e)}function Qs(){if(!nu&&qn!==null){nu=!0;var e=0,t=be;try{var n=qn;for(be=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}qn=null,Gc=!1}catch(i){throw qn!==null&&(qn=qn.slice(e+1)),jv(nm,Qs),i}finally{be=t,nu=!1}}return null}var Zr=[],ei=0,sc=null,rc=0,nn=[],sn=0,wr=null,Kn=1,Yn="";function sr(e,t){Zr[ei++]=rc,Zr[ei++]=sc,sc=e,rc=t}function Xv(e,t,n){nn[sn++]=Kn,nn[sn++]=Yn,nn[sn++]=wr,wr=e;var s=Kn;e=Yn;var i=32-vn(s)-1;s&=~(1<<i),n+=1;var a=32-vn(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Kn=1<<32-vn(t)+i|n<<i|s,Yn=a+e}else Kn=1<<a|n<<i|s,Yn=e}function um(e){e.return!==null&&(sr(e,1),Xv(e,1,0))}function hm(e){for(;e===sc;)sc=Zr[--ei],Zr[ei]=null,rc=Zr[--ei],Zr[ei]=null;for(;e===wr;)wr=nn[--sn],nn[sn]=null,Yn=nn[--sn],nn[sn]=null,Kn=nn[--sn],nn[sn]=null}var qt=null,Wt=null,Fe=!1,gn=null;function Zv(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function R0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Wt=Os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wr!==null?{id:Kn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Wt=null,!0):!1;default:return!1}}function Ah(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rh(e){if(Fe){var t=Wt;if(t){var n=t;if(!R0(e,t)){if(Ah(e))throw Error(W(418));t=Os(n.nextSibling);var s=qt;t&&R0(e,t)?Zv(s,n):(e.flags=e.flags&-4097|2,Fe=!1,qt=e)}}else{if(Ah(e))throw Error(W(418));e.flags=e.flags&-4097|2,Fe=!1,qt=e}}}function O0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function Xo(e){if(e!==qt)return!1;if(!Fe)return O0(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eh(e.type,e.memoizedProps)),t&&(t=Wt)){if(Ah(e))throw ew(),Error(W(418));for(;t;)Zv(e,t),t=Os(t.nextSibling)}if(O0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=Os(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=qt?Os(e.stateNode.nextSibling):null;return!0}function ew(){for(var e=Wt;e;)e=Os(e.nextSibling)}function ji(){Wt=qt=null,Fe=!1}function fm(e){gn===null?gn=[e]:gn.push(e)}var p_=fs.ReactCurrentBatchConfig;function na(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var s=n.stateNode}if(!s)throw Error(W(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $0(e){var t=e._init;return t(e._payload)}function tw(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function s(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Ls(p,v),p.index=0,p.sibling=null,p}function a(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,j){return v===null||v.tag!==6?(v=cu(b,p.mode,j),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,j){var S=b.type;return S===Gr?u(p,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===js&&$0(S)===v.type)?(j=i(v,b.props),j.ref=na(p,v,b),j.return=p,j):(j=Ll(b.type,b.key,b.props,null,p.mode,j),j.ref=na(p,v,b),j.return=p,j)}function d(p,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=du(b,p.mode,j),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function u(p,v,b,j,S){return v===null||v.tag!==7?(v=gr(b,p.mode,j,S),v.return=p,v):(v=i(v,b),v.return=p,v)}function h(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cu(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:return b=Ll(v.type,v.key,v.props,null,p.mode,b),b.ref=na(p,null,v),b.return=p,b;case qr:return v=du(v,p.mode,b),v.return=p,v;case js:var j=v._init;return h(p,j(v._payload),b)}if(xa(v)||Ji(v))return v=gr(v,p.mode,b,null),v.return=p,v;Zo(p,v)}return null}function f(p,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(p,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:return b.key===S?c(p,v,b,j):null;case qr:return b.key===S?d(p,v,b,j):null;case js:return S=b._init,f(p,v,S(b._payload),j)}if(xa(b)||Ji(b))return S!==null?null:u(p,v,b,j,null);Zo(p,b)}return null}function g(p,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,l(v,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zo:return p=p.get(j.key===null?b:j.key)||null,c(v,p,j,S);case qr:return p=p.get(j.key===null?b:j.key)||null,d(v,p,j,S);case js:var E=j._init;return g(p,v,b,E(j._payload),S)}if(xa(j)||Ji(j))return p=p.get(b)||null,u(v,p,j,S,null);Zo(v,j)}return null}function y(p,v,b,j){for(var S=null,E=null,N=v,_=v=0,R=null;N!==null&&_<b.length;_++){N.index>_?(R=N,N=null):R=N.sibling;var A=f(p,N,b[_],j);if(A===null){N===null&&(N=R);break}e&&N&&A.alternate===null&&t(p,N),v=a(A,v,_),E===null?S=A:E.sibling=A,E=A,N=R}if(_===b.length)return n(p,N),Fe&&sr(p,_),S;if(N===null){for(;_<b.length;_++)N=h(p,b[_],j),N!==null&&(v=a(N,v,_),E===null?S=N:E.sibling=N,E=N);return Fe&&sr(p,_),S}for(N=s(p,N);_<b.length;_++)R=g(N,p,_,b[_],j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?_:R.key),v=a(R,v,_),E===null?S=R:E.sibling=R,E=R);return e&&N.forEach(function(B){return t(p,B)}),Fe&&sr(p,_),S}function x(p,v,b,j){var S=Ji(b);if(typeof S!="function")throw Error(W(150));if(b=S.call(b),b==null)throw Error(W(151));for(var E=S=null,N=v,_=v=0,R=null,A=b.next();N!==null&&!A.done;_++,A=b.next()){N.index>_?(R=N,N=null):R=N.sibling;var B=f(p,N,A.value,j);if(B===null){N===null&&(N=R);break}e&&N&&B.alternate===null&&t(p,N),v=a(B,v,_),E===null?S=B:E.sibling=B,E=B,N=R}if(A.done)return n(p,N),Fe&&sr(p,_),S;if(N===null){for(;!A.done;_++,A=b.next())A=h(p,A.value,j),A!==null&&(v=a(A,v,_),E===null?S=A:E.sibling=A,E=A);return Fe&&sr(p,_),S}for(N=s(p,N);!A.done;_++,A=b.next())A=g(N,p,_,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?_:A.key),v=a(A,v,_),E===null?S=A:E.sibling=A,E=A);return e&&N.forEach(function(k){return t(p,k)}),Fe&&sr(p,_),S}function w(p,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Gr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:e:{for(var S=b.key,E=v;E!==null;){if(E.key===S){if(S=b.type,S===Gr){if(E.tag===7){n(p,E.sibling),v=i(E,b.props.children),v.return=p,p=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===js&&$0(S)===E.type){n(p,E.sibling),v=i(E,b.props),v.ref=na(p,E,b),v.return=p,p=v;break e}n(p,E);break}else t(p,E);E=E.sibling}b.type===Gr?(v=gr(b.props.children,p.mode,j,b.key),v.return=p,p=v):(j=Ll(b.type,b.key,b.props,null,p.mode,j),j.ref=na(p,v,b),j.return=p,p=j)}return o(p);case qr:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=du(b,p.mode,j),v.return=p,p=v}return o(p);case js:return E=b._init,w(p,v,E(b._payload),j)}if(xa(b))return y(p,v,b,j);if(Ji(b))return x(p,v,b,j);Zo(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,b),v.return=p,p=v):(n(p,v),v=cu(b,p.mode,j),v.return=p,p=v),o(p)):n(p,v)}return w}var Ni=tw(!0),nw=tw(!1),ic=Ys(null),ac=null,ti=null,mm=null;function pm(){mm=ti=ac=null}function gm(e){var t=ic.current;De(ic),e._currentValue=t}function Oh(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function hi(e,t){ac=e,mm=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(mm!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(ac===null)throw Error(W(308));ti=e,ac.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var ur=null;function xm(e){ur===null?ur=[e]:ur.push(e)}function sw(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,xm(t)):(n.next=i.next,i.next=n),t.interleaved=n,as(e,s)}function as(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ns=!1;function ym(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,as(e,n)}return i=s.interleaved,i===null?(t.next=t,xm(s)):(t.next=i.next,i.next=t),s.interleaved=t,as(e,n)}function Al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sm(e,n)}}function M0(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oc(e,t,n,s){var i=e.updateQueue;Ns=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(f=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=He({},h,f);break e;case 2:Ns=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);jr|=o,e.lanes=o,e.memoizedState=h}}function D0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(W(191,i));i.call(s)}}}var _o={},On=Ys(_o),eo=Ys(_o),to=Ys(_o);function hr(e){if(e===_o)throw Error(W(174));return e}function vm(e,t){switch(Ae(to,t),Ae(eo,e),Ae(On,_o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fh(t,e)}De(On),Ae(On,t)}function Si(){De(On),De(eo),De(to)}function iw(e){hr(to.current);var t=hr(On.current),n=fh(t,e.type);t!==n&&(Ae(eo,e),Ae(On,n))}function wm(e){eo.current===e&&(De(On),De(eo))}var Ve=Ys(0);function lc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var su=[];function bm(){for(var e=0;e<su.length;e++)su[e]._workInProgressVersionPrimary=null;su.length=0}var Rl=fs.ReactCurrentDispatcher,ru=fs.ReactCurrentBatchConfig,br=0,ze=null,Xe=null,st=null,cc=!1,Ea=!1,no=0,g_=0;function ht(){throw Error(W(321))}function jm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function Nm(e,t,n,s,i,a){if(br=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?w_:b_,e=n(s,i),Ea){a=0;do{if(Ea=!1,no=0,25<=a)throw Error(W(301));a+=1,st=Xe=null,t.updateQueue=null,Rl.current=j_,e=n(s,i)}while(Ea)}if(Rl.current=dc,t=Xe!==null&&Xe.next!==null,br=0,st=Xe=ze=null,cc=!1,t)throw Error(W(300));return e}function Sm(){var e=no!==0;return no=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ze.memoizedState=st=e:st=st.next=e,st}function dn(){if(Xe===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=st===null?ze.memoizedState:st.next;if(t!==null)st=t,Xe=e;else{if(e===null)throw Error(W(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},st===null?ze.memoizedState=st=e:st=st.next=e}return st}function so(e,t){return typeof t=="function"?t(e):t}function iu(e){var t=dn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var s=Xe,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((br&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,ze.lanes|=u,jr|=u}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,bn(s,t.memoizedState)||($t=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,ze.lanes|=a,jr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function au(e){var t=dn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);bn(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function aw(){}function ow(e,t){var n=ze,s=dn(),i=t(),a=!bn(s.memoizedState,i);if(a&&(s.memoizedState=i,$t=!0),s=s.queue,Cm(dw.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ro(9,cw.bind(null,n,s,i,t),void 0,null),rt===null)throw Error(W(349));br&30||lw(n,t,i)}return i}function lw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cw(e,t,n,s){t.value=n,t.getSnapshot=s,uw(t)&&hw(e)}function dw(e,t,n){return n(function(){uw(t)&&hw(e)})}function uw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function hw(e){var t=as(e,1);t!==null&&wn(t,e,1,-1)}function L0(e){var t=Tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:e},t.queue=e,e=e.dispatch=v_.bind(null,ze,e),[t.memoizedState,e]}function ro(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function fw(){return dn().memoizedState}function Ol(e,t,n,s){var i=Tn();ze.flags|=e,i.memoizedState=ro(1|t,n,void 0,s===void 0?null:s)}function Kc(e,t,n,s){var i=dn();s=s===void 0?null:s;var a=void 0;if(Xe!==null){var o=Xe.memoizedState;if(a=o.destroy,s!==null&&jm(s,o.deps)){i.memoizedState=ro(t,n,a,s);return}}ze.flags|=e,i.memoizedState=ro(1|t,n,a,s)}function I0(e,t){return Ol(8390656,8,e,t)}function Cm(e,t){return Kc(2048,8,e,t)}function mw(e,t){return Kc(4,2,e,t)}function pw(e,t){return Kc(4,4,e,t)}function gw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xw(e,t,n){return n=n!=null?n.concat([e]):null,Kc(4,4,gw.bind(null,t,e),n)}function _m(){}function yw(e,t){var n=dn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jm(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function vw(e,t){var n=dn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jm(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ww(e,t,n){return br&21?(bn(n,t)||(n=Cv(),ze.lanes|=n,jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function x_(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var s=ru.transition;ru.transition={};try{e(!1),t()}finally{be=n,ru.transition=s}}function bw(){return dn().memoizedState}function y_(e,t,n){var s=Ds(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jw(e))Nw(t,n);else if(n=sw(e,t,n,s),n!==null){var i=St();wn(n,e,s,i),Sw(n,t,s)}}function v_(e,t,n){var s=Ds(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jw(e))Nw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,bn(l,o)){var c=t.interleaved;c===null?(i.next=i,xm(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=sw(e,t,i,s),n!==null&&(i=St(),wn(n,e,s,i),Sw(n,t,s))}}function jw(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Nw(e,t){Ea=cc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sw(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sm(e,n)}}var dc={readContext:cn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},w_={readContext:cn,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:I0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,gw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=Tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Tn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=y_.bind(null,ze,e),[s.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:L0,useDebugValue:_m,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=L0(!1),t=e[0];return e=x_.bind(null,e[1]),Tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ze,i=Tn();if(Fe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),rt===null)throw Error(W(349));br&30||lw(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,I0(dw.bind(null,s,a,e),[e]),s.flags|=2048,ro(9,cw.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Tn(),t=rt.identifierPrefix;if(Fe){var n=Yn,s=Kn;n=(s&~(1<<32-vn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=g_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b_={readContext:cn,useCallback:yw,useContext:cn,useEffect:Cm,useImperativeHandle:xw,useInsertionEffect:mw,useLayoutEffect:pw,useMemo:vw,useReducer:iu,useRef:fw,useState:function(){return iu(so)},useDebugValue:_m,useDeferredValue:function(e){var t=dn();return ww(t,Xe.memoizedState,e)},useTransition:function(){var e=iu(so)[0],t=dn().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:ow,useId:bw,unstable_isNewReconciler:!1},j_={readContext:cn,useCallback:yw,useContext:cn,useEffect:Cm,useImperativeHandle:xw,useInsertionEffect:mw,useLayoutEffect:pw,useMemo:vw,useReducer:au,useRef:fw,useState:function(){return au(so)},useDebugValue:_m,useDeferredValue:function(e){var t=dn();return Xe===null?t.memoizedState=e:ww(t,Xe.memoizedState,e)},useTransition:function(){var e=au(so)[0],t=dn().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:ow,useId:bw,unstable_isNewReconciler:!1};function fn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $h(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yc={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=St(),i=Ds(e),a=Xn(s,i);a.payload=t,n!=null&&(a.callback=n),t=$s(e,a,i),t!==null&&(wn(t,e,i,s),Al(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=St(),i=Ds(e),a=Xn(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$s(e,a,i),t!==null&&(wn(t,e,i,s),Al(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),s=Ds(e),i=Xn(n,s);i.tag=2,t!=null&&(i.callback=t),t=$s(e,i,s),t!==null&&(wn(t,e,s,n),Al(t,e,s))}};function F0(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Qa(n,s)||!Qa(i,a):!0}function Cw(e,t,n){var s=!1,i=zs,a=t.contextType;return typeof a=="object"&&a!==null?a=cn(a):(i=Dt(t)?vr:yt.current,s=t.contextTypes,a=(s=s!=null)?bi(e,i):zs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yc,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function V0(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Yc.enqueueReplaceState(t,t.state,null)}function Mh(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ym(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=cn(a):(a=Dt(t)?vr:yt.current,i.context=bi(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($h(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yc.enqueueReplaceState(i,i.state,null),oc(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ci(e,t){try{var n="",s=t;do n+=QS(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function _w(e,t,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){hc||(hc=!0,qh=s),Dh(e,t)},n}function Ew(e,t,n){n=Xn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){Dh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Dh(e,t),typeof s!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function B0(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new N_;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=L_.bind(null,e,t,n),t.then(e,e))}function z0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U0(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xn(-1,1),t.tag=2,$s(n,t,1))),n.lanes|=1),e)}var S_=fs.ReactCurrentOwner,$t=!1;function jt(e,t,n,s){t.child=e===null?nw(t,null,n,s):Ni(t,e.child,n,s)}function H0(e,t,n,s,i){n=n.render;var a=t.ref;return hi(t,i),s=Nm(e,t,n,s,a,i),n=Sm(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,os(e,t,i)):(Fe&&n&&um(t),t.flags|=1,jt(e,t,s,i),t.child)}function W0(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!$m(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,kw(e,t,a,s,i)):(e=Ll(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Qa,n(o,s)&&e.ref===t.ref)return os(e,t,i)}return t.flags|=1,e=Ls(a,s),e.ref=t.ref,e.return=t,t.child=e}function kw(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Qa(a,s)&&e.ref===t.ref)if($t=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,os(e,t,i)}return Lh(e,t,n,s,i)}function Tw(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(si,Ut),Ut|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(si,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Ae(si,Ut),Ut|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Ae(si,Ut),Ut|=s;return jt(e,t,i,n),t.child}function Pw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lh(e,t,n,s,i){var a=Dt(n)?vr:yt.current;return a=bi(t,a),hi(t,i),n=Nm(e,t,n,s,a,i),s=Sm(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,os(e,t,i)):(Fe&&s&&um(t),t.flags|=1,jt(e,t,n,i),t.child)}function q0(e,t,n,s,i){if(Dt(n)){var a=!0;nc(t)}else a=!1;if(hi(t,i),t.stateNode===null)$l(e,t),Cw(t,n,s),Mh(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=cn(d):(d=Dt(n)?vr:yt.current,d=bi(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&V0(t,o,s,d),Ns=!1;var f=t.memoizedState;o.state=f,oc(t,s,o,i),c=t.memoizedState,l!==s||f!==c||Mt.current||Ns?(typeof u=="function"&&($h(t,n,u,s),c=t.memoizedState),(l=Ns||F0(t,n,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,rw(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:fn(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Dt(n)?vr:yt.current,c=bi(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&V0(t,o,s,c),Ns=!1,f=t.memoizedState,o.state=f,oc(t,s,o,i);var y=t.memoizedState;l!==h||f!==y||Mt.current||Ns?(typeof g=="function"&&($h(t,n,g,s),y=t.memoizedState),(d=Ns||F0(t,n,d,s,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Ih(e,t,n,s,a,i)}function Ih(e,t,n,s,i,a){Pw(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&A0(t,n,!1),os(e,t,a);s=t.stateNode,S_.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Ni(t,e.child,null,a),t.child=Ni(t,null,l,a)):jt(e,t,l,a),t.memoizedState=s.state,i&&A0(t,n,!0),t.child}function Aw(e){var t=e.stateNode;t.pendingContext?P0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&P0(e,t.context,!1),vm(e,t.containerInfo)}function G0(e,t,n,s,i){return ji(),fm(i),t.flags|=256,jt(e,t,n,s),t.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Vh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rw(e,t,n){var s=t.pendingProps,i=Ve.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ae(Ve,i&1),e===null)return Rh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xc(o,s,0,null),e=gr(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vh(n),t.memoizedState=Fh,e):Em(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return C_(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ls(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ls(l,a):(a=gr(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Fh,s}return a=e.child,e=a.sibling,s=Ls(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Em(e,t){return t=Xc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function el(e,t,n,s){return s!==null&&fm(s),Ni(t,e.child,null,n),e=Em(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C_(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=ou(Error(W(422))),el(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Xc({mode:"visible",children:s.children},i,0,null),a=gr(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Ni(t,e.child,null,o),t.child.memoizedState=Vh(o),t.memoizedState=Fh,a);if(!(t.mode&1))return el(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(W(419)),s=ou(a,s,void 0),el(e,t,o,s)}if(l=(o&e.childLanes)!==0,$t||l){if(s=rt,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,as(e,i),wn(s,e,i,-1))}return Om(),s=ou(Error(W(421))),el(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=I_.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Wt=Os(i.nextSibling),qt=t,Fe=!0,gn=null,e!==null&&(nn[sn++]=Kn,nn[sn++]=Yn,nn[sn++]=wr,Kn=e.id,Yn=e.overflow,wr=t),t=Em(t,s.children),t.flags|=4096,t)}function K0(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Oh(e.return,t,n)}function lu(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Ow(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(jt(e,t,s.children,n),s=Ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&K0(e,n,t);else if(e.tag===19)K0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Ve,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&lc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lu(t,!0,n,null,a);break;case"together":lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ls(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ls(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function __(e,t,n){switch(t.tag){case 3:Aw(t),ji();break;case 5:iw(t);break;case 1:Dt(t.type)&&nc(t);break;case 4:vm(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Ae(ic,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?Rw(e,t,n):(Ae(Ve,Ve.current&1),e=os(e,t,n),e!==null?e.sibling:null);Ae(Ve,Ve.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Ow(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Ve,Ve.current),s)break;return null;case 22:case 23:return t.lanes=0,Tw(e,t,n)}return os(e,t,n)}var $w,Bh,Mw,Dw;$w=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};Mw=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,hr(On.current);var a=null;switch(n){case"input":i=ch(e,i),s=ch(e,s),a=[];break;case"select":i=He({},i,{value:void 0}),s=He({},s,{value:void 0}),a=[];break;case"textarea":i=hh(e,i),s=hh(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ec)}mh(n,s);var o;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ua.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Me("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Dw=function(e,t,n,s){n!==s&&(t.flags|=4)};function sa(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function E_(e,t,n){var s=t.pendingProps;switch(hm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Dt(t.type)&&tc(),ft(t),null;case 3:return s=t.stateNode,Si(),De(Mt),De(yt),bm(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(Yh(gn),gn=null))),Bh(e,t),ft(t),null;case 5:wm(t);var i=hr(to.current);if(n=t.type,e!==null&&t.stateNode!=null)Mw(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(W(166));return ft(t),null}if(e=hr(On.current),Xo(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Pn]=t,s[Za]=a,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(i=0;i<va.length;i++)Me(va[i],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":s0(s,a),Me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Me("invalid",s);break;case"textarea":i0(s,a),Me("invalid",s)}mh(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Jo(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Jo(s.textContent,l,e),i=["children",""+l]):Ua.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",s)}switch(n){case"input":Uo(s),r0(s,a,!0);break;case"textarea":Uo(s),a0(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=ec)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Pn]=t,e[Za]=s,$w(e,t,!1,!1),t.stateNode=e;e:{switch(o=ph(n,s),n){case"dialog":Me("cancel",e),Me("close",e),i=s;break;case"iframe":case"object":case"embed":Me("load",e),i=s;break;case"video":case"audio":for(i=0;i<va.length;i++)Me(va[i],e);i=s;break;case"source":Me("error",e),i=s;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=s;break;case"details":Me("toggle",e),i=s;break;case"input":s0(e,s),i=ch(e,s),Me("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=He({},s,{value:void 0}),Me("invalid",e);break;case"textarea":i0(e,s),i=hh(e,s),Me("invalid",e);break;default:i=s}mh(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uv(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ha(e,c):typeof c=="number"&&Ha(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ua.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Me("scroll",e):c!=null&&Jf(e,a,c,o))}switch(n){case"input":Uo(e),r0(e,s,!1);break;case"textarea":Uo(e),a0(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Bs(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?li(e,!!s.multiple,a,!1):s.defaultValue!=null&&li(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ec)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)Dw(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(W(166));if(n=hr(to.current),hr(On.current),Xo(t)){if(s=t.stateNode,n=t.memoizedProps,s[Pn]=t,(a=s.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:Jo(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Pn]=t,t.stateNode=s}return ft(t),null;case 13:if(De(Ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Wt!==null&&t.mode&1&&!(t.flags&128))ew(),ji(),t.flags|=98560,a=!1;else if(a=Xo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Pn]=t}else ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),a=!1}else gn!==null&&(Yh(gn),gn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?Ze===0&&(Ze=3):Om())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return Si(),Bh(e,t),e===null&&Ja(t.stateNode.containerInfo),ft(t),null;case 10:return gm(t.type._context),ft(t),null;case 17:return Dt(t.type)&&tc(),ft(t),null;case 19:if(De(Ve),a=t.memoizedState,a===null)return ft(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)sa(a,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=lc(e),o!==null){for(t.flags|=128,sa(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ke()>_i&&(t.flags|=128,s=!0,sa(a,!1),t.lanes=4194304)}else{if(!s)if(e=lc(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Fe)return ft(t),null}else 2*Ke()-a.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,s=!0,sa(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=Ve.current,Ae(Ve,s?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return Rm(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ut&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function k_(e,t){switch(hm(t),t.tag){case 1:return Dt(t.type)&&tc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Si(),De(Mt),De(yt),bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wm(t),null;case 13:if(De(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ve),null;case 4:return Si(),null;case 10:return gm(t.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var tl=!1,pt=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){qe(e,t,s)}else n.current=null}function zh(e,t,n){try{n()}catch(s){qe(e,t,s)}}var Y0=!1;function P_(e,t){if(Ch=Jl,e=Bv(),dm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++d===i&&(l=o),f===a&&++u===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_h={focusedElem:e,selectionRange:n},Jl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:fn(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return y=Y0,Y0=!1,y}function ka(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&zh(t,n,a)}i=i.next}while(i!==s)}}function Qc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Uh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lw(e){var t=e.alternate;t!==null&&(e.alternate=null,Lw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[Za],delete t[Th],delete t[h_],delete t[f_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iw(e){return e.tag===5||e.tag===3||e.tag===4}function Q0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ec));else if(s!==4&&(e=e.child,e!==null))for(Hh(e,t,n),e=e.sibling;e!==null;)Hh(e,t,n),e=e.sibling}function Wh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Wh(e,t,n),e=e.sibling;e!==null;)Wh(e,t,n),e=e.sibling}var at=null,mn=!1;function gs(e,t,n){for(n=n.child;n!==null;)Fw(e,t,n),n=n.sibling}function Fw(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:pt||ni(n,t);case 6:var s=at,i=mn;at=null,gs(e,t,n),at=s,mn=i,at!==null&&(mn?(e=at,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(mn?(e=at,n=n.stateNode,e.nodeType===8?tu(e.parentNode,n):e.nodeType===1&&tu(e,n),Ka(e)):tu(at,n.stateNode));break;case 4:s=at,i=mn,at=n.stateNode.containerInfo,mn=!0,gs(e,t,n),at=s,mn=i;break;case 0:case 11:case 14:case 15:if(!pt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&zh(n,t,o),i=i.next}while(i!==s)}gs(e,t,n);break;case 1:if(!pt&&(ni(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){qe(n,t,l)}gs(e,t,n);break;case 21:gs(e,t,n);break;case 22:n.mode&1?(pt=(s=pt)||n.memoizedState!==null,gs(e,t,n),pt=s):gs(e,t,n);break;default:gs(e,t,n)}}function J0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new T_),t.forEach(function(s){var i=F_.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function un(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:at=l.stateNode,mn=!1;break e;case 3:at=l.stateNode.containerInfo,mn=!0;break e;case 4:at=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(at===null)throw Error(W(160));Fw(a,o,i),at=null,mn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){qe(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vw(t,e),t=t.sibling}function Vw(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),kn(e),s&4){try{ka(3,e,e.return),Qc(3,e)}catch(x){qe(e,e.return,x)}try{ka(5,e,e.return)}catch(x){qe(e,e.return,x)}}break;case 1:un(t,e),kn(e),s&512&&n!==null&&ni(n,n.return);break;case 5:if(un(t,e),kn(e),s&512&&n!==null&&ni(n,n.return),e.flags&32){var i=e.stateNode;try{Ha(i,"")}catch(x){qe(e,e.return,x)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&lv(i,a),ph(l,o);var d=ph(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?fv(i,h):u==="dangerouslySetInnerHTML"?uv(i,h):u==="children"?Ha(i,h):Jf(i,u,h,d)}switch(l){case"input":dh(i,a);break;case"textarea":cv(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?li(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?li(i,!!a.multiple,a.defaultValue,!0):li(i,!!a.multiple,a.multiple?[]:"",!1))}i[Za]=a}catch(x){qe(e,e.return,x)}}break;case 6:if(un(t,e),kn(e),s&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){qe(e,e.return,x)}}break;case 3:if(un(t,e),kn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(t.containerInfo)}catch(x){qe(e,e.return,x)}break;case 4:un(t,e),kn(e);break;case 13:un(t,e),kn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Pm=Ke())),s&4&&J0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(d=pt)||u,un(t,e),pt=d):un(t,e),kn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,g=f.child,f.tag){case 0:case 11:case 14:case 15:ka(4,f,f.return);break;case 1:ni(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){qe(s,n,x)}}break;case 5:ni(f,f.return);break;case 22:if(f.memoizedState!==null){Z0(h);continue}}g!==null?(g.return=f,Q=g):Z0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hv("display",o))}catch(x){qe(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){qe(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(t,e),kn(e),s&4&&J0(e);break;case 21:break;default:un(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iw(n)){var s=n;break e}n=n.return}throw Error(W(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ha(i,""),s.flags&=-33);var a=Q0(e);Wh(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Q0(e);Hh(e,l,o);break;default:throw Error(W(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A_(e,t,n){Q=e,Bw(e)}function Bw(e,t,n){for(var s=(e.mode&1)!==0;Q!==null;){var i=Q,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||tl;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||pt;l=tl;var d=pt;if(tl=o,(pt=c)&&!d)for(Q=i;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?eg(i):c!==null?(c.return=o,Q=c):eg(i);for(;a!==null;)Q=a,Bw(a),a=a.sibling;Q=i,tl=l,pt=d}X0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Q=a):X0(e)}}function X0(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||Qc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!pt)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fn(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&D0(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}pt||t.flags&512&&Uh(t)}catch(f){qe(t,t.return,f)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Z0(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function eg(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qc(4,t)}catch(c){qe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){qe(t,i,c)}}var a=t.return;try{Uh(t)}catch(c){qe(t,a,c)}break;case 5:var o=t.return;try{Uh(t)}catch(c){qe(t,o,c)}}}catch(c){qe(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var R_=Math.ceil,uc=fs.ReactCurrentDispatcher,km=fs.ReactCurrentOwner,ln=fs.ReactCurrentBatchConfig,pe=0,rt=null,Qe=null,ot=0,Ut=0,si=Ys(0),Ze=0,io=null,jr=0,Jc=0,Tm=0,Ta=null,Rt=null,Pm=0,_i=1/0,zn=null,hc=!1,qh=null,Ms=null,nl=!1,ks=null,fc=0,Pa=0,Gh=null,Ml=-1,Dl=0;function St(){return pe&6?Ke():Ml!==-1?Ml:Ml=Ke()}function Ds(e){return e.mode&1?pe&2&&ot!==0?ot&-ot:p_.transition!==null?(Dl===0&&(Dl=Cv()),Dl):(e=be,e!==0||(e=window.event,e=e===void 0?16:Rv(e.type)),e):1}function wn(e,t,n,s){if(50<Pa)throw Pa=0,Gh=null,Error(W(185));No(e,n,s),(!(pe&2)||e!==rt)&&(e===rt&&(!(pe&2)&&(Jc|=n),Ze===4&&_s(e,ot)),Lt(e,s),n===1&&pe===0&&!(t.mode&1)&&(_i=Ke()+500,Gc&&Qs()))}function Lt(e,t){var n=e.callbackNode;pC(e,t);var s=Ql(e,e===rt?ot:0);if(s===0)n!==null&&c0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&c0(n),t===1)e.tag===0?m_(tg.bind(null,e)):Jv(tg.bind(null,e)),d_(function(){!(pe&6)&&Qs()}),n=null;else{switch(_v(s)){case 1:n=nm;break;case 4:n=Nv;break;case 16:n=Yl;break;case 536870912:n=Sv;break;default:n=Yl}n=Yw(n,zw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zw(e,t){if(Ml=-1,Dl=0,pe&6)throw Error(W(327));var n=e.callbackNode;if(fi()&&e.callbackNode!==n)return null;var s=Ql(e,e===rt?ot:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=mc(e,s);else{t=s;var i=pe;pe|=2;var a=Hw();(rt!==e||ot!==t)&&(zn=null,_i=Ke()+500,pr(e,t));do try{M_();break}catch(l){Uw(e,l)}while(1);pm(),uc.current=a,pe=i,Qe!==null?t=0:(rt=null,ot=0,t=Ze)}if(t!==0){if(t===2&&(i=wh(e),i!==0&&(s=i,t=Kh(e,i))),t===1)throw n=io,pr(e,0),_s(e,s),Lt(e,Ke()),n;if(t===6)_s(e,s);else{if(i=e.current.alternate,!(s&30)&&!O_(i)&&(t=mc(e,s),t===2&&(a=wh(e),a!==0&&(s=a,t=Kh(e,a))),t===1))throw n=io,pr(e,0),_s(e,s),Lt(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(W(345));case 2:rr(e,Rt,zn);break;case 3:if(_s(e,s),(s&130023424)===s&&(t=Pm+500-Ke(),10<t)){if(Ql(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kh(rr.bind(null,e,Rt,zn),t);break}rr(e,Rt,zn);break;case 4:if(_s(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-vn(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=Ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*R_(s/1960))-s,10<s){e.timeoutHandle=kh(rr.bind(null,e,Rt,zn),s);break}rr(e,Rt,zn);break;case 5:rr(e,Rt,zn);break;default:throw Error(W(329))}}}return Lt(e,Ke()),e.callbackNode===n?zw.bind(null,e):null}function Kh(e,t){var n=Ta;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=mc(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&Yh(t)),e}function Yh(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function O_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!bn(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~Tm,t&=~Jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vn(t),s=1<<n;e[n]=-1,t&=~s}}function tg(e){if(pe&6)throw Error(W(327));fi();var t=Ql(e,0);if(!(t&1))return Lt(e,Ke()),null;var n=mc(e,t);if(e.tag!==0&&n===2){var s=wh(e);s!==0&&(t=s,n=Kh(e,s))}if(n===1)throw n=io,pr(e,0),_s(e,t),Lt(e,Ke()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Rt,zn),Lt(e,Ke()),null}function Am(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(_i=Ke()+500,Gc&&Qs())}}function Nr(e){ks!==null&&ks.tag===0&&!(pe&6)&&fi();var t=pe;pe|=1;var n=ln.transition,s=be;try{if(ln.transition=null,be=1,e)return e()}finally{be=s,ln.transition=n,pe=t,!(pe&6)&&Qs()}}function Rm(){Ut=si.current,De(si)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,c_(n)),Qe!==null)for(n=Qe.return;n!==null;){var s=n;switch(hm(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&tc();break;case 3:Si(),De(Mt),De(yt),bm();break;case 5:wm(s);break;case 4:Si();break;case 13:De(Ve);break;case 19:De(Ve);break;case 10:gm(s.type._context);break;case 22:case 23:Rm()}n=n.return}if(rt=e,Qe=e=Ls(e.current,null),ot=Ut=t,Ze=0,io=null,Tm=Jc=jr=0,Rt=Ta=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}ur=null}return e}function Uw(e,t){do{var n=Qe;try{if(pm(),Rl.current=dc,cc){for(var s=ze.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}cc=!1}if(br=0,st=Xe=ze=null,Ea=!1,no=0,km.current=null,n===null||n.return===null){Ze=1,io=t,Qe=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=z0(o);if(g!==null){g.flags&=-257,U0(g,o,l,a,t),g.mode&1&&B0(a,d,t),t=g,c=d;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){B0(a,d,t),Om();break e}c=Error(W(426))}}else if(Fe&&l.mode&1){var w=z0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),U0(w,o,l,a,t),fm(Ci(c,l));break e}}a=c=Ci(c,l),Ze!==4&&(Ze=2),Ta===null?Ta=[a]:Ta.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=_w(a,c,t);M0(a,p);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ms===null||!Ms.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Ew(a,l,t);M0(a,j);break e}}a=a.return}while(a!==null)}qw(n)}catch(S){t=S,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function Hw(){var e=uc.current;return uc.current=dc,e===null?dc:e}function Om(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||!(jr&268435455)&&!(Jc&268435455)||_s(rt,ot)}function mc(e,t){var n=pe;pe|=2;var s=Hw();(rt!==e||ot!==t)&&(zn=null,pr(e,t));do try{$_();break}catch(i){Uw(e,i)}while(1);if(pm(),pe=n,uc.current=s,Qe!==null)throw Error(W(261));return rt=null,ot=0,Ze}function $_(){for(;Qe!==null;)Ww(Qe)}function M_(){for(;Qe!==null&&!aC();)Ww(Qe)}function Ww(e){var t=Kw(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?qw(e):Qe=t,km.current=null}function qw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=k_(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Qe=null;return}}else if(n=E_(n,t,Ut),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ze===0&&(Ze=5)}function rr(e,t,n){var s=be,i=ln.transition;try{ln.transition=null,be=1,D_(e,t,n,s)}finally{ln.transition=i,be=s}return null}function D_(e,t,n,s){do fi();while(ks!==null);if(pe&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gC(e,a),e===rt&&(Qe=rt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,Yw(Yl,function(){return fi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ln.transition,ln.transition=null;var o=be;be=1;var l=pe;pe|=4,km.current=null,P_(e,n),Vw(n,e),n_(_h),Jl=!!Ch,_h=Ch=null,e.current=n,A_(n),oC(),pe=l,be=o,ln.transition=a}else e.current=n;if(nl&&(nl=!1,ks=e,fc=i),a=e.pendingLanes,a===0&&(Ms=null),dC(n.stateNode),Lt(e,Ke()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,e=qh,qh=null,e;return fc&1&&e.tag!==0&&fi(),a=e.pendingLanes,a&1?e===Gh?Pa++:(Pa=0,Gh=e):Pa=0,Qs(),null}function fi(){if(ks!==null){var e=_v(fc),t=ln.transition,n=be;try{if(ln.transition=null,be=16>e?16:e,ks===null)var s=!1;else{if(e=ks,ks=null,fc=0,pe&6)throw Error(W(331));var i=pe;for(pe|=4,Q=e.current;Q!==null;){var a=Q,o=a.child;if(Q.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:ka(8,u,a)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,g=u.return;if(Lw(u),u===d){Q=null;break}if(f!==null){f.return=g,Q=f;break}Q=g}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Q=o;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ka(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Q=p;break e}Q=a.return}}var v=e.current;for(Q=v;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qc(9,l)}}catch(S){qe(l,l.return,S)}if(l===o){Q=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Q=j;break e}Q=l.return}}if(pe=i,Qs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(zc,e)}catch{}s=!0}return s}finally{be=n,ln.transition=t}}return!1}function ng(e,t,n){t=Ci(n,t),t=_w(e,t,1),e=$s(e,t,1),t=St(),e!==null&&(No(e,1,t),Lt(e,t))}function qe(e,t,n){if(e.tag===3)ng(e,e,n);else for(;t!==null;){if(t.tag===3){ng(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ms===null||!Ms.has(s))){e=Ci(n,e),e=Ew(t,e,1),t=$s(t,e,1),e=St(),t!==null&&(No(t,1,e),Lt(t,e));break}}t=t.return}}function L_(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(ot&n)===n&&(Ze===4||Ze===3&&(ot&130023424)===ot&&500>Ke()-Pm?pr(e,0):Tm|=n),Lt(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):t=1);var n=St();e=as(e,t),e!==null&&(No(e,t,n),Lt(e,n))}function I_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gw(e,n)}function F_(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(W(314))}s!==null&&s.delete(t),Gw(e,n)}var Kw;Kw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,__(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Fe&&t.flags&1048576&&Xv(t,rc,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;$l(e,t),e=t.pendingProps;var i=bi(t,yt.current);hi(t,n),i=Nm(null,t,s,e,i,n);var a=Sm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(s)?(a=!0,nc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ym(t),i.updater=Yc,t.stateNode=i,i._reactInternals=t,Mh(t,s,e,n),t=Ih(null,t,s,!0,a,n)):(t.tag=0,Fe&&a&&um(t),jt(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch($l(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=B_(s),e=fn(s,e),i){case 0:t=Lh(null,t,s,e,n);break e;case 1:t=q0(null,t,s,e,n);break e;case 11:t=H0(null,t,s,e,n);break e;case 14:t=W0(null,t,s,fn(s.type,e),n);break e}throw Error(W(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:fn(s,i),Lh(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:fn(s,i),q0(e,t,s,i,n);case 3:e:{if(Aw(t),e===null)throw Error(W(387));s=t.pendingProps,a=t.memoizedState,i=a.element,rw(e,t),oc(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ci(Error(W(423)),t),t=G0(e,t,s,n,i);break e}else if(s!==i){i=Ci(Error(W(424)),t),t=G0(e,t,s,n,i);break e}else for(Wt=Os(t.stateNode.containerInfo.firstChild),qt=t,Fe=!0,gn=null,n=nw(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ji(),s===i){t=os(e,t,n);break e}jt(e,t,s,n)}t=t.child}return t;case 5:return iw(t),e===null&&Rh(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Eh(s,i)?o=null:a!==null&&Eh(s,a)&&(t.flags|=32),Pw(e,t),jt(e,t,o,n),t.child;case 6:return e===null&&Rh(t),null;case 13:return Rw(e,t,n);case 4:return vm(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ni(t,null,s,n):jt(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:fn(s,i),H0(e,t,s,i,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ae(ic,s._currentValue),s._currentValue=o,a!==null)if(bn(a.value,o)){if(a.children===i.children&&!Mt.current){t=os(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Xn(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Oh(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oh(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,hi(t,n),i=cn(i),s=s(i),t.flags|=1,jt(e,t,s,n),t.child;case 14:return s=t.type,i=fn(s,t.pendingProps),i=fn(s.type,i),W0(e,t,s,i,n);case 15:return kw(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:fn(s,i),$l(e,t),t.tag=1,Dt(s)?(e=!0,nc(t)):e=!1,hi(t,n),Cw(t,s,i),Mh(t,s,i,n),Ih(null,t,s,!0,e,n);case 19:return Ow(e,t,n);case 22:return Tw(e,t,n)}throw Error(W(156,t.tag))};function Yw(e,t){return jv(e,t)}function V_(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,s){return new V_(e,t,n,s)}function $m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B_(e){if(typeof e=="function")return $m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zf)return 11;if(e===em)return 14}return 2}function Ls(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")$m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gr:return gr(n.children,i,a,t);case Xf:o=8,i|=8;break;case ih:return e=on(12,n,t,i|2),e.elementType=ih,e.lanes=a,e;case ah:return e=on(13,n,t,i),e.elementType=ah,e.lanes=a,e;case oh:return e=on(19,n,t,i),e.elementType=oh,e.lanes=a,e;case iv:return Xc(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sv:o=10;break e;case rv:o=9;break e;case Zf:o=11;break e;case em:o=14;break e;case js:o=16,s=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=on(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function gr(e,t,n,s){return e=on(7,e,s,t),e.lanes=n,e}function Xc(e,t,n,s){return e=on(22,e,s,t),e.elementType=iv,e.lanes=n,e.stateNode={isHidden:!1},e}function cu(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function du(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z_(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mm(e,t,n,s,i,a,o,l,c){return e=new z_(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=on(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(a),e}function U_(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Qw(e){if(!e)return zs;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Dt(n))return Qv(e,n,t)}return t}function Jw(e,t,n,s,i,a,o,l,c){return e=Mm(n,s,!0,e,i,a,o,l,c),e.context=Qw(null),n=e.current,s=St(),i=Ds(n),a=Xn(s,i),a.callback=t??null,$s(n,a,i),e.current.lanes=i,No(e,i,s),Lt(e,s),e}function Zc(e,t,n,s){var i=t.current,a=St(),o=Ds(i);return n=Qw(n),t.context===null?t.context=n:t.pendingContext=n,t=Xn(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$s(i,t,o),e!==null&&(wn(e,i,o,a),Al(e,i,o)),o}function pc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dm(e,t){sg(e,t),(e=e.alternate)&&sg(e,t)}function H_(){return null}var Xw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lm(e){this._internalRoot=e}ed.prototype.render=Lm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Zc(e,t,null,null)};ed.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Zc(null,e,null,null)}),t[is]=null}};function ed(e){this._internalRoot=e}ed.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cs.length&&t!==0&&t<Cs[n].priority;n++);Cs.splice(n,0,e),n===0&&Av(e)}};function Im(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rg(){}function W_(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=pc(o);a.call(d)}}var o=Jw(t,s,e,0,null,!1,!1,"",rg);return e._reactRootContainer=o,e[is]=o.current,Ja(e.nodeType===8?e.parentNode:e),Nr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=pc(c);l.call(d)}}var c=Mm(e,0,!1,null,null,!1,!1,"",rg);return e._reactRootContainer=c,e[is]=c.current,Ja(e.nodeType===8?e.parentNode:e),Nr(function(){Zc(t,c,n,s)}),c}function nd(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=pc(o);l.call(c)}}Zc(t,o,e,i)}else o=W_(n,t,e,i,s);return pc(o)}Ev=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ya(t.pendingLanes);n!==0&&(sm(t,n|1),Lt(t,Ke()),!(pe&6)&&(_i=Ke()+500,Qs()))}break;case 13:Nr(function(){var s=as(e,1);if(s!==null){var i=St();wn(s,e,1,i)}}),Dm(e,1)}};rm=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var n=St();wn(t,e,134217728,n)}Dm(e,134217728)}};kv=function(e){if(e.tag===13){var t=Ds(e),n=as(e,t);if(n!==null){var s=St();wn(n,e,t,s)}Dm(e,t)}};Tv=function(){return be};Pv=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};xh=function(e,t,n){switch(t){case"input":if(dh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=qc(s);if(!i)throw Error(W(90));ov(s),dh(s,i)}}}break;case"textarea":cv(e,n);break;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}};gv=Am;xv=Nr;var q_={usingClientEntryPoint:!1,Events:[Co,Jr,qc,mv,pv,Am]},ra={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G_={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wv(e),e===null?null:e.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{zc=sl.inject(G_),Rn=sl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q_;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(t))throw Error(W(200));return U_(e,t,null,n)};Qt.createRoot=function(e,t){if(!Im(e))throw Error(W(299));var n=!1,s="",i=Xw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mm(e,1,!1,null,null,n,!1,s,i),e[is]=t.current,Ja(e.nodeType===8?e.parentNode:e),new Lm(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=wv(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Nr(e)};Qt.hydrate=function(e,t,n){if(!td(t))throw Error(W(200));return nd(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!Im(e))throw Error(W(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=Xw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jw(t,null,e,1,n??null,i,!1,a,o),e[is]=t.current,Ja(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ed(t)};Qt.render=function(e,t,n){if(!td(t))throw Error(W(200));return nd(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!td(e))throw Error(W(40));return e._reactRootContainer?(Nr(function(){nd(null,null,e,!1,function(){e._reactRootContainer=null,e[is]=null})}),!0):!1};Qt.unstable_batchedUpdates=Am;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!td(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return nd(e,t,n,!1,s)};Qt.version="18.3.1-next-f1338f8080-20240426";function Zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zw)}catch(e){console.error(e)}}Zw(),Zy.exports=Qt;var Js=Zy.exports;const eb=_r(Js);var ig=Js;sh.createRoot=ig.createRoot,sh.hydrateRoot=ig.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ao.apply(this,arguments)}var Ts;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ts||(Ts={}));const ag="popstate";function K_(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return Qh("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:gc(i)}return Q_(t,n,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y_(){return Math.random().toString(36).substr(2,8)}function og(e,t){return{usr:e.state,key:e.key,idx:t}}function Qh(e,t,n,s){return n===void 0&&(n=null),ao({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fi(t):t,{state:n,key:t&&t.key||s||Y_()})}function gc(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Q_(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=Ts.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ao({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ts.Pop;let w=u(),p=w==null?null:w-d;d=w,c&&c({action:l,location:x.location,delta:p})}function f(w,p){l=Ts.Push;let v=Qh(x.location,w,p);n&&n(v,w),d=u()+1;let b=og(v,d),j=x.createHref(v);try{o.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function g(w,p){l=Ts.Replace;let v=Qh(x.location,w,p);n&&n(v,w),d=u();let b=og(v,d),j=x.createHref(v);o.replaceState(b,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function y(w){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:gc(w);return v=v.replace(/ $/,"%20"),Ue(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let x={get action(){return l},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ag,h),c=w,()=>{i.removeEventListener(ag,h),c=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(w){return o.go(w)}};return x}var lg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lg||(lg={}));function J_(e,t,n){return n===void 0&&(n="/"),X_(e,t,n,!1)}function X_(e,t,n,s){let i=typeof t=="string"?Fi(t):t,a=Ei(i.pathname||"/",n);if(a==null)return null;let o=nb(e);Z_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=dE(a);l=lE(o[c],d,s)}return l}function nb(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Is([s,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(Ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nb(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:aE(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of sb(a.path))i(a,o,c)}),t}function sb(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=sb(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Z_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const eE=/^:[\w-]+$/,tE=3,nE=2,sE=1,rE=10,iE=-2,cg=e=>e==="*";function aE(e,t){let n=e.split("/"),s=n.length;return n.some(cg)&&(s+=iE),t&&(s+=nE),n.filter(i=>!cg(i)).reduce((i,a)=>i+(eE.test(a)?tE:a===""?sE:rE),s)}function oE(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function lE(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=xc({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=xc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Is([a,h.pathname]),pathnameBase:mE(Is([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Is([a,h.pathnameBase]))}return o}function xc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=cE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function cE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function dE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function uE(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Fi(e):e;return{pathname:n?n.startsWith("/")?n:hE(n,t):t,search:pE(s),hash:gE(i)}}function hE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uu(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fm(e,t){let n=fE(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Vm(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Fi(e):(i=ao({},e),Ue(!i.pathname||!i.pathname.includes("?"),uu("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),uu("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),uu("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=uE(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Is=e=>e.join("/").replace(/\/\/+/g,"/"),mE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rb=["post","put","patch","delete"];new Set(rb);const yE=["get",...rb];new Set(yE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oo.apply(this,arguments)}const sd=m.createContext(null),ib=m.createContext(null),ms=m.createContext(null),rd=m.createContext(null),ps=m.createContext({outlet:null,matches:[],isDataRoute:!1}),ab=m.createContext(null);function vE(e,t){let{relative:n}=t===void 0?{}:t;Vi()||Ue(!1);let{basename:s,navigator:i}=m.useContext(ms),{hash:a,pathname:o,search:l}=id(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Is([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Vi(){return m.useContext(rd)!=null}function Xs(){return Vi()||Ue(!1),m.useContext(rd).location}function ob(e){m.useContext(ms).static||m.useLayoutEffect(e)}function Eo(){let{isDataRoute:e}=m.useContext(ps);return e?$E():wE()}function wE(){Vi()||Ue(!1);let e=m.useContext(sd),{basename:t,future:n,navigator:s}=m.useContext(ms),{matches:i}=m.useContext(ps),{pathname:a}=Xs(),o=JSON.stringify(Fm(i,n.v7_relativeSplatPath)),l=m.useRef(!1);return ob(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Vm(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Is([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,a,e])}const bE=m.createContext(null);function jE(e){let t=m.useContext(ps).outlet;return t&&m.createElement(bE.Provider,{value:e},t)}function id(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=m.useContext(ms),{matches:i}=m.useContext(ps),{pathname:a}=Xs(),o=JSON.stringify(Fm(i,s.v7_relativeSplatPath));return m.useMemo(()=>Vm(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function NE(e,t){return SE(e,t)}function SE(e,t,n,s){Vi()||Ue(!1);let{navigator:i}=m.useContext(ms),{matches:a}=m.useContext(ps),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Xs(),u;if(t){var h;let w=typeof t=="string"?Fi(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Ue(!1),u=w}else u=d;let f=u.pathname||"/",g=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=J_(e,{pathname:g}),x=TE(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Is([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Is([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,s);return t&&x?m.createElement(rd.Provider,{value:{location:oo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ts.Pop}},x):x}function CE(){let e=OE(),t=xE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,a)}const _E=m.createElement(CE,null);class EE extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(ps.Provider,{value:this.props.routeContext},m.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kE(e){let{routeContext:t,match:n,children:s}=e,i=m.useContext(sd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ps.Provider,{value:t},s)}function TE(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,y=!1,x=null,w=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||_E,c&&(d<0&&f===0?(ME("route-fallback",!1),y=!0,w=null):d===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),v=()=>{let b;return g?b=x:y?b=w:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(kE,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(EE,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var lb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lb||{}),yc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yc||{});function PE(e){let t=m.useContext(sd);return t||Ue(!1),t}function AE(e){let t=m.useContext(ib);return t||Ue(!1),t}function RE(e){let t=m.useContext(ps);return t||Ue(!1),t}function cb(e){let t=RE(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function OE(){var e;let t=m.useContext(ab),n=AE(yc.UseRouteError),s=cb(yc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function $E(){let{router:e}=PE(lb.UseNavigateStable),t=cb(yc.UseNavigateStable),n=m.useRef(!1);return ob(()=>{n.current=!0}),m.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,oo({fromRouteId:t},a)))},[e,t])}const dg={};function ME(e,t,n){!t&&!dg[e]&&(dg[e]=!0)}function DE(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Jh(e){let{to:t,replace:n,state:s,relative:i}=e;Vi()||Ue(!1);let{future:a,static:o}=m.useContext(ms),{matches:l}=m.useContext(ps),{pathname:c}=Xs(),d=Eo(),u=Vm(t,Fm(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:i}),[d,h,i,n,s]),null}function db(e){return jE(e.context)}function ge(e){Ue(!1)}function LE(e){let{basename:t="/",children:n=null,location:s,navigationType:i=Ts.Pop,navigator:a,static:o=!1,future:l}=e;Vi()&&Ue(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:a,static:o,future:oo({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Fi(s));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:y="default"}=s,x=m.useMemo(()=>{let w=Ei(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:y},navigationType:i}},[c,u,h,f,g,y,i]);return x==null?null:m.createElement(ms.Provider,{value:d},m.createElement(rd.Provider,{children:n,value:x}))}function IE(e){let{children:t,location:n}=e;return NE(Xh(t),n)}new Promise(()=>{});function Xh(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,i)=>{if(!m.isValidElement(s))return;let a=[...t,i];if(s.type===m.Fragment){n.push.apply(n,Xh(s.props.children,a));return}s.type!==ge&&Ue(!1),!s.props.index||!s.props.children||Ue(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Xh(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vc.apply(this,arguments)}function ub(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VE(e,t){return e.button===0&&(!t||t==="_self")&&!FE(e)}const BE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],UE="6";try{window.__reactRouterVersion=UE}catch{}const HE=m.createContext({isTransitioning:!1}),WE="startTransition",ug=Bc[WE];function qE(e){let{basename:t,children:n,future:s,window:i}=e,a=m.useRef();a.current==null&&(a.current=K_({window:i,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=m.useCallback(h=>{d&&ug?ug(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>DE(s),[s]),m.createElement(LE,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ko=m.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=ub(t,BE),{basename:g}=m.useContext(ms),y,x=!1;if(typeof d=="string"&&KE.test(d)&&(y=d,GE))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),S=Ei(j.pathname,g);j.origin===b.origin&&S!=null?d=S+j.search+j.hash:x=!0}catch{}let w=vE(d,{relative:i}),p=JE(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function v(b){s&&s(b),b.defaultPrevented||p(b)}return m.createElement("a",vc({},f,{href:y||w,onClick:x||a?s:v,ref:n,target:c}))}),YE=m.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=ub(t,zE),f=id(c,{relative:h.relative}),g=Xs(),y=m.useContext(ib),{navigator:x,basename:w}=m.useContext(ms),p=y!=null&&XE(f)&&d===!0,v=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,b=g.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(b=b.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&w&&(j=Ei(j,w)||j);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=b===v||!o&&b.startsWith(v)&&b.charAt(S)==="/",N=j!=null&&(j===v||!o&&j.startsWith(v)&&j.charAt(v.length)==="/"),_={isActive:E,isPending:N,isTransitioning:p},R=E?s:void 0,A;typeof a=="function"?A=a(_):A=[a,E?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(_):l;return m.createElement(ko,vc({},h,{"aria-current":R,className:A,ref:n,style:B,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var Zh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zh||(Zh={}));var hg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hg||(hg={}));function QE(e){let t=m.useContext(sd);return t||Ue(!1),t}function JE(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Eo(),d=Xs(),u=id(e,{relative:o});return m.useCallback(h=>{if(VE(h,n)){h.preventDefault();let f=s!==void 0?s:gc(d)===gc(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,s,i,n,e,a,o,l])}function XE(e,t){t===void 0&&(t={});let n=m.useContext(HE);n==null&&Ue(!1);let{basename:s}=QE(Zh.useViewTransitionState),i=id(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ei(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Ei(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xc(i.pathname,o)!=null||xc(i.pathname,a)!=null}var hb={exports:{}},ZE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ek=ZE,tk=ek;function fb(){}function mb(){}mb.resetWarningCache=fb;var nk=function(){function e(s,i,a,o,l,c){if(c!==tk){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mb,resetWarningCache:fb};return n.PropTypes=n,n};hb.exports=nk();var sk=hb.exports;const Le=_r(sk);function rk(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var pb=m,ik=rk(pb);function fg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ak(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ok=!!(typeof window<"u"&&window.document&&window.document.createElement);function lk(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(u){return u.props})),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(u){ak(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,o=[],y};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var y=o.indexOf(this);o.splice(y,1),c()},f.render=function(){return ik.createElement(a,this.props)},h}(pb.PureComponent);return fg(d,"displayName","SideEffect("+s(a)+")"),fg(d,"canUseDOM",ok),d}}var ck=lk;const dk=_r(ck);var uk=typeof Element<"u",hk=typeof Map=="function",fk=typeof Set=="function",mk=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Il(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!Il(e[s],t[s]))return!1;return!0}var a;if(hk&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(s=a.next()).done;)if(!t.has(s.value[0]))return!1;for(a=e.entries();!(s=a.next()).done;)if(!Il(s.value[1],t.get(s.value[0])))return!1;return!0}if(fk&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(s=a.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(mk&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;if(uk&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!((i[s]==="_owner"||i[s]==="__v"||i[s]==="__o")&&e.$$typeof)&&!Il(e[i[s]],t[i[s]]))return!1;return!0}return e!==e&&t!==t}var pk=function(t,n){try{return Il(t,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const gk=_r(pk);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var mg=Object.getOwnPropertySymbols,xk=Object.prototype.hasOwnProperty,yk=Object.prototype.propertyIsEnumerable;function vk(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function wk(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(s.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var bk=wk()?Object.assign:function(e,t){for(var n,s=vk(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)xk.call(n,o)&&(s[o]=n[o]);if(mg){i=mg(n);for(var l=0;l<i.length;l++)yk.call(n,i[l])&&(s[i[l]]=n[i[l]])}}return s};const jk=_r(bk);var xr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ce={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ce).map(function(e){return ce[e]});var Ie={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},wc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Nk=Object.keys(wc).reduce(function(e,t){return e[wc[t]]=t,e},{}),Sk=[ce.NOSCRIPT,ce.SCRIPT,ce.STYLE],yn="data-react-helmet",Ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ek=function(){function e(t,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kk=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pg=function(e,t){var n={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},Tk=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},ef=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Pk=function(t){var n=mi(t,ce.TITLE),s=mi(t,lo.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=mi(t,lo.DEFAULT_TITLE);return n||i||void 0},Ak=function(t){return mi(t,lo.ON_CHANGE_CLIENT_STATE)||function(){}},hu=function(t,n){return n.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,i){return At({},s,i)},{})},Rk=function(t,n){return n.filter(function(s){return typeof s[ce.BASE]<"u"}).map(function(s){return s[ce.BASE]}).reverse().reduce(function(s,i){if(!s.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return s.concat(i)}return s},[])},ia=function(t,n,s){var i={};return s.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&Dk("Helmet: "+t+' should be of type "Array". Instead found type "'+Ck(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(f){for(var g=void 0,y=Object.keys(f),x=0;x<y.length;x++){var w=y[x],p=w.toLowerCase();n.indexOf(p)!==-1&&!(g===Ie.REL&&f[g].toLowerCase()==="canonical")&&!(p===Ie.REL&&f[p].toLowerCase()==="stylesheet")&&(g=p),n.indexOf(w)!==-1&&(w===Ie.INNER_HTML||w===Ie.CSS_TEXT||w===Ie.ITEM_PROP)&&(g=w)}if(!g||!f[g])return!1;var v=f[g].toLowerCase();return i[g]||(i[g]={}),l[g]||(l[g]={}),i[g][v]?!1:(l[g][v]=!0,!0)}).reverse().forEach(function(f){return a.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=jk({},i[u],l[u]);i[u]=h}return a},[]).reverse()},mi=function(t,n){for(var s=t.length-1;s>=0;s--){var i=t[s];if(i.hasOwnProperty(n))return i[n]}return null},Ok=function(t){return{baseTag:Rk([Ie.HREF,Ie.TARGET],t),bodyAttributes:hu(xr.BODY,t),defer:mi(t,lo.DEFER),encode:mi(t,lo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hu(xr.HTML,t),linkTags:ia(ce.LINK,[Ie.REL,Ie.HREF],t),metaTags:ia(ce.META,[Ie.NAME,Ie.CHARSET,Ie.HTTPEQUIV,Ie.PROPERTY,Ie.ITEM_PROP],t),noscriptTags:ia(ce.NOSCRIPT,[Ie.INNER_HTML],t),onChangeClientState:Ak(t),scriptTags:ia(ce.SCRIPT,[Ie.SRC,Ie.INNER_HTML],t),styleTags:ia(ce.STYLE,[Ie.CSS_TEXT],t),title:Pk(t),titleAttributes:hu(xr.TITLE,t)}},tf=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){tf(t)},0)}}(),gg=function(t){return clearTimeout(t)},$k=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||tf:global.requestAnimationFrame||tf,Mk=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||gg:global.cancelAnimationFrame||gg,Dk=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},aa=null,Lk=function(t){aa&&Mk(aa),t.defer?aa=$k(function(){xg(t,function(){aa=null})}):(xg(t),aa=null)},xg=function(t,n){var s=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,f=t.title,g=t.titleAttributes;nf(ce.BODY,i),nf(ce.HTML,a),Ik(f,g);var y={baseTag:Dr(ce.BASE,s),linkTags:Dr(ce.LINK,o),metaTags:Dr(ce.META,l),noscriptTags:Dr(ce.NOSCRIPT,c),scriptTags:Dr(ce.SCRIPT,u),styleTags:Dr(ce.STYLE,h)},x={},w={};Object.keys(y).forEach(function(p){var v=y[p],b=v.newTags,j=v.oldTags;b.length&&(x[p]=b),j.length&&(w[p]=y[p].oldTags)}),n&&n(),d(t,x,w)},gb=function(t){return Array.isArray(t)?t.join(""):t},Ik=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=gb(t)),nf(ce.TITLE,n)},nf=function(t,n){var s=document.getElementsByTagName(t)[0];if(s){for(var i=s.getAttribute(yn),a=i?i.split(","):[],o=[].concat(a),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),a.indexOf(d)===-1&&a.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)s.removeAttribute(o[f]);a.length===o.length?s.removeAttribute(yn):s.getAttribute(yn)!==l.join(",")&&s.setAttribute(yn,l.join(","))}},Dr=function(t,n){var s=document.head||document.querySelector(ce.HEAD),i=s.querySelectorAll(t+"["+yn+"]"),a=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===Ie.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Ie.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(yn,"true"),a.some(function(f,g){return l=g,d.isEqualNode(f)})?a.splice(l,1):o.push(d)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return s.appendChild(c)}),{oldTags:a,newTags:o}},xb=function(t){return Object.keys(t).reduce(function(n,s){var i=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return n?n+" "+i:i},"")},Fk=function(t,n,s,i){var a=xb(s),o=gb(n);return a?"<"+t+" "+yn+'="true" '+a+">"+ef(o,i)+"</"+t+">":"<"+t+" "+yn+'="true">'+ef(o,i)+"</"+t+">"},Vk=function(t,n,s){return n.reduce(function(i,a){var o=Object.keys(a).filter(function(d){return!(d===Ie.INNER_HTML||d===Ie.CSS_TEXT)}).reduce(function(d,u){var h=typeof a[u]>"u"?u:u+'="'+ef(a[u],s)+'"';return d?d+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=Sk.indexOf(t)===-1;return i+"<"+t+" "+yn+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},yb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[wc[i]||i]=t[i],s},n)},Bk=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,i){return s[Nk[i]||i]=t[i],s},n)},zk=function(t,n,s){var i,a=(i={key:n},i[yn]=!0,i),o=yb(s,a);return[Y.createElement(ce.TITLE,o,n)]},Uk=function(t,n){return n.map(function(s,i){var a,o=(a={key:i},a[yn]=!0,a);return Object.keys(s).forEach(function(l){var c=wc[l]||l;if(c===Ie.INNER_HTML||c===Ie.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=s[l]}),Y.createElement(t,o)})},Fn=function(t,n,s){switch(t){case ce.TITLE:return{toComponent:function(){return zk(t,n.title,n.titleAttributes)},toString:function(){return Fk(t,n.title,n.titleAttributes,s)}};case xr.BODY:case xr.HTML:return{toComponent:function(){return yb(n)},toString:function(){return xb(n)}};default:return{toComponent:function(){return Uk(t,n)},toString:function(){return Vk(t,n,s)}}}},vb=function(t){var n=t.baseTag,s=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,f=h===void 0?"":h,g=t.titleAttributes;return{base:Fn(ce.BASE,n,i),bodyAttributes:Fn(xr.BODY,s,i),htmlAttributes:Fn(xr.HTML,a,i),link:Fn(ce.LINK,o,i),meta:Fn(ce.META,l,i),noscript:Fn(ce.NOSCRIPT,c,i),script:Fn(ce.SCRIPT,d,i),style:Fn(ce.STYLE,u,i),title:Fn(ce.TITLE,{title:f,titleAttributes:g},i)}},Hk=function(t){var n,s;return s=n=function(i){kk(a,i);function a(){return _k(this,a),Tk(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!gk(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ce.SCRIPT:case ce.NOSCRIPT:return{innerHTML:c};case ce.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return At({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[At({},h,this.mapNestedChildrenToProps(d,f))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,g=l.nestedChildren;switch(u.type){case ce.TITLE:return At({},h,(c={},c[u.type]=g,c.titleAttributes=At({},f),c));case ce.BODY:return At({},h,{bodyAttributes:At({},f)});case ce.HTML:return At({},h,{htmlAttributes:At({},f)})}return At({},h,(d={},d[u.type]=At({},f),d))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=At({},c);return Object.keys(l).forEach(function(u){var h;d=At({},d,(h={},h[u]=l[u],h))}),d},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Y.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,g=f.children,y=pg(f,["children"]),x=Bk(y);switch(d.warnOnInvalidChildren(h,g),h.type){case ce.LINK:case ce.META:case ce.NOSCRIPT:case ce.SCRIPT:case ce.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:x,nestedChildren:g});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},a.prototype.render=function(){var l=this.props,c=l.children,d=pg(l,["children"]),u=At({},d);return c&&(u=this.mapChildrenToProps(c,u)),Y.createElement(t,u)},Ek(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(Y.Component),n.propTypes={base:Le.object,bodyAttributes:Le.object,children:Le.oneOfType([Le.arrayOf(Le.node),Le.node]),defaultTitle:Le.string,defer:Le.bool,encodeSpecialCharacters:Le.bool,htmlAttributes:Le.object,link:Le.arrayOf(Le.object),meta:Le.arrayOf(Le.object),noscript:Le.arrayOf(Le.object),onChangeClientState:Le.func,script:Le.arrayOf(Le.object),style:Le.arrayOf(Le.object),title:Le.string,titleAttributes:Le.object,titleTemplate:Le.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=vb({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},s},Wk=function(){return null},qk=dk(Ok,Lk,vb)(Wk),co=Hk(qk);co.renderStatic=co.rewind;function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function yg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wb(...e){return t=>{let n=!1;const s=e.map(i=>{const a=yg(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():yg(e[i],null)}}}}function It(...e){return m.useCallback(wb(...e),e)}function Gk(e,t){const n=m.createContext(t),s=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function i(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Tr(e,t=[]){let n=[];function s(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=h=>{var p;const{scope:f,children:g,...y}=h,x=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,w=m.useMemo(()=>y,Object.values(y));return r.jsx(x.Provider,{value:w,children:g})};d.displayName=a+"Provider";function u(h,f){var x;const g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,y=m.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,Kk(i,...t)]}function Kk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function uo(e){const t=Qk(e),n=m.forwardRef((s,i)=>{const{children:a,...o}=s,l=m.Children.toArray(a),c=l.find(Xk);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:i,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Yk=uo("Slot");function Qk(e){const t=m.forwardRef((n,s)=>{const{children:i,...a}=n;if(m.isValidElement(i)){const o=e4(i),l=Zk(a,i.props);return i.type!==m.Fragment&&(l.ref=s?wb(s,o):o),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jk=Symbol("radix.slottable");function Xk(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jk}function Zk(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function e4(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bb(e){const t=e+"CollectionProvider",[n,s]=Tr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:p}=x,v=Y.useRef(null),b=Y.useRef(new Map).current;return r.jsx(i,{scope:w,itemMap:b,collectionRef:v,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=uo(l),d=Y.forwardRef((x,w)=>{const{scope:p,children:v}=x,b=a(l,p),j=It(w,b.collectionRef);return r.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=uo(u),g=Y.forwardRef((x,w)=>{const{scope:p,children:v,...b}=x,j=Y.useRef(null),S=It(w,j),E=a(u,p);return Y.useEffect(()=>(E.itemMap.set(j,{ref:j,...b}),()=>void E.itemMap.delete(j))),r.jsx(f,{[h]:"",ref:S,children:v})});g.displayName=u;function y(x){const w=a(e+"CollectionConsumer",x);return Y.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((E,N)=>b.indexOf(E.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},y,s]}var t4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=t4.reduce((e,t)=>{const n=uo(`Primitive.${t}`),s=m.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jb(e,t){e&&Js.flushSync(()=>e.dispatchEvent(t))}function jn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function n4(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var s4="DismissableLayer",sf="dismissableLayer.update",r4="dismissableLayer.pointerDownOutside",i4="dismissableLayer.focusOutside",vg,Nb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bm=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(Nb),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),y=It(t,N=>h(N)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(w),v=u?x.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=p,S=o4(N=>{const _=N.target,R=[...d.branches].some(A=>A.contains(_));!j||R||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),E=l4(N=>{const _=N.target;[...d.branches].some(A=>A.contains(_))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return n4(N=>{v===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(vg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),wg(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=vg)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),wg())},[u,d]),m.useEffect(()=>{const N=()=>g({});return document.addEventListener(sf,N),()=>document.removeEventListener(sf,N)},[]),r.jsx(Ce.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,E.onFocusCapture),onBlurCapture:je(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,S.onPointerDownCapture)})});Bm.displayName=s4;var a4="DismissableLayerBranch",Sb=m.forwardRef((e,t)=>{const n=m.useContext(Nb),s=m.useRef(null),i=It(t,s);return m.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(Ce.div,{...e,ref:i})});Sb.displayName=a4;function o4(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){Cb(r4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function l4(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),s=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!s.current&&Cb(i4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function wg(){const e=new CustomEvent(sf);document.dispatchEvent(e)}function Cb(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jb(i,a):i.dispatchEvent(a)}var c4=Bm,d4=Sb,Dn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},u4="Portal",zm=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,a]=m.useState(!1);Dn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eb.createPortal(r.jsx(Ce.div,{...s,ref:t}),o):null});zm.displayName=u4;function h4(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Bi=e=>{const{present:t,children:n}=e,s=f4(t),i=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),a=It(s.ref,m4(i));return typeof n=="function"||s.isPresent?m.cloneElement(i,{ref:a}):null};Bi.displayName="Presence";function f4(e){const[t,n]=m.useState(),s=m.useRef(null),i=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=h4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=rl(s.current);a.current=l==="mounted"?d:"none"},[l]),Dn(()=>{const d=s.current,u=i.current;if(u!==e){const f=a.current,g=rl(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Dn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=g=>{const x=rl(s.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=g=>{g.target===t&&(a.current=rl(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function rl(e){return(e==null?void 0:e.animationName)||"none"}function m4(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var p4=Bc[" useInsertionEffect ".trim().toString()]||Dn;function To({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=g4({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=m.useCallback(u=>{var h;if(l){const f=x4(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else a(u)},[l,e,a,o]);return[c,d]}function g4({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),i=m.useRef(n),a=m.useRef(t);return p4(()=>{a.current=t},[t]),m.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,s,a]}function x4(e){return typeof e=="function"}var y4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v4="VisuallyHidden",Um=m.forwardRef((e,t)=>r.jsx(Ce.span,{...e,ref:t,style:{...y4,...e.style}}));Um.displayName=v4;var Hm="ToastProvider",[Wm,w4,b4]=bb("Toast"),[_b,c8]=Tr("Toast",[b4]),[j4,ad]=_b(Hm),Eb=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hm}\`. Expected non-empty \`string\`.`),r.jsx(Wm.Provider,{scope:t,children:r.jsx(j4,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Eb.displayName=Hm;var kb="ToastViewport",N4=["F8"],rf="toast.viewportPause",af="toast.viewportResume",Tb=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=N4,label:i="Notifications ({hotkey})",...a}=e,o=ad(kb,n),l=w4(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=It(t,h,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;m.useEffect(()=>{const w=p=>{var b;s.length!==0&&s.every(j=>p[j]||p.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),m.useEffect(()=>{const w=c.current,p=h.current;if(y&&w&&p){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(rf);p.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(af);p.dispatchEvent(E),o.isClosePausedRef.current=!1}},j=E=>{!w.contains(E.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,S=[j,...D4(j)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const w=h.current;if(w){const p=v=>{var S,E,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const _=document.activeElement,R=v.shiftKey;if(v.target===w&&R){(S=d.current)==null||S.focus();return}const k=x({tabbingDirection:R?"backwards":"forwards"}),L=k.findIndex(D=>D===_);fu(k.slice(L+1))?v.preventDefault():R?(E=d.current)==null||E.focus():(N=u.current)==null||N.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,x]),r.jsxs(d4,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&r.jsx(of,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});fu(w)}}),r.jsx(Wm.Slot,{scope:n,children:r.jsx(Ce.ol,{tabIndex:-1,...a,ref:f})}),y&&r.jsx(of,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});fu(w)}})]})});Tb.displayName=kb;var Pb="ToastFocusProxy",of=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,a=ad(Pb,n);return r.jsx(Um,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&s()}})});of.displayName=Pb;var Po="Toast",S4="toast.swipeStart",C4="toast.swipeMove",_4="toast.swipeCancel",E4="toast.swipeEnd",Ab=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=To({prop:s,defaultProp:i??!0,onChange:a,caller:Po});return r.jsx(Bi,{present:n||l,children:r.jsx(P4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:jn(e.onPause),onResume:jn(e.onResume),onSwipeStart:je(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:je(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Ab.displayName=Po;var[k4,T4]=_b(Po,{onClose(){}}),P4=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...y}=e,x=ad(Po,n),[w,p]=m.useState(null),v=It(t,D=>p(D)),b=m.useRef(null),j=m.useRef(null),S=i||x.duration,E=m.useRef(0),N=m.useRef(S),_=m.useRef(0),{onToastAdd:R,onToastRemove:A}=x,B=jn(()=>{var T;(w==null?void 0:w.contains(document.activeElement))&&((T=x.viewport)==null||T.focus()),o()}),k=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(_.current),E.current=new Date().getTime(),_.current=window.setTimeout(B,D))},[B]);m.useEffect(()=>{const D=x.viewport;if(D){const T=()=>{k(N.current),d==null||d()},C=()=>{const O=new Date().getTime()-E.current;N.current=N.current-O,window.clearTimeout(_.current),c==null||c()};return D.addEventListener(rf,C),D.addEventListener(af,T),()=>{D.removeEventListener(rf,C),D.removeEventListener(af,T)}}},[x.viewport,S,c,d,k]),m.useEffect(()=>{a&&!x.isClosePausedRef.current&&k(S)},[a,S,x.isClosePausedRef,k]),m.useEffect(()=>(R(),()=>A()),[R,A]);const L=m.useMemo(()=>w?Ib(w):null,[w]);return x.viewport?r.jsxs(r.Fragment,{children:[L&&r.jsx(A4,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),r.jsx(k4,{scope:n,onClose:B,children:Js.createPortal(r.jsx(Wm.ItemSlot,{scope:n,children:r.jsx(c4,{asChild:!0,onEscapeKeyDown:je(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||B(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:je(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:je(e.onPointerMove,D=>{if(!b.current)return;const T=D.clientX-b.current.x,C=D.clientY-b.current.y,O=!!j.current,P=["left","right"].includes(x.swipeDirection),M=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,F=P?M(0,T):0,J=P?0:M(0,C),re=D.pointerType==="touch"?10:2,fe={x:F,y:J},le={originalEvent:D,delta:fe};O?(j.current=fe,il(C4,h,le,{discrete:!1})):bg(fe,x.swipeDirection,re)?(j.current=fe,il(S4,u,le,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(T)>re||Math.abs(C)>re)&&(b.current=null)}),onPointerUp:je(e.onPointerUp,D=>{const T=j.current,C=D.target;if(C.hasPointerCapture(D.pointerId)&&C.releasePointerCapture(D.pointerId),j.current=null,b.current=null,T){const O=D.currentTarget,P={originalEvent:D,delta:T};bg(T,x.swipeDirection,x.swipeThreshold)?il(E4,g,P,{discrete:!0}):il(_4,f,P,{discrete:!0}),O.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),A4=e=>{const{__scopeToast:t,children:n,...s}=e,i=ad(Po,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return $4(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(zm,{asChild:!0,children:r.jsx(Um,{...s,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},R4="ToastTitle",Rb=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ce.div,{...s,ref:t})});Rb.displayName=R4;var O4="ToastDescription",Ob=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Ce.div,{...s,ref:t})});Ob.displayName=O4;var $b="ToastAction",Mb=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(Lb,{altText:n,asChild:!0,children:r.jsx(qm,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$b}\`. Expected non-empty \`string\`.`),null)});Mb.displayName=$b;var Db="ToastClose",qm=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=T4(Db,n);return r.jsx(Lb,{asChild:!0,children:r.jsx(Ce.button,{type:"button",...s,ref:t,onClick:je(e.onClick,i.onClose)})})});qm.displayName=Db;var Lb=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function Ib(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),M4(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Ib(s))}}),t}function il(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?jb(i,a):i.dispatchEvent(a)}var bg=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),a=s>i;return t==="left"||t==="right"?a&&s>n:!a&&i>n};function $4(e=()=>{}){const t=jn(e);Dn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function M4(e){return e.nodeType===e.ELEMENT_NODE}function D4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var L4=Eb,Fb=Tb,Vb=Ab,Bb=Rb,zb=Ob,Ub=Mb,Hb=qm;function Wb(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Wb(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function qb(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Wb(e))&&(s&&(s+=" "),s+=t);return s}const jg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ng=qb,od=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Ng(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=n==null?void 0:n[d],h=a==null?void 0:a[d];if(u===null)return null;const f=jg(u)||jg(h);return i[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...a,...l}[x]):{...a,...l}[x]===w})?[...d,h,f]:d},[]);return Ng(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var I4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I=(e,t)=>{const n=m.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},d)=>m.createElement("svg",{ref:d,...I4,width:i,height:i,stroke:s,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${F4(e)}`,...c},[...t.map(([u,h])=>m.createElement(u,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Gb=I("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),pi=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),dt=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gm=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Wr=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),V4=I("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Zn=I("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Sg=I("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),B4=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Km=I("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Cg=I("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),gi=I("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),ld=I("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),z4=I("CalendarCheck2",[["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),bc=I("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),U4=I("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]),Us=I("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Aa=I("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),H4=I("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tt=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),W4=I("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),q4=I("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Kb=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),G4=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mu=I("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),zi=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),cd=I("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),K4=I("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Y4=I("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Yb=I("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_g=I("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),ki=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Q4=I("FileArchive",[["path",{d:"M4 22V4c0-.5.2-1 .6-1.4C5 2.2 5.5 2 6 2h8.5L20 7.5V20c0 .5-.2 1-.6 1.4-.4.4-.9.6-1.4.6h-2",key:"1u864v"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]),Ym=I("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Eg=I("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),et=I("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),J4=I("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Qb=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),pu=I("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),X4=I("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Z4=I("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),lf=I("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),xn=I("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),eT=I("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Jb=I("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]),tT=I("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),nT=I("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Xb=I("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),sT=I("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Zb=I("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),rT=I("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),kg=I("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),e1=I("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),t1=I("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),lt=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),iT=I("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]),aT=I("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),oT=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),n1=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),es=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),lT=I("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),cT=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),s1=I("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Qm=I("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),dT=I("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Tg=I("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),uT=I("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),yr=I("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),Fl=I("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]),r1=I("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),hT=I("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Nn=I("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),fT=I("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),Jm=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),i1=I("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),mT=I("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ut=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Pg=I("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),pT=I("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),gT=I("RadioTower",[["path",{d:"M4.9 16.1C1 12.2 1 5.8 4.9 1.9",key:"s0qx1y"}],["path",{d:"M7.8 4.7a6.14 6.14 0 0 0-.8 7.5",key:"1idnkw"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}],["path",{d:"M16.2 4.8c2 2 2.26 5.11.8 7.47",key:"ojru2q"}],["path",{d:"M19.1 1.9a9.96 9.96 0 0 1 0 14.1",key:"rhi7fg"}],["path",{d:"M9.5 18h5",key:"mfy3pd"}],["path",{d:"m8 22 4-11 4 11",key:"25yftu"}]]),Ag=I("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),Sn=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),_t=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xT=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ti=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yT=I("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),vT=I("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),a1=I("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),xi=I("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ts=I("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),wT=I("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),o1=I("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),bT=I("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ho=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),jT=I("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),NT=I("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),l1=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),jc=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ST=I("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),gu=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Nc=I("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),c1=I("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Xm=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Re=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xu=I("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),CT=I("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Xt=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cf=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _T(){for(var e=0,t,n,s="";e<arguments.length;)(t=arguments[e++])&&(n=d1(t))&&(s&&(s+=" "),s+=n);return s}function d1(e){if(typeof e=="string")return e;for(var t,n="",s=0;s<e.length;s++)e[s]&&(t=d1(e[s]))&&(n&&(n+=" "),n+=t);return n}var Zm="-";function ET(e){var t=TT(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,i=s===void 0?{}:s;function a(l){var c=l.split(Zm);return c[0]===""&&c.length!==1&&c.shift(),u1(c,t)||kT(l)}function o(l,c){var d=n[l]||[];return c&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function u1(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],s=t.nextPart.get(n),i=s?u1(e.slice(1),s):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(Zm);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var Rg=/^\[(.+)\]$/;function kT(e){if(Rg.test(e)){var t=Rg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function TT(e){var t=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},i=AT(Object.entries(e.classGroups),n);return i.forEach(function(a){var o=a[0],l=a[1];df(l,s,o,t)}),s}function df(e,t,n,s){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:Og(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(PT(i)){df(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];df(c,Og(t,l),n,s)})})}function Og(e,t){var n=e;return t.split(Zm).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function PT(e){return e.isThemeGetter}function AT(e,t){return t?e.map(function(n){var s=n[0],i=n[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):o});return[s,a]}):e}function RT(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,s=new Map;function i(a,o){n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var h1="!";function OT(e){var t=e.separator||":",n=t.length===1,s=t[0],i=t.length;return function(o){for(var l=[],c=0,d=0,u,h=0;h<o.length;h++){var f=o[h];if(c===0){if(f===s&&(n||o.slice(h,h+i)===t)){l.push(o.slice(d,h)),d=h+i;continue}if(f==="/"){u=h;continue}}f==="["?c++:f==="]"&&c--}var g=l.length===0?o:o.substring(d),y=g.startsWith(h1),x=y?g.substring(1):g,w=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:w}}}function $T(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(s){var i=s[0]==="[";i?(t.push.apply(t,n.sort().concat([s])),n=[]):n.push(s)}),t.push.apply(t,n.sort()),t}function MT(e){return{cache:RT(e.cacheSize),splitModifiers:OT(e),...ET(e)}}var DT=/\s+/;function LT(e,t){var n=t.splitModifiers,s=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(DT).map(function(o){var l=n(o),c=l.modifiers,d=l.hasImportantModifier,u=l.baseClassName,h=l.maybePostfixModifierPosition,f=s(h?u.substring(0,h):u),g=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=s(u),!f)return{isTailwindClass:!1,originalClassName:o};g=!1}var y=$T(c).join(":"),x=d?y+h1:y;return{isTailwindClass:!0,modifierId:x,classGroupId:f,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,u=l+c;return a.has(u)?!1:(a.add(u),i(c,d).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function IT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s,i,a,o=l;function l(d){var u=t[0],h=t.slice(1),f=h.reduce(function(g,y){return y(g)},u());return s=MT(f),i=s.cache.get,a=s.cache.set,o=c,c(d)}function c(d){var u=i(d);if(u)return u;var h=LT(d,s);return a(d,h),h}return function(){return o(_T.apply(null,arguments))}}function $e(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var f1=/^\[(?:([a-z-]+):)?(.+)\]$/i,FT=/^\d+\/\d+$/,VT=new Set(["px","full","screen"]),BT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UT=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function hn(e){return fr(e)||VT.has(e)||FT.test(e)||uf(e)}function uf(e){return Pr(e,"length",YT)}function HT(e){return Pr(e,"size",m1)}function WT(e){return Pr(e,"position",m1)}function qT(e){return Pr(e,"url",QT)}function al(e){return Pr(e,"number",fr)}function fr(e){return!Number.isNaN(Number(e))}function GT(e){return e.endsWith("%")&&fr(e.slice(0,-1))}function oa(e){return $g(e)||Pr(e,"number",$g)}function he(e){return f1.test(e)}function la(){return!0}function xs(e){return BT.test(e)}function KT(e){return Pr(e,"",JT)}function Pr(e,t,n){var s=f1.exec(e);return s?s[1]?s[1]===t:n(s[2]):!1}function YT(e){return zT.test(e)}function m1(){return!1}function QT(e){return e.startsWith("url(")}function $g(e){return Number.isInteger(Number(e))}function JT(e){return UT.test(e)}function XT(){var e=$e("colors"),t=$e("spacing"),n=$e("blur"),s=$e("brightness"),i=$e("borderColor"),a=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),d=$e("grayscale"),u=$e("hueRotate"),h=$e("invert"),f=$e("gap"),g=$e("gradientColorStops"),y=$e("gradientColorStopPositions"),x=$e("inset"),w=$e("margin"),p=$e("opacity"),v=$e("padding"),b=$e("saturate"),j=$e("scale"),S=$e("sepia"),E=$e("skew"),N=$e("space"),_=$e("translate"),R=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},B=function(){return["auto",he,t]},k=function(){return[he,t]},L=function(){return["",hn]},D=function(){return["auto",fr,he]},T=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},C=function(){return["solid","dashed","dotted","double","none"]},O=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},M=function(){return["","0",he]},F=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},J=function(){return[fr,al]},re=function(){return[fr,he]};return{cacheSize:500,theme:{colors:[la],spacing:[hn],blur:["none","",xs,he],brightness:J(),borderColor:[e],borderRadius:["none","","full",xs,he],borderSpacing:k(),borderWidth:L(),contrast:J(),grayscale:M(),hueRotate:re(),invert:M(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[GT,uf],inset:B(),margin:B(),opacity:J(),padding:k(),saturate:J(),scale:J(),sepia:M(),skew:re(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[xs]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(T(),[he])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oa]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",oa]}],"grid-cols":[{"grid-cols":[la]}],"col-start-end":[{col:["auto",{span:["full",oa]},he]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[la]}],"row-start-end":[{row:["auto",{span:[oa]},he]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",he,t]}],"min-w":[{"min-w":["min","max","fit",he,hn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[xs]},xs,he]}],h:[{h:[he,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",he,hn]}],"max-h":[{"max-h":[he,t,"min","max","fit"]}],"font-size":[{text:["base",xs,uf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",al]}],"font-family":[{font:[la]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",fr,al]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",he,hn]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(C(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",hn]}],"underline-offset":[{"underline-offset":["auto",he,hn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(T(),[WT])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat(C(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:C()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(C())}],"outline-offset":[{"outline-offset":[he,hn]}],"outline-w":[{outline:[hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xs,KT]}],"shadow-color":[{shadow:[la]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xs,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oa,he]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hn,al]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ZT=IT(XT);function se(...e){return ZT(qb(e))}const eP=L4,p1=Y.forwardRef(({className:e,...t},n)=>r.jsx(Fb,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));p1.displayName=Fb.displayName;const tP=od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g1=Y.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(Vb,{ref:s,className:se(tP({variant:t}),e),...n}));g1.displayName=Vb.displayName;const nP=Y.forwardRef(({className:e,...t},n)=>r.jsx(Ub,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nP.displayName=Ub.displayName;const x1=Y.forwardRef(({className:e,...t},n)=>r.jsx(Hb,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Xt,{className:"h-4 w-4"})}));x1.displayName=Hb.displayName;const y1=Y.forwardRef(({className:e,...t},n)=>r.jsx(Bb,{ref:n,className:se("text-sm font-semibold",e),...t}));y1.displayName=Bb.displayName;const v1=Y.forwardRef(({className:e,...t},n)=>r.jsx(zb,{ref:n,className:se("text-sm opacity-90",e),...t}));v1.displayName=zb.displayName;const sP=3,rP=1e6,Qn={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let yu=0;function iP(){return yu=(yu+1)%Number.MAX_SAFE_INTEGER,yu.toString()}const vu=new Map,Mg=e=>{if(vu.has(e))return;const t=setTimeout(()=>{vu.delete(e),Ra({type:Qn.REMOVE_TOAST,toastId:e})},rP);vu.set(e,t)},aP=(e,t)=>{switch(t.type){case Qn.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,sP)};case Qn.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case Qn.DISMISS_TOAST:{const{toastId:n}=t;return n?Mg(n):e.toasts.forEach(s=>{Mg(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case Qn.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)};default:return e}},Vl=[];let Bl={toasts:[]};function Ra(e){Bl=aP(Bl,e),Vl.forEach(t=>{t(Bl)})}function oP(e){const t=iP(),n=i=>Ra({type:Qn.UPDATE_TOAST,toast:{...i,id:t}}),s=()=>Ra({type:Qn.DISMISS_TOAST,toastId:t});return Ra({type:Qn.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function oe(){const[e,t]=Y.useState(Bl);return Y.useEffect(()=>(Vl.push(t),()=>{const n=Vl.indexOf(t);n>-1&&Vl.splice(n,1)}),[e]),{...e,toast:oP,dismiss:n=>Ra({type:Qn.DISMISS_TOAST,toastId:n})}}function lP(){const{toasts:e}=oe();return r.jsxs(eP,{children:[e.map(function({id:t,title:n,description:s,action:i,...a}){return r.jsxs(g1,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(y1,{children:n}),s&&r.jsx(v1,{children:s})]}),i,r.jsx(x1,{})]},t)}),r.jsx(p1,{})]})}const w1=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dd=m.createContext({}),ud=m.createContext(null),hd=typeof document<"u",ep=hd?m.useLayoutEffect:m.useEffect,b1=m.createContext({strict:!1}),tp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cP="framerAppearId",j1="data-"+tp(cP);function dP(e,t,n,s){const{visualElement:i}=m.useContext(dd),a=m.useContext(b1),o=m.useContext(ud),l=m.useContext(w1).reducedMotion,c=m.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;m.useInsertionEffect(()=>{d&&d.update(n,o)});const u=m.useRef(!!(n[j1]&&!window.HandoffComplete));return ep(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function ri(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uP(e,t,n){return m.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ri(n)&&(n.current=s))},[t])}function fo(e){return typeof e=="string"||Array.isArray(e)}function fd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const np=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sp=["initial",...np];function md(e){return fd(e.animate)||sp.some(t=>fo(e[t]))}function N1(e){return!!(md(e)||e.variants)}function hP(e,t){if(md(e)){const{initial:n,animate:s}=e;return{initial:n===!1||fo(n)?n:void 0,animate:fo(s)?s:void 0}}return e.inherit!==!1?t:{}}function fP(e){const{initial:t,animate:n}=hP(e,m.useContext(dd));return m.useMemo(()=>({initial:t,animate:n}),[Dg(t),Dg(n)])}function Dg(e){return Array.isArray(e)?e.join(" "):e}const Lg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mo={};for(const e in Lg)mo[e]={isEnabled:t=>Lg[e].some(n=>!!t[n])};function mP(e){for(const t in e)mo[t]={...mo[t],...e[t]}}const rp=m.createContext({}),S1=m.createContext({}),pP=Symbol.for("motionComponentSymbol");function gP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&mP(e);function a(l,c){let d;const u={...m.useContext(w1),...l,layoutId:xP(l)},{isStatic:h}=u,f=fP(l),g=s(l,h);if(!h&&hd){f.visualElement=dP(i,g,u,t);const y=m.useContext(S1),x=m.useContext(b1).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,x,e,y))}return m.createElement(dd.Provider,{value:f},d&&f.visualElement?m.createElement(d,{visualElement:f.visualElement,...u}):null,n(i,l,uP(g,f.visualElement,c),g,h,f.visualElement))}const o=m.forwardRef(a);return o[pP]=i,o}function xP({layoutId:e}){const t=m.useContext(rp).id;return t&&e!==void 0?t+"-"+e:e}function yP(e){function t(s,i={}){return gP(e(s,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const vP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ip(e){return typeof e!="string"||e.includes("-")?!1:!!(vP.indexOf(e)>-1||/[A-Z]/.test(e))}const Sc={};function wP(e){Object.assign(Sc,e)}const Ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ar=new Set(Ao);function C1(e,{layout:t,layoutId:n}){return Ar.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sc[e]||e==="opacity")}const Ft=e=>!!(e&&e.getVelocity),bP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jP=Ao.length;function NP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,i){let a="";for(let o=0;o<jP;o++){const l=Ao[o];if(e[l]!==void 0){const c=bP[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,s?"":a):n&&s&&(a="none"),a}const _1=e=>t=>typeof t=="string"&&t.startsWith(e),E1=_1("--"),hf=_1("var(--"),SP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,CP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hs=(e,t,n)=>Math.min(Math.max(n,e),t),Rr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oa={...Rr,transform:e=>Hs(0,1,e)},ol={...Rr,default:1},$a=e=>Math.round(e*1e5)/1e5,pd=/(-)?([\d]*\.?[\d])+/g,k1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_P=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ro(e){return typeof e=="string"}const Oo=e=>({test:t=>Ro(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vs=Oo("deg"),$n=Oo("%"),te=Oo("px"),EP=Oo("vh"),kP=Oo("vw"),Ig={...$n,parse:e=>$n.parse(e)/100,transform:e=>$n.transform(e*100)},Fg={...Rr,transform:Math.round},T1={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:ol,scaleX:ol,scaleY:ol,scaleZ:ol,skew:vs,skewX:vs,skewY:vs,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Oa,originX:Ig,originY:Ig,originZ:te,zIndex:Fg,fillOpacity:Oa,strokeOpacity:Oa,numOctaves:Fg};function ap(e,t,n,s){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const f=t[h];if(E1(h)){a[h]=f;continue}const g=T1[h],y=CP(f,g);if(Ar.has(h)){if(c=!0,o[h]=y,!u)continue;f!==(g.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=y):i[h]=y}if(t.transform||(c||s?i.transform=NP(e.transform,n,u,s):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${f} ${g}`}}const op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P1(e,t,n){for(const s in t)!Ft(t[s])&&!C1(s,n)&&(e[s]=t[s])}function TP({transformTemplate:e},t,n){return m.useMemo(()=>{const s=op();return ap(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function PP(e,t,n){const s=e.style||{},i={};return P1(i,s,e),Object.assign(i,TP(e,t,n)),e.transformValues?e.transformValues(i):i}function AP(e,t,n){const s={},i=PP(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const RP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RP.has(e)}let A1=e=>!Cc(e);function OP(e){e&&(A1=t=>t.startsWith("on")?!Cc(t):e(t))}try{OP(require("@emotion/is-prop-valid").default)}catch{}function $P(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(A1(i)||n===!0&&Cc(i)||!t&&!Cc(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function Vg(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function MP(e,t,n){const s=Vg(t,e.x,e.width),i=Vg(n,e.y,e.height);return`${s} ${i}`}const DP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function IP(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?DP:LP;e[a.offset]=te.transform(-s);const o=te.transform(t),l=te.transform(n);e[a.array]=`${o} ${l}`}function lp(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,f){if(ap(e,d,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y,dimensions:x}=e;g.transform&&(x&&(y.transform=g.transform),delete g.transform),x&&(i!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=MP(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&IP(g,o,l,c,!1)}const R1=()=>({...op(),attrs:{}}),cp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FP(e,t,n,s){const i=m.useMemo(()=>{const a=R1();return lp(a,t,{enableHardwareAcceleration:!1},cp(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};P1(a,e.style,e),i.style={...a,...i.style}}return i}function VP(e=!1){return(n,s,i,{latestValues:a},o)=>{const c=(ip(n)?FP:AP)(s,a,o,n),u={...$P(s,typeof n=="string",e),...c,ref:i},{children:h}=s,f=m.useMemo(()=>Ft(h)?h.get():h,[h]);return m.createElement(n,{...u,children:f})}}function O1(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const $1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M1(e,t,n,s){O1(e,t,void 0,s);for(const i in t.attrs)e.setAttribute($1.has(i)?i:tp(i),t.attrs[i])}function dp(e,t){const{style:n}=e,s={};for(const i in n)(Ft(n[i])||t.style&&Ft(t.style[i])||C1(i,e))&&(s[i]=n[i]);return s}function D1(e,t){const n=dp(e,t);for(const s in e)if(Ft(e[s])||Ft(t[s])){const i=Ao.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function up(e,t,n,s={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),t}function L1(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const _c=e=>Array.isArray(e),BP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zP=e=>_c(e)?e[e.length-1]||0:e;function zl(e){const t=Ft(e)?e.get():e;return BP(t)?t.toValue():t}function UP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,i,a){const o={latestValues:HP(s,i,a,e),renderState:t()};return n&&(o.mount=l=>n(s,l,o)),o}const I1=e=>(t,n)=>{const s=m.useContext(dd),i=m.useContext(ud),a=()=>UP(e,t,s,i);return n?a():L1(a)};function HP(e,t,n,s){const i={},a=s(e,{});for(const f in a)i[f]=zl(a[f]);let{initial:o,animate:l}=e;const c=md(e),d=N1(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!fd(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const y=up(e,g);if(!y)return;const{transitionEnd:x,transition:w,...p}=y;for(const v in p){let b=p[v];if(Array.isArray(b)){const j=u?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in x)i[v]=x[v]}),i}const Ge=e=>e;class Bg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function WP(e){let t=new Bg,n=new Bg,s=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&i,f=h?t:n;return d&&o.add(c),f.add(c)&&h&&i&&(s=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const ll=["prepare","read","update","preRender","render","postRender"],qP=40;function GP(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=ll.reduce((h,f)=>(h[f]=WP(()=>n=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(h-i.timestamp,qP),1),i.timestamp=h,i.isProcessing=!0,ll.forEach(o),i.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,i.isProcessing||e(l)};return{schedule:ll.reduce((h,f)=>{const g=a[f];return h[f]=(y,x=!1,w=!1)=>(n||c(),g.schedule(y,x,w)),h},{}),cancel:h=>ll.forEach(f=>a[f].cancel(h)),state:i,steps:a}}const{schedule:Oe,cancel:ls,state:mt,steps:wu}=GP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),KP={useVisualState:I1({scrapeMotionValuesFromProps:D1,createRenderState:R1,onMount:(e,t,{renderState:n,latestValues:s})=>{Oe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{lp(n,s,{enableHardwareAcceleration:!1},cp(t.tagName),e.transformTemplate),M1(t,n)})}})},YP={useVisualState:I1({scrapeMotionValuesFromProps:dp,createRenderState:op})};function QP(e,{forwardMotionProps:t=!1},n,s){return{...ip(e)?KP:YP,preloadedFeatures:n,useRender:VP(t),createVisualElement:s,Component:e}}function Jn(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const F1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const JP=e=>t=>F1(t)&&e(t,gd(t));function ns(e,t,n,s){return Jn(e,t,JP(n),s)}const XP=(e,t)=>n=>t(e(n)),Fs=(...e)=>e.reduce(XP);function V1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const zg=V1("dragHorizontal"),Ug=V1("dragVertical");function B1(e){let t=!1;if(e==="y")t=Ug();else if(e==="x")t=zg();else{const n=zg(),s=Ug();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function z1(){const e=B1(!0);return e?(e(),!1):!0}class Zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Hg(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||z1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&Oe.update(()=>l[s](a,o))};return ns(e.current,n,i,{passive:!e.getProps()[s]})}class ZP extends Zs{mount(){this.unmount=Fs(Hg(this.node,!0),Hg(this.node,!1))}unmount(){}}class eA extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fs(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const U1=(e,t)=>t?e===t?!0:U1(e,t.parentElement):!1;function bu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gd(n))}class tA extends Zs{constructor(){super(...arguments),this.removeStartListeners=Ge,this.removeEndListeners=Ge,this.removeAccessibleListeners=Ge,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=ns(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();Oe.update(()=>{!h&&!U1(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=ns(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Fs(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||bu("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&Oe.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",o),bu("down",(l,c)=>{this.startPress(l,c)})},n=Jn(this.node.current,"keydown",t),s=()=>{this.isPressing&&bu("cancel",(a,o)=>this.cancelPress(a,o))},i=Jn(this.node.current,"blur",s);this.removeAccessibleListeners=Fs(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Oe.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!z1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Oe.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=ns(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fs(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ff=new WeakMap,ju=new WeakMap,nA=e=>{const t=ff.get(e.target);t&&t(e)},sA=e=>{e.forEach(nA)};function rA({root:e,...t}){const n=e||document;ju.has(n)||ju.set(n,{});const s=ju.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(sA,{root:e,...t})),s[i]}function iA(e,t,n){const s=rA(t);return ff.set(e,n),s.observe(e),()=>{ff.delete(e),s.unobserve(e)}}const aA={some:0,all:1};class oA extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:aA[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return iA(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lA(t,n))&&this.startObserver()}unmount(){}}function lA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cA={inView:{Feature:oA},tap:{Feature:tA},focus:{Feature:eA},hover:{Feature:ZP}};function H1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function dA(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function uA(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function xd(e,t,n){const s=e.getProps();return up(s,t,n!==void 0?n:s.custom,dA(e),uA(e))}let hA=Ge,hp=Ge;const Vs=e=>e*1e3,ss=e=>e/1e3,fA={current:!1},W1=e=>Array.isArray(e)&&typeof e[0]=="number";function q1(e){return!!(!e||typeof e=="string"&&G1[e]||W1(e)||Array.isArray(e)&&e.every(q1))}const wa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,G1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wa([0,.65,.55,1]),circOut:wa([.55,0,1,.45]),backIn:wa([.31,.01,.66,-.59]),backOut:wa([.33,1.53,.69,.99])};function K1(e){if(e)return W1(e)?wa(e):Array.isArray(e)?e.map(K1):G1[e]}function mA(e,t,n,{delay:s=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=K1(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function pA(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const Y1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gA=1e-7,xA=12;function yA(e,t,n,s,i){let a,o,l=0;do o=t+(n-t)/2,a=Y1(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>gA&&++l<xA);return o}function $o(e,t,n,s){if(e===t&&n===s)return Ge;const i=a=>yA(a,0,1,e,n);return a=>a===0||a===1?a:Y1(i(a),t,s)}const vA=$o(.42,0,1,1),wA=$o(0,0,.58,1),Q1=$o(.42,0,.58,1),bA=e=>Array.isArray(e)&&typeof e[0]!="number",J1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,X1=e=>t=>1-e(1-t),fp=e=>1-Math.sin(Math.acos(e)),Z1=X1(fp),jA=J1(fp),ej=$o(.33,1.53,.69,.99),mp=X1(ej),NA=J1(mp),SA=e=>(e*=2)<1?.5*mp(e):.5*(2-Math.pow(2,-10*(e-1))),CA={linear:Ge,easeIn:vA,easeInOut:Q1,easeOut:wA,circIn:fp,circInOut:jA,circOut:Z1,backIn:mp,backInOut:NA,backOut:ej,anticipate:SA},Wg=e=>{if(Array.isArray(e)){hp(e.length===4);const[t,n,s,i]=e;return $o(t,n,s,i)}else if(typeof e=="string")return CA[e];return e},pp=(e,t)=>n=>!!(Ro(n)&&_P.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),tj=(e,t,n)=>s=>{if(!Ro(s))return s;const[i,a,o,l]=s.match(pd);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_A=e=>Hs(0,255,e),Nu={...Rr,transform:e=>Math.round(_A(e))},mr={test:pp("rgb","red"),parse:tj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Nu.transform(e)+", "+Nu.transform(t)+", "+Nu.transform(n)+", "+$a(Oa.transform(s))+")"};function EA(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const mf={test:pp("#"),parse:EA,transform:mr.transform},ii={test:pp("hsl","hue"),parse:tj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+$n.transform($a(t))+", "+$n.transform($a(n))+", "+$a(Oa.transform(s))+")"},bt={test:e=>mr.test(e)||mf.test(e)||ii.test(e),parse:e=>mr.test(e)?mr.parse(e):ii.test(e)?ii.parse(e):mf.parse(e),transform:e=>Ro(e)?e:e.hasOwnProperty("red")?mr.transform(e):ii.transform(e)},Be=(e,t,n)=>-n*e+n*t+e;function Su(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kA({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Su(c,l,e+1/3),a=Su(c,l,e),o=Su(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const Cu=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},TA=[mf,mr,ii],PA=e=>TA.find(t=>t.test(e));function qg(e){const t=PA(e);let n=t.parse(e);return t===ii&&(n=kA(n)),n}const nj=(e,t)=>{const n=qg(e),s=qg(t),i={...n};return a=>(i.red=Cu(n.red,s.red,a),i.green=Cu(n.green,s.green,a),i.blue=Cu(n.blue,s.blue,a),i.alpha=Be(n.alpha,s.alpha,a),mr.transform(i))};function AA(e){var t,n;return isNaN(e)&&Ro(e)&&(((t=e.match(pd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(k1))===null||n===void 0?void 0:n.length)||0)>0}const sj={regex:SP,countKey:"Vars",token:"${v}",parse:Ge},rj={regex:k1,countKey:"Colors",token:"${c}",parse:bt.parse},ij={regex:pd,countKey:"Numbers",token:"${n}",parse:Rr.parse};function _u(e,{regex:t,countKey:n,token:s,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...a.map(i)))}function Ec(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_u(n,sj),_u(n,rj),_u(n,ij),n}function aj(e){return Ec(e).values}function oj(e){const{values:t,numColors:n,numVars:s,tokenised:i}=Ec(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<s?l=l.replace(sj.token,o[c]):c<s+n?l=l.replace(rj.token,bt.transform(o[c])):l=l.replace(ij.token,$a(o[c]));return l}}const RA=e=>typeof e=="number"?0:e;function OA(e){const t=aj(e);return oj(e)(t.map(RA))}const Ws={test:AA,parse:aj,createTransformer:oj,getAnimatableNone:OA},lj=(e,t)=>n=>`${n>0?t:e}`;function cj(e,t){return typeof e=="number"?n=>Be(e,t,n):bt.test(e)?nj(e,t):e.startsWith("var(")?lj(e,t):uj(e,t)}const dj=(e,t)=>{const n=[...e],s=n.length,i=e.map((a,o)=>cj(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}},$A=(e,t)=>{const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=cj(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}},uj=(e,t)=>{const n=Ws.createTransformer(t),s=Ec(e),i=Ec(t);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?Fs(dj(s.values,i.values),n):lj(e,t)},po=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Gg=(e,t)=>n=>Be(e,t,n);function MA(e){return typeof e=="number"?Gg:typeof e=="string"?bt.test(e)?nj:uj:Array.isArray(e)?dj:typeof e=="object"?$A:Gg}function DA(e,t,n){const s=[],i=n||MA(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ge:t;l=Fs(c,l)}s.push(l)}return s}function hj(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(hp(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=DA(t,s,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=po(e[u],e[u+1],d);return o[u](h)};return n?d=>c(Hs(e[0],e[a-1],d)):c}function LA(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=po(0,t,s);e.push(Be(n,1,i))}}function IA(e){const t=[0];return LA(t,e.length-1),t}function FA(e,t){return e.map(n=>n*t)}function VA(e,t){return e.map(()=>t||Q1).splice(0,e.length-1)}function kc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=bA(s)?s.map(Wg):Wg(s),a={done:!1,value:t[0]},o=FA(n&&n.length===t.length?n:IA(t),e),l=hj(o,t,{ease:Array.isArray(i)?i:VA(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function fj(e,t){return t?e*(1e3/t):0}const BA=5;function mj(e,t,n){const s=Math.max(t-BA,0);return fj(n-e(s),t-s)}const Eu=.001,zA=.01,Kg=10,UA=.05,HA=1;function WA({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let i,a;hA(e<=Vs(Kg));let o=1-t;o=Hs(UA,HA,o),e=Hs(zA,Kg,ss(e)),o<1?(i=d=>{const u=d*o,h=u*e,f=u-n,g=pf(d,o),y=Math.exp(-h);return Eu-f/g*y},a=d=>{const h=d*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-h),x=pf(Math.pow(d,2),o);return(-i(d)+Eu>0?-1:1)*((f-g)*y)/x}):(i=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-Eu+u*h},a=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=GA(i,a,l);if(e=Vs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const qA=12;function GA(e,t,n){let s=n;for(let i=1;i<qA;i++)s=s-e(s)/t(s);return s}function pf(e,t){return e*Math.sqrt(1-t*t)}const KA=["duration","bounce"],YA=["stiffness","damping","mass"];function Yg(e,t){return t.some(n=>e[n]!==void 0)}function QA(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Yg(e,YA)&&Yg(e,KA)){const n=WA(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function pj({keyframes:e,restDelta:t,restSpeed:n,...s}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=QA({...s,velocity:-ss(s.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*d)),x=a-i,w=ss(Math.sqrt(l/d)),p=Math.abs(x)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let v;if(y<1){const b=pf(w,y);v=j=>{const S=Math.exp(-y*w*j);return a-S*((g+y*w*x)/b*Math.sin(b*j)+x*Math.cos(b*j))}}else if(y===1)v=b=>a-Math.exp(-w*b)*(x+(g+w*x)*b);else{const b=w*Math.sqrt(y*y-1);v=j=>{const S=Math.exp(-y*w*j),E=Math.min(b*j,300);return a-S*((g+y*w*x)*Math.sinh(E)+b*x*Math.cosh(E))/b}}return{calculatedDuration:f&&u||null,next:b=>{const j=v(b);if(f)o.done=b>=u;else{let S=g;b!==0&&(y<1?S=mj(v,b,j):S=0);const E=Math.abs(S)<=n,N=Math.abs(a-j)<=t;o.done=E&&N}return o.value=o.done?a:j,o}}}function Qg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,y=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=n*t;const w=h+x,p=o===void 0?w:o(w);p!==w&&(x=p-h);const v=_=>-x*Math.exp(-_/s),b=_=>p+v(_),j=_=>{const R=v(_),A=b(_);f.done=Math.abs(R)<=d,f.value=f.done?p:A};let S,E;const N=_=>{g(f.value)&&(S=_,E=pj({keyframes:[f.value,y(f.value)],velocity:mj(b,_,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:_=>{let R=!1;return!E&&S===void 0&&(R=!0,j(_),N(_)),S!==void 0&&_>S?E.next(_-S):(!R&&j(_),f)}}}const JA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Oe.update(t,!0),stop:()=>ls(t),now:()=>mt.isProcessing?mt.timestamp:performance.now()}},Jg=2e4;function Xg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Jg;)t+=n,s=e.next(t);return t>=Jg?1/0:t}const XA={decay:Qg,inertia:Qg,tween:kc,keyframes:kc,spring:pj};function Tc({autoplay:e=!0,delay:t=0,driver:n=JA,keyframes:s,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...f}){let g=1,y=!1,x,w;const p=()=>{w=new Promise(J=>{x=J})};p();let v;const b=XA[i]||kc;let j;b!==kc&&typeof s[0]!="number"&&(j=hj([0,100],s,{clamp:!1}),s=[0,100]);const S=b({...f,keyframes:s});let E;l==="mirror"&&(E=b({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let N="idle",_=null,R=null,A=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=Xg(S));const{calculatedDuration:B}=S;let k=1/0,L=1/0;B!==null&&(k=B+o,L=k*(a+1)-o);let D=0;const T=J=>{if(R===null)return;g>0&&(R=Math.min(R,J)),g<0&&(R=Math.min(J-L/g,R)),_!==null?D=_:D=Math.round(J-R)*g;const re=D-t*(g>=0?1:-1),fe=g>=0?re<0:re>L;D=Math.max(re,0),N==="finished"&&_===null&&(D=L);let le=D,Te=S;if(a){const Je=Math.min(D,L)/k;let ve=Math.floor(Je),ue=Je%1;!ue&&Je>=1&&(ue=1),ue===1&&ve--,ve=Math.min(ve,a+1),!!(ve%2)&&(l==="reverse"?(ue=1-ue,o&&(ue-=o/k)):l==="mirror"&&(Te=E)),le=Hs(0,1,ue)*k}const We=fe?{done:!1,value:s[0]}:Te.next(le);j&&(We.value=j(We.value));let{done:ee}=We;!fe&&B!==null&&(ee=g>=0?D>=L:D<=0);const ye=_===null&&(N==="finished"||N==="running"&&ee);return h&&h(We.value),ye&&P(),We},C=()=>{v&&v.stop(),v=void 0},O=()=>{N="idle",C(),x(),p(),R=A=null},P=()=>{N="finished",u&&u(),C(),x()},M=()=>{if(y)return;v||(v=n(T));const J=v.now();c&&c(),_!==null?R=J-_:(!R||N==="finished")&&(R=J),N==="finished"&&p(),A=R,_=null,N="running",v.start()};e&&M();const F={then(J,re){return w.then(J,re)},get time(){return ss(D)},set time(J){J=Vs(J),D=J,_!==null||!v||g===0?_=J:R=v.now()-J/g},get duration(){const J=S.calculatedDuration===null?Xg(S):S.calculatedDuration;return ss(J)},get speed(){return g},set speed(J){J===g||!v||(g=J,F.time=ss(D))},get state(){return N},play:M,pause:()=>{N="paused",_=D},stop:()=>{y=!0,N!=="idle"&&(N="idle",d&&d(),O())},cancel:()=>{A!==null&&T(A),O()},complete:()=>{N="finished"},sample:J=>(R=0,T(J))};return F}function ZA(e){let t;return()=>(t===void 0&&(t=e()),t)}const e5=ZA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),t5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cl=10,n5=2e4,s5=(e,t)=>t.type==="spring"||e==="backgroundColor"||!q1(t.ease);function r5(e,t,{onUpdate:n,onComplete:s,...i}){if(!(e5()&&t5.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(b=>{l=b})};u();let{keyframes:h,duration:f=300,ease:g,times:y}=i;if(s5(t,i)){const b=Tc({...i,repeat:0,delay:0});let j={done:!1,value:h[0]};const S=[];let E=0;for(;!j.done&&E<n5;)j=b.sample(E),S.push(j.value),E+=cl;y=void 0,h=S,f=E-cl,g="linear"}const x=mA(e.owner.current,t,h,{...i,duration:f,ease:g,times:y}),w=()=>{d=!1,x.cancel()},p=()=>{d=!0,Oe.update(w),l(),u()};return x.onfinish=()=>{d||(e.set(pA(h,i)),s&&s(),p())},{then(b,j){return c.then(b,j)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Ge},get time(){return ss(x.currentTime||0)},set time(b){x.currentTime=Vs(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return ss(f)},play:()=>{o||(x.play(),ls(w))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const j=Tc({...i,autoplay:!1});e.setWithVelocity(j.sample(b-cl).value,j.sample(b).value,cl)}p()},complete:()=>{d||x.finish()},cancel:p}}function i5({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const i=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Ge,pause:Ge,stop:Ge,then:a=>(a(),Promise.resolve()),cancel:Ge,complete:Ge});return t?Tc({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const a5={type:"spring",stiffness:500,damping:25,restSpeed:10},o5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),l5={type:"keyframes",duration:.8},c5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d5=(e,{keyframes:t})=>t.length>2?l5:Ar.has(e)?e.startsWith("scale")?o5(t[1]):a5:c5,gf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ws.test(t)||t==="0")&&!t.startsWith("url(")),u5=new Set(["brightness","contrast","saturate","opacity"]);function h5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(pd)||[];if(!s)return e;const i=n.replace(s,"");let a=u5.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const f5=/([a-z-]*)\(.*?\)/g,xf={...Ws,getAnimatableNone:e=>{const t=e.match(f5);return t?t.map(h5).join(" "):e}},m5={...T1,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:xf,WebkitFilter:xf},gp=e=>m5[e];function gj(e,t){let n=gp(e);return n!==xf&&(n=Ws),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xj=e=>/^0[^.\s]+$/.test(e);function p5(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||xj(e)}function g5(e,t,n,s){const i=gf(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),p5(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];a[u]=gj(t,l)}return a}function x5({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function xp(e,t){return e[t]||e.default||e}const y5={skipAnimations:!1},yp=(e,t,n,s={})=>i=>{const a=xp(s,e)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Vs(o);const c=g5(t,e,n,a),d=c[0],u=c[c.length-1],h=gf(e,d),f=gf(e,u);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{t.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(x5(a)||(g={...g,...d5(e,g)}),g.duration&&(g.duration=Vs(g.duration)),g.repeatDelay&&(g.repeatDelay=Vs(g.repeatDelay)),!h||!f||fA.current||a.type===!1||y5.skipAnimations)return i5(g);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=r5(t,e,g);if(y)return y}return Tc(g)};function Pc(e){return!!(Ft(e)&&e.add)}const yj=e=>/^\-?\d*\.?\d+$/.test(e);function vp(e,t){e.indexOf(t)===-1&&e.push(t)}function wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bp{constructor(){this.subscriptions=[]}add(t){return vp(this.subscriptions,t),()=>wp(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const v5=e=>!isNaN(parseFloat(e));class w5{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=mt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=v5(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bp);const s=this.events[t].add(n);return t==="change"?()=>{s(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?fj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pi(e,t){return new w5(e,t)}const vj=e=>t=>t.test(e),b5={test:e=>e==="auto",parse:e=>e},wj=[Rr,te,$n,vs,kP,EP,b5],ca=e=>wj.find(vj(e)),j5=[...wj,bt,Ws],N5=e=>j5.find(vj(e));function S5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pi(n))}function C5(e,t){const n=xd(e,t);let{transitionEnd:s={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=zP(a[o]);S5(e,o,l)}}function _5(e,t,n){var s,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(i=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(yj(u)||xj(u))?u=parseFloat(u):!N5(u)&&Ws.test(d)&&(u=gj(c,d)),e.addValue(c,Pi(u,{owner:e})),n[c]===void 0&&(n[c]=u),u!==null&&e.setBaseTarget(c,u))}}function E5(e,t){return t?(t[e]||t.default||t).from:void 0}function k5(e,t,n){const s={};for(const i in e){const a=E5(i,t);if(a!==void 0)s[i]=a;else{const o=n.getValue(i);o&&(s[i]=o.get())}}return s}function T5({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function P5(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function bj(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(a=s);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const f=e.getValue(h),g=l[h];if(!f||g===void 0||u&&T5(u,h))continue;const y={delay:n,elapsed:0,...xp(a||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[j1];if(p){const v=window.HandoffAppearAnimations(p,h,f,Oe);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let x=!y.isHandoff&&!P5(f,g);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(yp(h,f,g,e.shouldReduceMotion&&Ar.has(h)?{type:!1}:y));const w=f.animation;Pc(c)&&(c.add(h),w.then(()=>c.remove(h))),d.push(w)}return o&&Promise.all(d).then(()=>{o&&C5(e,o)}),d}function yf(e,t,n={}){const s=xd(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(bj(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=i;return A5(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function A5(e,t,n=0,s=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(R5).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(yf(d,t,{...a,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function R5(e,t){return e.sortNodePosition(t)}function O5(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>yf(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=yf(e,t,n);else{const i=typeof t=="function"?xd(e,t,n.custom):t;s=Promise.all(bj(e,i,n))}return s.then(()=>e.notify("AnimationComplete",t))}const $5=[...np].reverse(),M5=np.length;function D5(e){return t=>Promise.all(t.map(({animation:n,options:s})=>O5(e,n,s)))}function L5(e){let t=D5(e);const n=F5();let s=!0;const i=(c,d)=>{const u=xd(e,d);if(u){const{transition:h,transitionEnd:f,...g}=u;c={...c,...g,...f}}return c};function a(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},f=[],g=new Set;let y={},x=1/0;for(let p=0;p<M5;p++){const v=$5[p],b=n[v],j=u[v]!==void 0?u[v]:h[v],S=fo(j),E=v===d?b.isActive:null;E===!1&&(x=p);let N=j===h[v]&&j!==u[v]&&S;if(N&&s&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...y},!b.isActive&&E===null||!j&&!b.prevProp||fd(j)||typeof j=="boolean")continue;let R=I5(b.prevProp,j)||v===d&&b.isActive&&!N&&S||p>x&&S,A=!1;const B=Array.isArray(j)?j:[j];let k=B.reduce(i,{});E===!1&&(k={});const{prevResolvedValues:L={}}=b,D={...L,...k},T=C=>{R=!0,g.has(C)&&(A=!0,g.delete(C)),b.needsAnimating[C]=!0};for(const C in D){const O=k[C],P=L[C];if(y.hasOwnProperty(C))continue;let M=!1;_c(O)&&_c(P)?M=!H1(O,P):M=O!==P,M?O!==void 0?T(C):g.add(C):O!==void 0&&g.has(C)?T(C):b.protectedKeys[C]=!0}b.prevProp=j,b.prevResolvedValues=k,b.isActive&&(y={...y,...k}),s&&e.blockInitialAnimation&&(R=!1),R&&(!N||A)&&f.push(...B.map(C=>({animation:C,options:{type:v,...c}})))}if(g.size){const p={};g.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(p[v]=b)}),f.push({animation:p})}let w=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(f):Promise.resolve()}function l(c,d,u){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(c,d)}),n[c].isActive=d;const f=o(u,c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function I5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!H1(t,e):!1}function tr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F5(){return{animate:tr(!0),whileInView:tr(),whileHover:tr(),whileTap:tr(),whileDrag:tr(),whileFocus:tr(),exit:tr()}}class V5 extends Zs{constructor(t){super(t),t.animationState||(t.animationState=L5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let B5=0;class z5 extends Zs{constructor(){super(...arguments),this.id=B5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const U5={animation:{Feature:V5},exit:{Feature:z5}},Zg=(e,t)=>Math.abs(e-t);function H5(e,t){const n=Zg(e.x,t.x),s=Zg(e.y,t.y);return Math.sqrt(n**2+s**2)}class jj{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Tu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=H5(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:y}=h,{timestamp:x}=mt;this.history.push({...y,timestamp:x});const{onStart:w,onMove:p}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ku(f,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tu(h.type==="pointercancel"?this.lastMoveEventInfo:ku(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),y&&y(h,w)},!F1(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=gd(t),l=ku(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=mt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Tu(l,this.history)),this.removeListeners=Fs(ns(this.contextWindow,"pointermove",this.handlePointerMove),ns(this.contextWindow,"pointerup",this.handlePointerUp),ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function ku(e,t){return t?{point:t(e.point)}:e}function ex(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tu({point:e},t){return{point:e,delta:ex(e,Nj(t)),offset:ex(e,W5(t)),velocity:q5(t,.1)}}function W5(e){return e[0]}function Nj(e){return e[e.length-1]}function q5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Nj(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Vs(t)));)n--;if(!s)return{x:0,y:0};const a=ss(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yt(e){return e.max-e.min}function vf(e,t=0,n=.01){return Math.abs(e-t)<=n}function tx(e,t,n,s=.5){e.origin=s,e.originPoint=Be(t.min,t.max,e.origin),e.scale=Yt(n)/Yt(t),(vf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Be(n.min,n.max,e.origin)-e.originPoint,(vf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ma(e,t,n,s){tx(e.x,t.x,n.x,s?s.originX:void 0),tx(e.y,t.y,n.y,s?s.originY:void 0)}function nx(e,t,n){e.min=n.min+t.min,e.max=e.min+Yt(t)}function G5(e,t,n){nx(e.x,t.x,n.x),nx(e.y,t.y,n.y)}function sx(e,t,n){e.min=t.min-n.min,e.max=e.min+Yt(t)}function Da(e,t,n){sx(e.x,t.x,n.x),sx(e.y,t.y,n.y)}function K5(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Be(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Be(n,e,s.max):Math.min(e,n)),e}function rx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Y5(e,{top:t,left:n,bottom:s,right:i}){return{x:rx(e.x,n,i),y:rx(e.y,t,s)}}function ix(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Q5(e,t){return{x:ix(e.x,t.x),y:ix(e.y,t.y)}}function J5(e,t){let n=.5;const s=Yt(e),i=Yt(t);return i>s?n=po(t.min,t.max-s,e.min):s>i&&(n=po(e.min,e.max-i,t.min)),Hs(0,1,n)}function X5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wf=.35;function Z5(e=wf){return e===!1?e=0:e===!0&&(e=wf),{x:ax(e,"left","right"),y:ax(e,"top","bottom")}}function ax(e,t,n){return{min:ox(e,t),max:ox(e,n)}}function ox(e,t){return typeof e=="number"?e:e[t]||0}const lx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ai=()=>({x:lx(),y:lx()}),cx=()=>({min:0,max:0}),Ye=()=>({x:cx(),y:cx()});function tn(e){return[e("x"),e("y")]}function Sj({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function eR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pu(e){return e===void 0||e===1}function bf({scale:e,scaleX:t,scaleY:n}){return!Pu(e)||!Pu(t)||!Pu(n)}function ir(e){return bf(e)||Cj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Cj(e){return dx(e.x)||dx(e.y)}function dx(e){return e&&e!=="0%"}function Ac(e,t,n){const s=e-n,i=t*s;return n+i}function ux(e,t,n,s,i){return i!==void 0&&(e=Ac(e,i,s)),Ac(e,n,s)+t}function jf(e,t=0,n=1,s,i){e.min=ux(e.min,t,n,s,i),e.max=ux(e.max,t,n,s,i)}function _j(e,{x:t,y:n}){jf(e.x,t.translate,t.scale,t.originPoint),jf(e.y,n.translate,n.scale,n.originPoint)}function nR(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,_j(e,o)),s&&ir(a.latestValues)&&oi(e,a.latestValues))}t.x=hx(t.x),t.y=hx(t.y)}function hx(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ss(e,t){e.min=e.min+t,e.max=e.max+t}function fx(e,t,[n,s,i]){const a=t[i]!==void 0?t[i]:.5,o=Be(e.min,e.max,a);jf(e,t[n],t[s],o,t.scale)}const sR=["x","scaleX","originX"],rR=["y","scaleY","originY"];function oi(e,t){fx(e.x,t,sR),fx(e.y,t,rR)}function Ej(e,t){return Sj(tR(e.getBoundingClientRect(),t))}function iR(e,t,n){const s=Ej(e,n),{scroll:i}=t;return i&&(Ss(s.x,i.offset.x),Ss(s.y,i.offset.y)),s}const kj=({current:e})=>e?e.ownerDocument.defaultView:null,aR=new WeakMap;class oR{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gd(u,"page").point)},a=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=B1(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(w=>{let p=this.getAxisMotionValue(w).get()||0;if($n.test(p)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(p=Yt(b)*(parseFloat(p)/100))}}this.originPoint[w]=p}),y&&Oe.update(()=>y(u,h),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=lR(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>tn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new jj(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:kj(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Oe.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!dl(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=K5(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&ri(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Y5(i.layoutBox,n):this.constraints=!1,this.elastic=Z5(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=X5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ri(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=iR(s,i.root,this.visualElement.getTransformPagePoint());let o=Q5(i.layout.layoutBox,a);if(n){const l=n(eR(o));this.hasMutatedConstraints=!!l,l&&(o=Sj(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=tn(u=>{if(!dl(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(yp(t,s,0,n))}stopAnimation(){tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){tn(n=>{const{drag:s}=this.getProps();if(!dl(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-Be(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ri(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=J5({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),tn(o=>{if(!dl(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Be(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;aR.set(this.visualElement,this);const t=this.visualElement.current,n=ns(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ri(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const o=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(tn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=wf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function dl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function lR(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cR extends Zs{constructor(t){super(t),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new oR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const mx=e=>(t,n)=>{e&&Oe.update(()=>e(t,n))};class dR extends Zs{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(t){this.session=new jj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:mx(t),onStart:mx(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&Oe.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=ns(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uR(){const e=m.useContext(ud);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,i=m.useId();return m.useEffect(()=>s(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function px(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const da={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=px(e,t.target.x),s=px(e,t.target.y);return`${n}% ${s}%`}},hR={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ws.parse(e);if(i.length>5)return s;const a=Ws.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Be(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class fR extends Y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;wP(mR),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tj(e){const[t,n]=uR(),s=m.useContext(rp);return Y.createElement(fR,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(S1),isPresent:t,safeToRemove:n})}const mR={borderRadius:{...da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:da,borderTopRightRadius:da,borderBottomLeftRadius:da,borderBottomRightRadius:da,boxShadow:hR},Pj=["TopLeft","TopRight","BottomLeft","BottomRight"],pR=Pj.length,gx=e=>typeof e=="string"?parseFloat(e):e,xx=e=>typeof e=="number"||te.test(e);function gR(e,t,n,s,i,a){i?(e.opacity=Be(0,n.opacity!==void 0?n.opacity:1,xR(s)),e.opacityExit=Be(t.opacity!==void 0?t.opacity:1,0,yR(s))):a&&(e.opacity=Be(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<pR;o++){const l=`border${Pj[o]}Radius`;let c=yx(t,l),d=yx(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||xx(c)===xx(d)?(e[l]=Math.max(Be(gx(c),gx(d),s),0),($n.test(d)||$n.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Be(t.rotate||0,n.rotate||0,s))}function yx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xR=Aj(0,.5,Z1),yR=Aj(.5,.95,Ge);function Aj(e,t,n){return s=>s<e?0:s>t?1:n(po(e,t,s))}function vx(e,t){e.min=t.min,e.max=t.max}function en(e,t){vx(e.x,t.x),vx(e.y,t.y)}function wx(e,t,n,s,i){return e-=t,e=Ac(e,1/n,s),i!==void 0&&(e=Ac(e,1/i,s)),e}function vR(e,t=0,n=1,s=.5,i,a=e,o=e){if($n.test(t)&&(t=parseFloat(t),t=Be(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Be(a.min,a.max,s);e===a&&(l-=t),e.min=wx(e.min,t,n,l,i),e.max=wx(e.max,t,n,l,i)}function bx(e,t,[n,s,i],a,o){vR(e,t[n],t[s],t[i],t.scale,a,o)}const wR=["x","scaleX","originX"],bR=["y","scaleY","originY"];function jx(e,t,n,s){bx(e.x,t,wR,n?n.x:void 0,s?s.x:void 0),bx(e.y,t,bR,n?n.y:void 0,s?s.y:void 0)}function Nx(e){return e.translate===0&&e.scale===1}function Rj(e){return Nx(e.x)&&Nx(e.y)}function jR(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Oj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Sx(e){return Yt(e.x)/Yt(e.y)}class NR{constructor(){this.members=[]}add(t){vp(this.members,t),t.scheduleRender()}remove(t){if(wp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cx(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(s=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:d,rotateY:u}=n;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),u&&(s+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const SR=(e,t)=>e.depth-t.depth;class CR{constructor(){this.children=[],this.isDirty=!1}add(t){vp(this.children,t),this.isDirty=!0}remove(t){wp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SR),this.isDirty=!1,this.children.forEach(t)}}function _R(e,t){const n=performance.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(ls(s),e(a-t))};return Oe.read(s,!0),()=>ls(s)}function ER(e){window.MotionDebug&&window.MotionDebug.record(e)}function kR(e){return e instanceof SVGElement&&e.tagName!=="svg"}function TR(e,t,n){const s=Ft(e)?e:Pi(e);return s.start(yp("",s,t,n)),s.animation}const _x=["","X","Y","Z"],PR={visibility:"hidden"},Ex=1e3;let AR=0;const ar={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $j({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=AR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ar.totalNodes=ar.resolvedTargetDeltas=ar.recalculatedProjection=0,this.nodes.forEach($R),this.nodes.forEach(FR),this.nodes.forEach(VR),this.nodes.forEach(MR),ER(ar)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new CR)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new bp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kR(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_R(f,250),Ul.hasAnimatedSinceResize&&(Ul.hasAnimatedSinceResize=!1,this.nodes.forEach(Tx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||WR,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=u.getProps(),v=!this.targetLayout||!Oj(this.targetLayout,y)||g,b=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const j={...xp(x,"layout"),onPlay:w,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||Tx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kx);return}this.isUpdating||this.nodes.forEach(LR),this.isUpdating=!1,this.nodes.forEach(IR),this.nodes.forEach(RR),this.nodes.forEach(OR),this.clearAllSnapshots();const l=performance.now();mt.delta=Hs(0,1e3/60,l-mt.timestamp),mt.timestamp=l,mt.isProcessing=!0,wu.update.process(mt),wu.preRender.process(mt),wu.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(DR),this.sharedNodes.forEach(zR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Rj(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||ir(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),qR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ye();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Ss(l.x,c.offset.x),Ss(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ye();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){en(l,o);const{scroll:f}=this.root;f&&(Ss(l.x,-f.offset.x),Ss(l.y,-f.offset.y))}Ss(l.x,u.offset.x),Ss(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Ye();en(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&oi(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ir(u.latestValues)&&oi(c,u.latestValues)}return ir(this.latestValues)&&oi(c,this.latestValues),c}removeTransform(o){const l=Ye();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ir(d.latestValues))continue;bf(d.latestValues)&&d.updateSnapshot();const u=Ye(),h=d.measurePageBox();en(u,h),jx(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ir(this.latestValues)&&jx(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Da(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),_j(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Da(this.relativeTargetOrigin,this.target,g.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ar.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bf(this.parent.latestValues)||Cj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;en(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;nR(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=ai(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ai(),this.projectionDeltaWithTransform=ai());const x=this.projectionTransform;Ma(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Cx(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ar.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ai();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ye(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,w=this.getStack(),p=!w||w.members.length<=1,v=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(HR));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const S=j/1e3;Px(h.x,o.x,S),Px(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Da(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UR(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&jR(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ye()),en(b,this.relativeTarget)),x&&(this.animationValues=u,gR(u,d,this.latestValues,S,v,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Ul.hasAnimatedSinceResize=!0,this.currentAnimation=TR(0,Ex,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ex),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Mj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ye();const h=Yt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Yt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}en(l,c),oi(l,u),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NR),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<_x.length;u++){const h="rotate"+_x[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PR;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=zl(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=zl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ir(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Cx(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:g,y}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Sc){if(f[x]===void 0)continue;const{correct:w,applyTo:p}=Sc[x],v=d.transform==="none"?f[x]:w(f[x],h);if(p){const b=p.length;for(let j=0;j<b;j++)d[p[j]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=h===this?zl(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(kx),this.root.sharedNodes.clear()}}}function RR(e){e.updateLayout()}function OR(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?tn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Yt(f);f.min=s[h].min,f.max=f.min+g}):Mj(a,n.layoutBox,s)&&tn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Yt(s[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=ai();Ma(l,s,n.layoutBox);const c=ai();o?Ma(c,e.applyTransform(i,!0),n.measuredBox):Ma(c,s,n.layoutBox);const d=!Rj(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const y=Ye();Da(y,n.layoutBox,f.layoutBox);const x=Ye();Da(x,s,g.layoutBox),Oj(y,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function $R(e){ar.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function MR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DR(e){e.clearSnapshot()}function kx(e){e.clearMeasurements()}function LR(e){e.isLayoutDirty=!1}function IR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FR(e){e.resolveTargetDelta()}function VR(e){e.calcProjection()}function BR(e){e.resetRotation()}function zR(e){e.removeLeadSnapshot()}function Px(e,t,n){e.translate=Be(t.translate,0,n),e.scale=Be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ax(e,t,n,s){e.min=Be(t.min,n.min,s),e.max=Be(t.max,n.max,s)}function UR(e,t,n,s){Ax(e.x,t.x,n.x,s),Ax(e.y,t.y,n.y,s)}function HR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WR={duration:.45,ease:[.4,0,.1,1]},Rx=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Ox=Rx("applewebkit/")&&!Rx("chrome/")?Math.round:Ge;function $x(e){e.min=Ox(e.min),e.max=Ox(e.max)}function qR(e){$x(e.x),$x(e.y)}function Mj(e,t,n){return e==="position"||e==="preserve-aspect"&&!vf(Sx(t),Sx(n),.2)}const GR=$j({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Au={current:void 0},Dj=$j({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Au.current){const e=new GR({});e.mount(window),e.setOptions({layoutScroll:!0}),Au.current=e}return Au.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KR={pan:{Feature:dR},drag:{Feature:cR,ProjectionNode:Dj,MeasureLayout:Tj}},YR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function QR(e){const t=YR.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function Nf(e,t,n=1){const[s,i]=QR(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return yj(o)?parseFloat(o):o}else return hf(i)?Nf(i,t,n+1):i}function JR(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!hf(a))return;const o=Nf(a,s);o&&i.set(o)});for(const i in t){const a=t[i];if(!hf(a))continue;const o=Nf(a,s);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const XR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lj=e=>XR.has(e),ZR=e=>Object.keys(e).some(Lj),Mx=e=>e===Rr||e===te,Dx=(e,t)=>parseFloat(e.split(", ")[t]),Lx=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return Dx(i[1],t);{const a=s.match(/^matrix\((.+)\)$/);return a?Dx(a[1],e):0}},e3=new Set(["x","y","z"]),t3=Ao.filter(e=>!e3.has(e));function n3(e){const t=[];return t3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ai={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Lx(4,13),y:Lx(5,14)};Ai.translateX=Ai.x;Ai.translateY=Ai.y;const s3=(e,t,n)=>{const s=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(d=>{l[d]=Ai[d](s,a)}),t.render();const c=t.measureViewportBox();return n.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Ai[d](c,a)}),e},r3=(e,t,n={},s={})=>{t={...t},s={...s};const i=Object.keys(t).filter(Lj);let a=[],o=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=n[c],h=ca(u);const f=t[c];let g;if(_c(f)){const y=f.length,x=f[0]===null?1:0;u=f[x],h=ca(u);for(let w=x;w<y&&f[w]!==null;w++)g?hp(ca(f[w])===g):g=ca(f[w])}else g=ca(f);if(h!==g)if(Mx(h)&&Mx(g)){const y=d.get();typeof y=="string"&&d.set(parseFloat(y)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&g===te&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(u===0||f===0)?u===0?d.set(g.transform(u)):t[c]=h.transform(f):(o||(a=n3(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=s3(t,e,l);return a.length&&a.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),hd&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function i3(e,t,n,s){return ZR(t)?r3(e,t,n,s):{target:t,transitionEnd:s}}const a3=(e,t,n,s)=>{const i=JR(e,t,s);return t=i.target,s=i.transitionEnd,i3(e,t,n,s)},Sf={current:null},Ij={current:!1};function o3(){if(Ij.current=!0,!!hd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sf.current=e.matches;e.addListener(t),t()}else Sf.current=!1}function l3(e,t,n){const{willChange:s}=t;for(const i in t){const a=t[i],o=n[i];if(Ft(a))e.addValue(i,a),Pc(s)&&s.add(i);else if(Ft(o))e.addValue(i,Pi(a,{owner:e})),Pc(s)&&s.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Pi(l!==void 0?l:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Ix=new WeakMap,Fj=Object.keys(mo),c3=Fj.length,Fx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],d3=sp.length;class u3{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=md(n),this.isVariantNode=N1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const f=u[h];l[h]!==void 0&&Ft(f)&&(f.set(l[h],!1),Pc(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ix.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ij.current||o3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ix.delete(this.current),this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Ar.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,i,a){let o,l;for(let c=0;c<c3;c++){const d=Fj[c],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:g}=mo[d];f&&(o=f),u(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&ri(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Fx.length;s++){const i=Fx[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=l3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<d3;s++){const i=sp[s],a=this.props[i];(fo(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Pi(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=up(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ft(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vj extends u3{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:i},a){let o=k5(s,t||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),o&&(o=i(o))),a){_5(this,s,o);const l=a3(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function h3(e){return window.getComputedStyle(e)}class f3 extends Vj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ar.has(n)){const s=gp(n);return s&&s.default||0}else{const s=h3(t),i=(E1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ej(t,n)}build(t,n,s,i){ap(t,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return dp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,i){O1(t,n,s,i)}}class m3 extends Vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ar.has(n)){const s=gp(n);return s&&s.default||0}return n=$1.has(n)?n:tp(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ye()}scrapeMotionValuesFromProps(t,n){return D1(t,n)}build(t,n,s,i){lp(t,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,s,i){M1(t,n,s,i)}mount(t){this.isSVGTag=cp(t.tagName),super.mount(t)}}const p3=(e,t)=>ip(e)?new m3(t,{enableHardwareAcceleration:!1}):new f3(t,{enableHardwareAcceleration:!0}),g3={layout:{ProjectionNode:Dj,MeasureLayout:Tj}},x3={...U5,...cA,...KR,...g3},V=yP((e,t)=>QP(e,t,x3,p3));function Bj(){const e=m.useRef(!1);return ep(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function y3(){const e=Bj(),[t,n]=m.useState(0),s=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Oe.postRender(s),[s]),t]}class v3 extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function w3({children:e,isPresent:t}){const n=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),m.createElement(v3,{isPresent:t,childRef:s,sizeRef:i},m.cloneElement(e,{ref:s}))}const Ru=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=L1(b3),c=m.useId(),d=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;s&&s()},register:u=>(l.set(u,!1),()=>l.delete(u))}),a?void 0:[n]);return m.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=m.createElement(w3,{isPresent:n},e)),m.createElement(ud.Provider,{value:d},e)};function b3(){return new Map}function j3(e){return m.useEffect(()=>()=>e(),[])}const or=e=>e.key||"";function N3(e,t){e.forEach(n=>{const s=or(n);t.set(s,n)})}function S3(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const er=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=m.useContext(rp).forceRender||y3()[0],c=Bj(),d=S3(e);let u=d;const h=m.useRef(new Map).current,f=m.useRef(u),g=m.useRef(new Map).current,y=m.useRef(!0);if(ep(()=>{y.current=!1,N3(d,g),f.current=u}),j3(()=>{y.current=!0,g.clear(),h.clear()}),y.current)return m.createElement(m.Fragment,null,u.map(v=>m.createElement(Ru,{key:or(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},v)));u=[...u];const x=f.current.map(or),w=d.map(or),p=x.length;for(let v=0;v<p;v++){const b=x[v];w.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((v,b)=>{if(w.indexOf(b)!==-1)return;const j=g.get(b);if(!j)return;const S=x.indexOf(b);let E=v;if(!E){const N=()=>{h.delete(b);const _=Array.from(g.keys()).filter(R=>!w.includes(R));if(_.forEach(R=>g.delete(R)),f.current=d.filter(R=>{const A=or(R);return A===b||_.includes(A)}),!h.size){if(c.current===!1)return;l(),s&&s()}};E=m.createElement(Ru,{key:or(j),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:a,mode:o},j),h.set(b,E)}u.splice(S,0,E)}),u=u.map(v=>{const b=v.key;return h.has(b)?v:m.createElement(Ru,{key:or(v),isPresent:!0,presenceAffectsLayout:a,mode:o},v)}),m.createElement(m.Fragment,null,h.size?u:u.map(v=>m.cloneElement(v)))},ua=["admin","supervisor","operations_manager","consultant","hybrid_employee","client_poc","executive"],ul=["admin","supervisor","operations_manager","consultant","hybrid_employee"],Vx=["client_poc","admin"],Ou=["executive","admin"],hl=["admin"],$u=["admin","operations_manager"],Lr=["admin","supervisor","operations_manager"],C3=[{icon:Zb,label:"Dashboard",path:"/",roles:ua},{icon:xi,label:"Assessments",path:"/assessments",roles:Lr},{icon:yr,label:"Hierarchy Builder",path:"/sites",roles:[...ul,...Ou]},{icon:Building,label:"Entity Staff",path:"/entity-staff",roles:Lr},{icon:Re,label:"Security Staff",path:"/employees",roles:Lr},{icon:Nc,label:"Performance",path:"/performance",roles:Lr},{icon:gi,label:"Subcontractors",path:"/subcontractors",roles:$u},{icon:a1,label:"Health & Safety",path:"/health-safety",roles:[...ul,...Ou]},{icon:xn,label:"Training",path:"/training",roles:[...ul,...Vx]},{icon:Km,label:"Live Classes",path:"/live-classes",roles:[...ul,...Vx]},{icon:Fl,label:"NFC/GPS Tags",path:"/nfc",roles:[...Lr,"hybrid_employee"]},{icon:et,label:"Reports Hub",path:"/reports",roles:ua},{icon:dt,label:"Incidents",path:"/reports/incidents",roles:ua},{icon:Q4,label:"Observations",path:"/reports/observations",roles:ua},{icon:bc,label:"Scheduling",path:"/scheduling",roles:Lr},{icon:V4,label:"Analytics",path:"/analytics",roles:[...$u,...Ou]},{icon:gT,label:"Communications",path:"/messaging",roles:ua},{icon:Jb,label:"ISO Compliance",path:"/iso",roles:[...$u,"consultant"]},{icon:Z4,label:"App Integrations",path:"/external-app",roles:hl},{icon:iT,label:"Login Management",path:"/login-management",roles:hl},{icon:Ti,label:"Admin Settings",path:"/admin-settings",roles:hl},{icon:cd,label:"Developer Portal",path:"/developer",roles:hl}],_3=({isOpen:e,userRole:t,toggleSidebar:n})=>{const s=C3.filter(l=>t&&l.roles.includes(t)),i={open:{x:0,transition:{type:"spring",stiffness:120,damping:20}},closed:{x:"-100%",transition:{type:"spring",stiffness:120,damping:20}}},a=({isActive:l})=>se("flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 ease-in-out font-medium text-sm group",l?"bg-gradient-to-r from-sky-600 to-indigo-700 text-white shadow-md scale-105":"text-slate-300 hover:bg-slate-700/70 hover:text-sky-300 hover:scale-105 transform"),o=l=>se("w-5 h-5 group-hover:text-sky-300 transition-colors",l&&"text-white");return r.jsxs(V.aside,{variants:i,initial:"closed",animate:e?"open":"closed",className:"w-64 h-screen p-4 space-y-4 nav-blur flex flex-col fixed top-0 left-0 z-40 lg:z-auto overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5 flex-shrink-0",children:[r.jsxs(ko,{to:"/",className:"flex items-center space-x-2 p-2",children:[r.jsx("img",{alt:"GS-3 SecureOps Pro Logo Favicon",className:"h-8 w-8 filter brightness-0 invert",src:"https://images.unsplash.com/photo-1575821104894-b683ce7525ff"}),r.jsx("span",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-300 via-slate-100 to-sky-300",children:"SecureOps"})]}),r.jsx("button",{onClick:n,className:"lg:hidden text-slate-400 hover:text-white p-2",children:r.jsx(Xt,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 space-y-1.5 overflow-y-auto scrollbar-thin",children:s.map(l=>r.jsx(YE,{to:l.path,end:l.path==="/",className:a,children:({isActive:c})=>r.jsxs(r.Fragment,{children:[r.jsx(l.icon,{className:o(c)}),r.jsx("span",{children:l.label})]})},l.label))}),r.jsx("div",{className:"mt-auto pt-4 border-t border-slate-700/60 flex-shrink-0",children:r.jsxs("p",{className:"text-xs text-center text-slate-500 mt-4",children:[" ",new Date().getFullYear()," GS-3 SecureOps Pro.",r.jsx("br",{}),"All rights reserved. Domain: gs-3.pro"]})})]})},E3=od("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=Y.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?Yk:"button";return r.jsx(o,{className:se(E3({variant:t,size:n,className:e})),ref:a,...i})});$.displayName="Button";const X=Y.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));X.displayName="Input";var zj={exports:{}},Uj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=m;function k3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T3=typeof Object.is=="function"?Object.is:k3,P3=Ri.useState,A3=Ri.useEffect,R3=Ri.useLayoutEffect,O3=Ri.useDebugValue;function $3(e,t){var n=t(),s=P3({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return R3(function(){i.value=n,i.getSnapshot=t,Mu(i)&&a({inst:i})},[e,n,t]),A3(function(){return Mu(i)&&a({inst:i}),e(function(){Mu(i)&&a({inst:i})})},[e]),O3(n),n}function Mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!T3(e,n)}catch{return!0}}function M3(e,t){return t()}var D3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M3:$3;Uj.useSyncExternalStore=Ri.useSyncExternalStore!==void 0?Ri.useSyncExternalStore:D3;zj.exports=Uj;var L3=zj.exports;function I3(){return L3.useSyncExternalStore(F3,()=>!0,()=>!1)}function F3(){return()=>{}}var jp="Avatar",[V3,u8]=Tr(jp),[B3,Hj]=V3(jp),Wj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,a]=m.useState("idle");return r.jsx(B3,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(Ce.span,{...s,ref:t})})});Wj.displayName=jp;var qj="AvatarImage",Gj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...a}=e,o=Hj(qj,n),l=z3(s,a),c=jn(d=>{i(d),o.onImageLoadingStatusChange(d)});return Dn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(Ce.img,{...a,ref:t,src:s}):null});Gj.displayName=qj;var Kj="AvatarFallback",Yj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,a=Hj(Kj,n),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(Ce.span,{...i,ref:t}):null});Yj.displayName=Kj;function Bx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function z3(e,{referrerPolicy:t,crossOrigin:n}){const s=I3(),i=m.useRef(null),a=(()=>s?(i.current||(i.current=new window.Image),i.current):null)(),[o,l]=m.useState(()=>Bx(a,e));return Dn(()=>{l(Bx(a,e))},[a,e]),Dn(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,n,t]),o}var Qj=Wj,Jj=Gj,Xj=Yj;const Zj=Y.forwardRef(({className:e,...t},n)=>r.jsx(Qj,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Zj.displayName=Qj.displayName;const U3=Y.forwardRef(({className:e,...t},n)=>r.jsx(Jj,{ref:n,className:se("aspect-square h-full w-full",e),...t}));U3.displayName=Jj.displayName;const eN=Y.forwardRef(({className:e,...t},n)=>r.jsx(Xj,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));eN.displayName=Xj.displayName;const H3="modulepreload",W3=function(e){return"/"+e},zx={},Mo=function(t,n,s){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=W3(a),a in zx)return;zx[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":H3,o||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},q3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mo(()=>Promise.resolve().then(()=>bd),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Np extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class G3 extends Np{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ux extends Np{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hx extends Np{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cf||(Cf={}));var K3=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class Y3{constructor(t,{headers:n={},customFetch:s,region:i=Cf.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=q3(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return K3(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(x=>{throw new G3(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ux(h);if(!h.ok)throw new Hx(h);let g=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield h.json():g==="application/octet-stream"?y=yield h.blob():g==="text/event-stream"?y=h:g==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Hx||i instanceof Ux?i.context:void 0}}})}}var Ot={},Sp={},yd={},Do={},vd={},wd={},Q3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oi=Q3();const J3=Oi.fetch,X3=Oi.fetch.bind(Oi),Z3=Oi.Headers,eO=Oi.Request,tO=Oi.Response,bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:Z3,Request:eO,Response:tO,default:X3,fetch:J3},Symbol.toStringTag,{value:"Module"})),nO=jS(bd);var jd={};Object.defineProperty(jd,"__esModule",{value:!0});let sO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jd.default=sO;var tN=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wd,"__esModule",{value:!0});const rO=tN(nO),iO=tN(jd);let aO=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,d;let u=null,h=null,f=null,g=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const w=await a.text();try{u=JSON.parse(w),Array.isArray(u)&&a.status===404&&(h=[],u=null,g=200,y="OK")}catch{a.status===404&&w===""?(g=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new iO.default(u)}return{error:u,data:h,count:f,status:g,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};wd.default=aO;var oO=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});const lO=oO(wd);let cO=class extends lO.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};vd.default=cO;var dO=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});const uO=dO(vd);let hO=class extends uO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Do.default=hO;var fO=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const ha=fO(Do);let mO=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new ha.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ha.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ha.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ha.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ha.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};yd.default=mO;var nN=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sp,"__esModule",{value:!0});const pO=nN(yd),gO=nN(Do);let xO=class sN{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new pO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;s||i?(l=s?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=n);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new gO.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Sp.default=xO;var Ui=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const rN=Ui(Sp);Ot.PostgrestClient=rN.default;const iN=Ui(yd);Ot.PostgrestQueryBuilder=iN.default;const aN=Ui(Do);Ot.PostgrestFilterBuilder=aN.default;const oN=Ui(vd);Ot.PostgrestTransformBuilder=oN.default;const lN=Ui(wd);Ot.PostgrestBuilder=lN.default;const cN=Ui(jd);Ot.PostgrestError=cN.default;var yO=Ot.default={PostgrestClient:rN.default,PostgrestQueryBuilder:iN.default,PostgrestFilterBuilder:aN.default,PostgrestTransformBuilder:oN.default,PostgrestBuilder:lN.default,PostgrestError:cN.default};const{PostgrestClient:vO,PostgrestQueryBuilder:x8,PostgrestFilterBuilder:y8,PostgrestTransformBuilder:v8,PostgrestBuilder:w8,PostgrestError:b8}=yO;function wO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const bO=wO(),jO="2.12.1",NO=`realtime-js/${jO}`,SO="1.0.0",dN=1e4,CO=1e3;var La;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(La||(La={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var _f;(function(e){e.websocket="websocket"})(_f||(_f={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class _O{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+i));o=o+i;const c=s.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class uN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const Wx=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=EO(o,e,t,i),a),{})},EO=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!s.includes(a)?hN(a,o):Ef(o)},hN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return AO(t,n)}switch(e){case Pe.bool:return kO(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return TO(t);case Pe.json:case Pe.jsonb:return PO(t);case Pe.timestamp:return RO(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Ef(t);default:return Ef(t)}},Ef=e=>e,kO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>hN(t,l))}return e},RO=e=>typeof e=="string"?e.replace(" ","T"):e,fN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Du{constructor(t,n,s={},i=dN){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qx||(qx={}));class Ia{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ia.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ia.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ia.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const f=u.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),y=u.filter(w=>g.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(l[d]=y),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gx||(Gx={}));var Rc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rc||(Rc={}));var Un;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Cp{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,pn.join,this.params,this.timeout),this.rejoinTimer=new uN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ia(this),this.broadcastEndpointURL=fN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Rc.PRESENCE],u={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Un.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t==null||t(Un.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,w=[];for(let p=0;p<x;p++){const v=y[p],{filter:{event:b,schema:j,table:S,filter:E}}=v,N=f&&f[p];if(N&&N.event===b&&N.schema===j&&N.table===S&&N.filter===E)w.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Un.SUBSCRIBED);return}}).receive("error",f=>{this.state=it.errored,t==null||t(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===it.joined&&t===Rc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Du(this,pn.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Du(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=pn;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,x,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,s)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var y,x,w,p,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const j=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:w,commit_timestamp:p,type:v,errors:b}=y;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(y))}g.callback(f,s)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Cp.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wx(t.columns,t.old_record)),n}}const Kx=()=>{},OO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $O{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kx,this.ref=0,this.logger=Kx,this.conn=null,this.sendBuffer=[],this.serializer=new _O,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Mo(()=>import("./index-43696c78.js"),[]).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_f.websocket}`,this.httpEndpoint=fN(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection(),setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0)}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return lr.Connecting;case La.open:return lr.Open;case La.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new Cp(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:NO};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(pn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(CO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:a,ref:o}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([OO],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class _p extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class MO extends _p{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kf extends _p{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var DO=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const mN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mo(()=>Promise.resolve().then(()=>bd),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},LO=()=>DO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mo(()=>Promise.resolve().then(()=>bd),void 0)).Response:Response}),Tf=e=>{if(Array.isArray(e))return e.map(n=>Tf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Tf(s)}),t},IO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Or=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Lu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FO=(e,t,n)=>Or(void 0,void 0,void 0,function*(){const s=yield LO();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new MO(Lu(i),a,o))}).catch(i=>{t(new kf(Lu(i),i))}):t(new kf(Lu(e),e))}),VO=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?i:(IO(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n))};function Lo(e,t,n,s,i,a){return Or(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,VO(t,s,i,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>FO(c,l,s))})})}function Oc(e,t,n,s){return Or(this,void 0,void 0,function*(){return Lo(e,"GET",t,n,s)})}function Hn(e,t,n,s,i){return Or(this,void 0,void 0,function*(){return Lo(e,"POST",t,s,i,n)})}function Pf(e,t,n,s,i){return Or(this,void 0,void 0,function*(){return Lo(e,"PUT",t,s,i,n)})}function BO(e,t,n,s){return Or(this,void 0,void 0,function*(){return Lo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function pN(e,t,n,s,i){return Or(this,void 0,void 0,function*(){return Lo(e,"DELETE",t,s,i,n)})}var Tt=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const zO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UO{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=mN(i)}uploadOrUpdate(t,n,s,i){return Tt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Yx),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield(t=="PUT"?Pf:Hn)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(nt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Tt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:Yx.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Pf(this.fetch,l.toString(),c,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Tt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Hn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new _p("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}update(t,n,s){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Tt(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Tt(this,void 0,void 0,function*(){try{const i=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}download(t,n){return Tt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Oc(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nt(l))return{data:null,error:l};throw l}})}info(t){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Oc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tf(s),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}exists(t){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield BO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(nt(s)&&s instanceof kf){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield pN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}list(t,n,s){return Tt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zO),n),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const HO="2.10.1",WO={"X-Client-Info":`storage-js/${HO}`};var Ir=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class qO{constructor(t,n={},s,i){const a=new URL(t);if(i!=null&&i.useNewHostname){const o=/supabase\.(co|in|red)$/.test(a.hostname),l="/storage";o&&!a.hostname.includes("storage.supabase.")&&a.pathname.startsWith(l)&&(a.pathname=a.pathname.substring(l.length),a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},WO),n),this.fetch=mN(s)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ir(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield pN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}}class GO extends qO{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new UO(this.url,this.headers,t,this.fetch)}}const KO="2.30.0",YO={"X-Client-Info":`supabase-js/${KO}`};var Af={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof xt<"u"&&xt,s=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(o){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof xt<"u"&&xt||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(T){return T&&DataView.prototype.isPrototypeOf(T)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(T){return T&&u.indexOf(Object.prototype.toString.call(T))>-1};function f(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function g(T){return typeof T!="string"&&(T=String(T)),T}function y(T){var C={next:function(){var O=T.shift();return{done:O===void 0,value:O}}};return c.iterable&&(C[Symbol.iterator]=function(){return C}),C}function x(T){this.map={},T instanceof x?T.forEach(function(C,O){this.append(O,C)},this):Array.isArray(T)?T.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(C){this.append(C,T[C])},this)}x.prototype.append=function(T,C){T=f(T),C=g(C);var O=this.map[T];this.map[T]=O?O+", "+C:C},x.prototype.delete=function(T){delete this.map[f(T)]},x.prototype.get=function(T){return T=f(T),this.has(T)?this.map[T]:null},x.prototype.has=function(T){return this.map.hasOwnProperty(f(T))},x.prototype.set=function(T,C){this.map[f(T)]=g(C)},x.prototype.forEach=function(T,C){for(var O in this.map)this.map.hasOwnProperty(O)&&T.call(C,this.map[O],O,this)},x.prototype.keys=function(){var T=[];return this.forEach(function(C,O){T.push(O)}),y(T)},x.prototype.values=function(){var T=[];return this.forEach(function(C){T.push(C)}),y(T)},x.prototype.entries=function(){var T=[];return this.forEach(function(C,O){T.push([O,C])}),y(T)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function w(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function p(T){return new Promise(function(C,O){T.onload=function(){C(T.result)},T.onerror=function(){O(T.error)}})}function v(T){var C=new FileReader,O=p(C);return C.readAsArrayBuffer(T),O}function b(T){var C=new FileReader,O=p(C),P=/charset=([A-Za-z0-9_-]+)/.exec(T.type),M=P?P[1]:"utf-8";return C.readAsText(T,M),O}function j(T){for(var C=new Uint8Array(T),O=new Array(C.length),P=0;P<C.length;P++)O[P]=String.fromCharCode(C[P]);return O.join("")}function S(T){if(T.slice)return T.slice(0);var C=new Uint8Array(T.byteLength);return C.set(new Uint8Array(T)),C.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:c.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:c.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():c.arrayBuffer&&c.blob&&d(T)?(this._bodyArrayBuffer=S(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||h(T))?this._bodyArrayBuffer=S(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var T=w(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=w(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=w(this);if(T)return T;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(T){var C=T.toUpperCase();return N.indexOf(C)>-1?C:T}function R(T,C){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var O=C.body;if(T instanceof R){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,C.headers||(this.headers=new x(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!O&&T._bodyInit!=null&&(O=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new x(C.headers)),this.method=_(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in l){var F=new AbortController;return F.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function A(T){var C=new FormData;return T.trim().split("&").forEach(function(O){if(O){var P=O.split("="),M=P.shift().replace(/\+/g," "),F=P.join("=").replace(/\+/g," ");C.append(decodeURIComponent(M),decodeURIComponent(F))}}),C}function B(T){var C=new x,O=T.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var M=P.split(":"),F=M.shift().trim();if(F){var J=M.join(":").trim();try{C.append(F,J)}catch(re){console.warn("Response "+re.message)}}}),C}E.call(R.prototype);function k(T,C){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new x(C.headers),this.url=C.url||"",this._initBody(T)}E.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},k.error=function(){var T=new k(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var L=[301,302,303,307,308];k.redirect=function(T,C){if(L.indexOf(C)===-1)throw new RangeError("Invalid status code");return new k(null,{status:C,headers:{location:T}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,O){this.message=C,this.name=O;var P=Error(C);this.stack=P.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function D(T,C){return new Promise(function(O,P){var M=new R(T,C);if(M.signal&&M.signal.aborted)return P(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function J(){F.abort()}F.onload=function(){var le={statusText:F.statusText,headers:B(F.getAllResponseHeaders()||"")};M.url.indexOf("file://")===0&&(F.status<200||F.status>599)?le.status=200:le.status=F.status,le.url="responseURL"in F?F.responseURL:le.headers.get("X-Request-URL");var Te="response"in F?F.response:F.responseText;setTimeout(function(){O(new k(Te,le))},0)},F.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},F.onabort=function(){setTimeout(function(){P(new o.DOMException("Aborted","AbortError"))},0)};function re(le){try{return le===""&&l.location.href?l.location.href:le}catch{return le}}if(F.open(M.method,re(M.url),!0),M.credentials==="include"?F.withCredentials=!0:M.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(c.blob?F.responseType="blob":c.arrayBuffer&&(F.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof x||l.Headers&&C.headers instanceof l.Headers)){var fe=[];Object.getOwnPropertyNames(C.headers).forEach(function(le){fe.push(f(le)),F.setRequestHeader(le,g(C.headers[le]))}),M.headers.forEach(function(le,Te){fe.indexOf(Te)===-1&&F.setRequestHeader(Te,le)})}else M.headers.forEach(function(le,Te){F.setRequestHeader(Te,le)});M.signal&&(M.signal.addEventListener("abort",J),F.onreadystatechange=function(){F.readyState===4&&M.signal.removeEventListener("abort",J)}),F.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return D.polyfill=!0,l.fetch||(l.fetch=D,l.Headers=x,l.Request=R,l.Response=k),o.Headers=x,o.Request=R,o.Response=k,o.fetch=D,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var i=n.fetch?n:s;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Af,Af.exports);var Ep=Af.exports;const gN=_r(Ep),QO=By({__proto__:null,default:gN},[Ep]);var JO=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const XO=e=>{let t;return e?t=e:typeof fetch>"u"?t=gN:t=fetch,(...n)=>t(...n)},ZO=()=>typeof Headers>"u"?Ep.Headers:Headers,e$=(e,t,n)=>{const s=XO(n),i=ZO();return(a,o)=>JO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:d}))})};function t$(e){return e.replace(/\/$/,"")}function n$(e,t){const{db:n,auth:s,realtime:i,global:a}=e,{db:o,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},d),a)}}function s$(e){return Math.round(Date.now()/1e3)+e}function r$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bn=()=>typeof document<"u",nr={tested:!1,writable:!1},Hl=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Pt(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=s.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const xN=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await Mo(()=>Promise.resolve().then(()=>QO),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},i$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Iu=async(e,t)=>{await e.removeItem(t)};function a$(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,i,a,o,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),s=o<<2|l>>4,i=(l&15)<<4|c>>2,a=(c&3)<<6|d,n=n+String.fromCharCode(s),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),d!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class Nd{constructor(){this.promise=new Nd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Nd.promiseConstructor=Promise;function Qx(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(a$(s))}function o$(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function l$(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function c$(e){return("0"+e.toString(16)).substr(-2)}function ml(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,c$).join("")}async function d$(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function u$(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pl(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await d$(e);return u$(t)}const h$="__stack_guard__",f$="__",m$=/__stack_guard__([a-zA-Z0-9_-]+)__/;let Jx=!1,kp;function Rf(e){var t,n;kp();let s;try{throw new Error}catch(a){s=a}const i=(n=(t=s.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let a=0;a<i.length;a+=1){const l=i[a].match(m$);if(l&&l[1]===e)return!0}return!1}async function Of(e,t){await kp();const n=`${h$}${e}${f$}`;return await{[n]:async()=>await t()}[n]()}kp=async()=>{Jx||(Jx=!0,await Of("ENV_CHECK",async()=>{const e=Rf("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Tp extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class p$ extends Tp{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function g$(e){return me(e)&&e.name==="AuthApiError"}class yN extends Tp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hi extends Tp{constructor(t,n,s){super(t),this.name=n,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fr extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Fu extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class gl extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Vn extends Hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vu extends Hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $f extends Hi{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Xx(e){return me(e)&&e.name==="AuthRetryableFetchError"}var x$=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y$=[502,503,504];async function Zx(e){if(!i$(e))throw new $f(ba(e),0);if(y$.includes(e.status))throw new $f(ba(e),e.status);let t;try{t=await e.json()}catch(n){throw new yN(ba(n),n)}throw new p$(ba(t),e.status||500)}const v$=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function xe(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await w$(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function w$(e,t,n,s,i,a){const o=v$(t,s,i,a);let l;try{l=await e(n,o)}catch(c){throw console.error(c),new $f(ba(c),0)}if(l.ok||await Zx(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Zx(c)}}function ys(e){var t;let n=null;S$(e)&&(n=Object.assign({},e),n.expires_at=s$(e.expires_in));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function b$(e){return{data:e,error:null}}function j$(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=x$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function N$(e){return e}function S$(e){return e.access_token&&e.refresh_token&&e.expires_in}var C$=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class _${constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=xN(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cr})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=C$(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:j$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:N$});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(me(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cr})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cr})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}const E$="2.43.1",k$="http://localhost:9999",T$="supabase.auth.token",P$={"X-Client-Info":`gotrue-js/${E$}`},ey=10,ty={getItem:e=>Hl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hl()&&globalThis.localStorage.removeItem(e)}};function A$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}A$();const R$={url:k$,storageKey:T$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P$,flowType:"implicit",debug:!1},xl=30*1e3,ny=3;class go{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=go.nextInstanceID,go.nextInstanceID+=1,this.instanceID>0&&Bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},R$),t);if(this.logDebugMessages=s.debug,this.inMemorySession=null,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.persistSession=s.persistSession,this.storage=s.storage||ty,this.admin=new _$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xN(s.fetch),this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===ty&&!Hl()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=Of("_initialize",async()=>{try{const t=Bn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:s}=await this._getSessionFromUrl(t);if(s)return this._debug("#_initialize()","error detecting session from URL",s),await this._removeSession(),{error:s};const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?{error:t}:{error:new yN("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,s,i;try{await this._removeSession();let a;if("email"in t){const{email:u,password:h,options:f}=t;let g=null,y=null;if(this.flowType==="pkce"){const x=ml();await fa(this.storage,`${this.storageKey}-code-verifier`,x),g=await pl(x),y=x===g?"plain":"s256"}a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:ys})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ys})}else throw new gl("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ys})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ys})}else throw new gl("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Fu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:i})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await fl(this.storage,`${this.storageKey}-code-verifier`),{data:s,error:i}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ys});return await Iu(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Fu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,l=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ys}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,u=null;if(this.flowType==="pkce"){const f=ml();await fa(this.storage,`${this.storageKey}-code-verifier`,f),d=await pl(f),u=f===d?"plain":"s256"}const{error:h}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new gl("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,xform:ys});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{return await this._removeSession(),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:b$})}catch(a){if(me(a))return{data:null,error:a};throw a}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Fr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:l}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new gl("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await Of("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Rf("_useSession"))throw new Error("Please use #_useSession()");Rf("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const a=await fl(this.storage,this.storageKey);this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var s,i;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0}return await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cr})})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Fr;const o=i.session,{data:l,error:c}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:o.access_token,xform:cr});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return Qx(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fr;const n=Date.now()/1e3;let s=n,i=!0,a=null;const o=Qx(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Fr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!Bn())throw new Vn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Vn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Vu("Not a valid PKCE flow url.");if(t){const w=Pt("code");if(!w)throw new Vu("No code detected.");const{data:p,error:v}=await this.exchangeCodeForSession(w);if(v)throw v;if(!p.session)throw new Vu("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const n=Pt("error_description");if(n){const w=Pt("error_code");if(!w)throw new Vn("No error_code detected.");const p=Pt("error");throw p?new Vn(n,{error:p,code:w}):new Vn("No error detected.")}const s=Pt("provider_token"),i=Pt("provider_refresh_token"),a=Pt("access_token");if(!a)throw new Vn("No access_token detected.");const o=Pt("expires_in");if(!o)throw new Vn("No expires_in detected.");const l=Pt("refresh_token");if(!l)throw new Vn("No refresh_token detected.");const c=Pt("token_type");if(!c)throw new Vn("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:f}=await this.getUser(a);if(f)throw f;const g=h.user,y={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:parseInt(o),expires_at:u,refresh_token:l,token_type:c,user:g},x=Pt("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:y,redirectType:x},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return Bn()&&(!!Pt("access_token")||!!Pt("error_description"))}async _isPKCEFlow(){const t=await fl(this.storage,`${this.storageKey}-code-verifier`);return!!Pt("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(g$(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Iu(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=r$(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),this._emitInitialSession(n),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;if(this.flowType==="pkce"){const a=ml();await fa(this.storage,`${this.storageKey}-code-verifier`,a),s=await pl(a),i=a===s?"plain":"s256"}try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await l$(async i=>(await o$(i*200),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ys})),(i,a,o)=>o&&o.error&&Xx(o.error)&&Date.now()+(i+1)*200-s<xl)}catch(s){if(this._debug(n,"error",s),me(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Bn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await fl(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<i+ey;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ey}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Xx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Nd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Fr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),me(a)){const o={session:null,error:a};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),fa(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Iu(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/xl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xl}ms, refresh threshold is ${ny} ticks`),i<=ny&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=ml();await fa(this.storage,`${this.storageKey}-code-verifier`,i);const a=await pl(i),o=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return`${this.url}/authorize?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:s,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}go.nextInstanceID=0;class O$ extends go{constructor(t){super(t)}}var $$=globalThis&&globalThis.__awaiter||function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const M$={headers:YO},D$={schema:"public"},L$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I$={};class F${constructor(t,n,s){var i,a,o,l,c,d,u,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=t$(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:D$,realtime:I$,auth:Object.assign(Object.assign({},L$),{storageKey:g}),global:M$},x=n$(s??{},y);this.storageKey=(a=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,(d=x.global)===null||d===void 0?void 0:d.fetch),this.fetch=e$(n,this._getAccessToken.bind(this),(u=x.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new vO(`${f}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Y3(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new GO(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},s){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $$(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:a,flowType:o,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O$({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:o,debug:l,fetch:d})}_initRealtimeClient(t){return new $O(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V$=(e,t,n)=>new F$(e,t,n),B$="https://mvwvshrmufwssjbatcxq.supabase.co",z$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12d3ZzaHJtdWZ3c3NqYmF0Y3hxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3MDQ4MDgsImV4cCI6MjA2NTI4MDgwOH0.3iA_rlSR9fhNeyjRXKYxBm4E4qPchCsoRmWy28ou-eo",z=V$(B$,z$),U$=({onMenuClick:e,userRole:t})=>{const{toast:n}=oe(),s=Eo(),i=async()=>{const{error:c}=await z.auth.signOut();c?n({variant:"destructive",title:"Logout Failed",description:c.message}):(n({title:"Logged Out",description:"You have been successfully logged out."}),s(0))},a=c=>{c.preventDefault(),n({title:" Search Not Implemented",description:"This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},o=()=>{n({title:" Notifications Not Implemented",description:"This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},l=()=>{n({title:" Profile Not Implemented",description:"This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsx(V.header,{initial:{y:-60,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:120,damping:20},className:"glass-effect border-b border-slate-700/50 px-4 sm:px-6 py-3 sticky top-0 z-30",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[r.jsx($,{variant:"ghost",size:"icon",onClick:e,className:"text-slate-300 hover:text-white hover:bg-slate-700/50 lg:hidden",children:r.jsx(cT,{className:"w-5 h-5"})}),r.jsxs("form",{onSubmit:a,className:"relative hidden sm:block",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),r.jsx(X,{placeholder:"Global Search...",className:"pl-10 w-64 md:w-80 bg-slate-700/30 border-slate-600 text-white placeholder:text-slate-400 focus:ring-blue-500 focus:border-blue-500 rounded-lg"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[r.jsxs($,{variant:"ghost",size:"icon",onClick:o,className:"text-slate-300 hover:text-white hover:bg-slate-700/50 relative rounded-full",children:[r.jsx(B4,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-slate-800 animate-pulse"})]}),t==="admin"&&r.jsx(ko,{to:"/admin-settings",children:r.jsx($,{variant:"ghost",size:"icon",className:"text-slate-300 hover:text-white hover:bg-slate-700/50 rounded-full",title:"Admin Settings",children:r.jsx(Ti,{className:"w-5 h-5"})})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zj,{onClick:l,className:"w-8 h-8 cursor-pointer hover:opacity-80 transition-opacity",children:r.jsx(eN,{className:"bg-gradient-to-br from-blue-600 to-purple-700 text-white text-xs",children:r.jsx(Xm,{className:"w-4 h-4"})})}),t&&r.jsx("span",{className:"text-xs text-slate-400 hidden md:inline",children:t.replace(/_/g," ").split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ")})]}),r.jsx($,{variant:"ghost",size:"icon",onClick:i,className:"text-slate-300 hover:text-red-400 hover:bg-red-500/20 rounded-full",title:"Logout",children:r.jsx(oT,{className:"w-5 h-5"})})]})]})})},H$=250,W$=100,q$=800,G$=600,K$=()=>{const[e,t]=m.useState(!0),[n,s]=m.useState(!1),[i,a]=m.useState({x:window.innerWidth-370,y:50}),[o,l]=m.useState({width:350,height:180}),[c,d]=m.useState([]),{toast:u}=oe(),h=m.useRef(null),[f,g]=m.useState(!1);m.useEffect(()=>{const p=async()=>{try{const{data:b,error:j}=await z.from("notifications").select("id, message, type, ticker_status, created_at").in("ticker_status",["red","yellow","orange","green"]).order("created_at",{ascending:!1}).limit(10);if(j){console.error("Error fetching ticker alerts:",j),u({variant:"destructive",title:"Ticker Error",description:"Could not load alerts."});return}const S=b.map(E=>{let N=pi,_="bg-slate-700/80 hover:bg-slate-600/80";switch(E.ticker_status){case"red":N=pi,_="bg-red-500/80 hover:bg-red-400/80";break;case"yellow":case"orange":N=dt,_="bg-yellow-500/80 hover:bg-yellow-400/80";break;case"green":N=tt,_="bg-green-500/80 hover:bg-green-400/80";break;default:N=pi}return{...E,icon:N,color:_}});d(S)}catch(b){console.error("Ticker fetch exception:",b),u({variant:"destructive",title:"Ticker Exception",description:"An error occurred while fetching alerts."})}};p();const v=z.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},b=>{p()}).subscribe();return()=>{z.removeChannel(v)}},[u]);const y=p=>{u({title:`Alert: ${p.type||"Notification"}`,description:p.message,variant:p.ticker_status==="red"?"destructive":"default"})},x=(p,v)=>{f&&l(b=>({width:Math.min(q$,Math.max(H$,b.width+v.delta.x)),height:Math.min(G$,Math.max(W$,b.height+v.delta.y))}))},w=(p,v)=>{a(b=>({x:Math.max(0,Math.min(window.innerWidth-o.width,b.x+v.delta.x)),y:Math.max(0,Math.min(window.innerHeight-o.height,b.y+v.delta.y))}))};return e?r.jsxs(V.div,{ref:h,style:{position:"fixed",left:i.x,top:i.y,width:o.width,height:o.height,zIndex:1e3},className:"glass-effect rounded-xl shadow-2xl flex flex-col overflow-hidden border border-slate-700/50",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:[r.jsxs(V.div,{drag:!0,dragConstraints:{left:0,top:0,right:window.innerWidth-o.width,bottom:window.innerHeight-o.height},dragMomentum:!1,onDrag:w,className:"flex items-center justify-between p-2.5 border-b border-slate-700/30 bg-slate-800/50 cursor-move",children:[r.jsx("span",{className:"text-xs font-semibold text-sky-300 uppercase tracking-wider",children:"Live Alerts"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx($,{variant:"ghost",size:"icon",className:"w-5 h-5 text-slate-400 hover:text-sky-300 focus:outline-none focus:ring-1 focus:ring-sky-500",onClick:p=>{p.stopPropagation(),s(!n)},children:n?r.jsx(dT,{className:"w-3 h-3"}):r.jsx(lT,{className:"w-3 h-3"})}),r.jsx($,{variant:"ghost",size:"icon",className:"w-5 h-5 text-slate-400 hover:text-red-400 focus:outline-none focus:ring-1 focus:ring-red-500",onClick:p=>{p.stopPropagation(),t(!1)},children:r.jsx(Xt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{className:"flex-1 p-2.5 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50",children:r.jsxs(er,{children:[c.length===0&&r.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full text-slate-500 text-xs",children:[r.jsx(tt,{className:"w-6 h-6 mb-1"}),"No active alerts."]}),c.slice(0,n?10:Math.floor((o.height-60)/40)||1).map((p,v)=>r.jsxs(V.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-50},transition:{type:"spring",stiffness:300,damping:30,delay:v*.05},className:se("flex items-center space-x-2 p-1.5 rounded-md mb-1.5 cursor-pointer transition-all duration-150 ease-in-out",p.color,"text-white shadow-sm hover:shadow-md"),onClick:()=>y(p),children:[r.jsx(p.icon,{className:"w-3.5 h-3.5 flex-shrink-0"}),r.jsx("span",{className:"text-xs truncate",title:p.message,children:p.message})]},p.id||v))]})}),r.jsx(V.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:0,onDragStart:()=>g(!0),onDragEnd:()=>g(!1),onDrag:x,className:"absolute bottom-0 right-0 w-5 h-5 cursor-se-resize flex items-center justify-center text-slate-500 hover:text-sky-300",title:"Resize Ticker",children:r.jsx(eT,{className:"w-3 h-3 transform rotate-45"})})]}):null},Y$=({userRole:e})=>{const[t,n]=m.useState(window.innerWidth>1024),s=Xs();return m.useEffect(()=>{const i=()=>{window.innerWidth<=1024?n(!1):n(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),m.useEffect(()=>{window.innerWidth<=1024&&n(!1)},[s]),r.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-slate-900 to-black",children:[r.jsx(_3,{isOpen:t,userRole:e,toggleSidebar:()=>n(!t)}),r.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out ${t&&window.innerWidth>1024?"lg:ml-64":"ml-0"}`,children:[r.jsx(U$,{onMenuClick:()=>n(!t),userRole:e}),r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 lg:p-8",children:r.jsx(db,{})})]}),e&&e!=="client_poc"&&r.jsx(K$,{})]})},H=Y.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:se("ios-card text-card-foreground",e),...t}));H.displayName="Card";const K=Y.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));K.displayName="CardHeader";const G=Y.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));G.displayName="CardTitle";const ae=Y.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));ae.displayName="CardDescription";const U=Y.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));U.displayName="CardContent";const Q$=Y.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));Q$.displayName="CardFooter";const J$=({userRole:e})=>{const{toast:t}=oe(),n=Eo(),[s,i]=m.useState([]),[a,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState("User");m.useEffect(()=>{e?(async()=>{c(!0);let y=[{id:"sites",title:"Active Facilities",value:"0",icon:es,change:"+0",color:"text-blue-400",roles:["admin","supervisor","operations_manager","executive","client_poc"]},{id:"regions",title:"Managed Regions",value:"0",icon:yr,change:"+0",color:"text-purple-400",roles:["admin","operations_manager","executive"]},{id:"officers",title:"Total Officers",value:"0",icon:Re,change:"+0",color:"text-green-400",roles:["admin","supervisor","operations_manager","executive"]},{id:"alerts",title:"Active Alerts",value:"0",icon:dt,change:"0",color:"text-yellow-400",roles:["admin","supervisor","operations_manager","executive","hybrid_employee"]},{id:"compliance",title:"Compliance",value:"0%",icon:tt,change:"+0%",color:"text-emerald-400",roles:["admin","operations_manager","executive","consultant"]}];try{const{data:{user:x}}=await z.auth.getUser();if(x){const{data:R}=await z.from("users").select("full_name").eq("auth_user_id",x.id).single();R&&u(R.full_name||"User")}const w=[z.from("sites").select("*",{count:"exact",head:!0}).eq("type","site"),z.from("sites").select("*",{count:"exact",head:!0}).eq("type","region"),z.from("users").select("*",{count:"exact",head:!0}).neq("role","client_poc"),z.from("notifications").select("*",{count:"exact",head:!0}).eq("read",!1).neq("ticker_status","green")],[p,v,b,j]=await Promise.all(w);y=y.map(R=>{var A,B,k,L;return R.id==="sites"?{...R,value:((A=p.count)==null?void 0:A.toString())??"0"}:R.id==="regions"?{...R,value:((B=v.count)==null?void 0:B.toString())??"0"}:R.id==="officers"?{...R,value:((k=b.count)==null?void 0:k.toString())??"0"}:R.id==="alerts"?{...R,value:((L=j.count)==null?void 0:L.toString())??"0"}:R.id==="compliance"?{...R,value:"98%"}:R});const S=y.filter(R=>e&&R.roles.includes(e));i(S);const{data:E,error:N}=await z.from("notifications").select("id, message, created_at, type, ticker_status").order("created_at",{ascending:!1}).limit(5);if(N)throw N;const _=E.map(R=>({id:R.id,message:R.message,time:new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:R.ticker_status==="red"?"critical":R.ticker_status==="yellow"||R.ticker_status==="orange"?"warning":R.type==="training_alert"?"info":"success",type:R.type}));o(_)}catch{t({variant:"destructive",title:"Dashboard Error",description:"Failed to load some dashboard data."})}finally{c(!1)}})():c(!1)},[e,t]);const h=()=>{const g=new Date().getHours();return g<12?"Good Morning":g<18?"Good Afternoon":"Good Evening"},f=[{label:"New Report",icon:et,roles:["admin","supervisor","operations_manager","hybrid_employee"],path:"/reports/list"},{label:"View Schedule",icon:bc,roles:["admin","supervisor","operations_manager","hybrid_employee"],path:"/scheduling"},{label:"Manage Hierarchy",icon:yr,roles:["admin","operations_manager","executive"],path:"/sites"},{label:"Client Portal",icon:gi,roles:["client_poc"],path:"/"}].filter(g=>e&&g.roles.includes(e));return l?r.jsxs("div",{className:"min-h-[calc(100vh-150px)] flex flex-col items-center justify-center text-white p-4",children:[r.jsx("img",{alt:"GS-3 SecureOps Pro Logo loading",className:"w-24 h-24 mb-4 animate-pulse",src:"https://images.unsplash.com/photo-1575821104894-b683ce7525ff"}),r.jsx("p",{className:"text-slate-300",children:"Loading Dashboard Data..."}),r.jsx("div",{className:"mt-6 w-12 h-12 border-4 border-dashed rounded-full animate-spin border-blue-400"})]}):e?r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[r.jsxs("h1",{className:"text-3xl font-bold text-white",children:[h(),", ",d,"!"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Here's your operational overview for today."})]}),s.length>0&&r.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${Math.min(s.length,5)} gap-6`,children:s.map((g,y)=>r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},children:r.jsx(H,{className:"ios-card hover-lift",children:r.jsx(U,{className:"p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:g.title}),r.jsx("p",{className:"text-2xl font-bold text-white",children:g.value}),g.change&&r.jsxs("p",{className:`text-xs ${g.color} flex items-center mt-1`,children:[r.jsx(jc,{className:"w-3 h-3 mr-1"}),g.change]})]}),r.jsx("div",{className:"p-2.5 rounded-lg bg-gradient-to-br from-slate-700/50 to-slate-800/50",children:r.jsx(g.icon,{className:`w-5 h-5 ${g.color}`})})]})})})},g.id))}),f.length>0&&r.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:f.map(g=>r.jsxs($,{variant:"outline",className:"glass-button justify-start text-left h-auto py-2.5 px-3 hover-lift",onClick:()=>g.path?n(g.path):t({title:" Feature Not Implemented"}),children:[r.jsx(g.icon,{className:"w-4 h-4 mr-2 text-blue-400 flex-shrink-0"}),r.jsx("span",{className:"text-xs text-gray-200",children:g.label})]},g.label))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Gb,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Recent Activities"})]})}),r.jsx(U,{children:a.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 scrollbar-hide",children:a.map(g=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-slate-800/40 hover:bg-slate-700/60 transition-colors",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full mt-1.5 flex-shrink-0 ${g.status==="critical"?"bg-red-500 animate-ping":g.status==="success"?"bg-green-500":g.status==="warning"?"bg-yellow-500":"bg-blue-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white text-sm",children:g.message}),r.jsxs("p",{className:"text-gray-400 text-xs mt-0.5 flex items-center",children:[r.jsx(zi,{className:"w-3 h-3 mr-1"}),g.time," - ",r.jsx("span",{className:"ml-1 capitalize",children:g.type.replace(/_/g," ")})]})]})]},g.id))}):r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No recent activities to display."})})]})}),r.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(ts,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"System Status"})]})}),r.jsx(U,{children:r.jsx("div",{className:"space-y-3",children:[{name:"Core Systems",status:"Operational",color:"green"},{name:"NFC Network",status:"Online",color:"green"},{name:"Training Platform",status:e==="admin"?"Maintenance":"Operational",color:e==="admin"?"yellow":"green"},{name:"Analytics Engine",status:"Active",color:"green"},{name:"Database Connection",status:"Secure",color:"green"}].map(g=>r.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-slate-800/40",children:[r.jsx("span",{className:"text-white text-sm",children:g.name}),r.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full bg-${g.color}-500/20 text-${g.color}-400`,children:g.status})]},g.name))})})]})})]})]}):r.jsxs("div",{className:"min-h-[calc(100vh-150px)] flex flex-col items-center justify-center text-white p-4 text-center",children:[r.jsx("img",{alt:"GS-3 SecureOps Pro Logo",className:"w-28 h-28 mb-5",src:"https://images.unsplash.com/photo-1590456744140-d196318f23cf"}),r.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Welcome to SecureOps Pro"}),r.jsx("p",{className:"text-slate-400 mb-6 max-w-md",children:"Your advanced security management platform. Please log in to access your personalized dashboard and operational tools."})]})};var X$=Bc[" useId ".trim().toString()]||(()=>{}),Z$=0;function Fa(e){const[t,n]=m.useState(X$());return Dn(()=>{e||n(s=>s??String(Z$++))},[e]),e||(t?`radix-${t}`:"")}var eM=m.createContext(void 0);function vN(e){const t=m.useContext(eM);return e||t||"ltr"}var Bu="rovingFocusGroup.onEntryFocus",tM={bubbles:!1,cancelable:!0},Io="RovingFocusGroup",[Mf,wN,nM]=bb(Io),[sM,bN]=Tr(Io,[nM]),[rM,iM]=sM(Io),jN=m.forwardRef((e,t)=>r.jsx(Mf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(aM,{...e,ref:t})})}));jN.displayName=Io;var aM=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=m.useRef(null),g=It(t,f),y=vN(a),[x,w]=To({prop:o,defaultProp:l??null,onChange:c,caller:Io}),[p,v]=m.useState(!1),b=jn(d),j=wN(n),S=m.useRef(!1),[E,N]=m.useState(0);return m.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(Bu,b),()=>_.removeEventListener(Bu,b)},[b]),r.jsx(rM,{scope:n,orientation:s,dir:y,loop:i,currentTabStopId:x,onItemFocus:m.useCallback(_=>w(_),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>N(_=>_-1),[]),children:r.jsx(Ce.div,{tabIndex:p||E===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{S.current=!0}),onFocus:je(e.onFocus,_=>{const R=!S.current;if(_.target===_.currentTarget&&R&&!p){const A=new CustomEvent(Bu,tM);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const B=j().filter(C=>C.focusable),k=B.find(C=>C.active),L=B.find(C=>C.id===x),T=[k,L,...B].filter(Boolean).map(C=>C.ref.current);CN(T,u)}}S.current=!1}),onBlur:je(e.onBlur,()=>v(!1))})})}),NN="RovingFocusGroupItem",SN=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Fa(),d=a||c,u=iM(NN,n),h=u.currentTabStopId===d,f=wN(n),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:x}=u;return m.useEffect(()=>{if(s)return g(),()=>y()},[s,g,y]),r.jsx(Mf.ItemSlot,{scope:n,id:d,focusable:s,active:i,children:r.jsx(Ce.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:je(e.onMouseDown,w=>{s?u.onItemFocus(d):w.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:je(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=cM(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(j=>j.focusable).map(j=>j.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=u.loop?dM(b,j+1):b.slice(j+1)}setTimeout(()=>CN(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});SN.displayName=NN;var oM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cM(e,t,n){const s=lM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return oM[s]}function CN(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function dM(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var uM=jN,hM=SN,Sd="Tabs",[fM,j8]=Tr(Sd,[bN]),_N=bN(),[mM,Pp]=fM(Sd),EN=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=vN(l),[h,f]=To({prop:s,onChange:i,defaultProp:a??"",caller:Sd});return r.jsx(mM,{scope:n,baseId:Fa(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:r.jsx(Ce.div,{dir:u,"data-orientation":o,...d,ref:t})})});EN.displayName=Sd;var kN="TabsList",TN=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=Pp(kN,n),o=_N(n);return r.jsx(uM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(Ce.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});TN.displayName=kN;var PN="TabsTrigger",AN=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=Pp(PN,n),l=_N(n),c=$N(o.baseId,s),d=MN(o.baseId,s),u=s===o.value;return r.jsx(hM,{asChild:!0,...l,focusable:!i,active:u,children:r.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:je(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:je(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:je(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(s)})})})});AN.displayName=PN;var RN="TabsContent",ON=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,l=Pp(RN,n),c=$N(l.baseId,s),d=MN(l.baseId,s),u=s===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(Bi,{present:i||u,children:({present:f})=>r.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});ON.displayName=RN;function $N(e,t){return`${e}-trigger-${t}`}function MN(e,t){return`${e}-content-${t}`}var pM=EN,DN=TN,LN=AN,IN=ON;const Zt=pM,Bt=Y.forwardRef(({className:e,...t},n)=>r.jsx(DN,{ref:n,className:se("inline-flex h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bt.displayName=DN.displayName;const ne=Y.forwardRef(({className:e,...t},n)=>r.jsx(LN,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ne.displayName=LN.displayName;const ie=Y.forwardRef(({className:e,...t},n)=>r.jsx(IN,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ie.displayName=IN.displayName;const $c={async getAssessments(e={}){try{let t=z.from("assessments").select("*").order("scheduled_date",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.priority&&(t=t.eq("priority",e.priority)),e.assessment_type&&(t=t.eq("assessment_type",e.assessment_type)),e.search&&(t=t.or(`client_name.ilike.%${e.search}%,location.ilike.%${e.search}%`));const{data:n,error:s}=await t;if(s)throw console.error("Error fetching assessments:",s),s;return n||[]}catch(t){throw console.error("Error in getAssessments:",t),t}},async getAssessment(e){try{const{data:t,error:n}=await z.from("assessments").select("*").eq("id",e).single();if(n)throw console.error("Error fetching assessment:",n),n;return t}catch(t){throw console.error("Error in getAssessment:",t),t}},async createAssessment(e){try{const{data:t,error:n}=await z.from("assessments").insert([e]).select().single();if(n)throw console.error("Error creating assessment:",n),n;return t}catch(t){throw console.error("Error in createAssessment:",t),t}},async updateAssessment(e,t){try{const{data:n,error:s}=await z.from("assessments").update(t).eq("id",e).select().single();if(s)throw console.error("Error updating assessment:",s),s;return n}catch(n){throw console.error("Error in updateAssessment:",n),n}},async deleteAssessment(e){try{const{error:t}=await z.from("assessments").delete().eq("id",e);if(t)throw console.error("Error deleting assessment:",t),t;return{success:!0}}catch(t){throw console.error("Error in deleteAssessment:",t),t}},async getAssessmentTemplates(){try{const{data:e,error:t}=await z.from("assessment_templates").select("*").eq("is_active",!0).order("title");if(t)throw console.error("Error fetching assessment templates:",t),t;return e||[]}catch(e){throw console.error("Error in getAssessmentTemplates:",e),e}},async getAssessmentServices(e){try{const{data:t,error:n}=await z.from("assessment_services").select("*").eq("assessment_id",e).order("service_name");if(n)throw console.error("Error fetching assessment services:",n),n;return t||[]}catch(t){throw console.error("Error in getAssessmentServices:",t),t}},async updateAssessmentServices(e,t){try{const{error:n}=await z.from("assessment_services").delete().eq("assessment_id",e);if(n)throw console.error("Error deleting existing assessment services:",n),n;if(t&&t.length>0){const s=t.map(o=>({assessment_id:e,service_name:o.name,is_included:o.is_included,notes:o.notes})),{data:i,error:a}=await z.from("assessment_services").insert(s).select();if(a)throw console.error("Error inserting assessment services:",a),a;return i}return[]}catch(n){throw console.error("Error in updateAssessmentServices:",n),n}},async getAssessmentStats(){try{const{data:e,error:t}=await z.from("assessments").select("status, priority, assessment_type");if(t)throw console.error("Error fetching assessment stats:",t),t;const n={total:e.length,byStatus:{},byPriority:{},byType:{}};return e.forEach(s=>{n.byStatus[s.status]=(n.byStatus[s.status]||0)+1,n.byPriority[s.priority]=(n.byPriority[s.priority]||0)+1,n.byType[s.assessment_type]=(n.byType[s.assessment_type]||0)+1}),n}catch(e){throw console.error("Error in getAssessmentStats:",e),e}}};var gM="Label",FN=m.forwardRef((e,t)=>r.jsx(Ce.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FN.displayName=gM;var VN=FN;const xM=od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=Y.forwardRef(({className:e,...t},n)=>r.jsx(VN,{ref:n,className:se(xM(),e),...t}));q.displayName=VN.displayName;function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ke.apply(null,arguments)}function sy(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ap(e,t=[]){let n=[];function s(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:g,...y}=h,x=(f==null?void 0:f[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return m.createElement(x.Provider,{value:w},g)}function u(h,f){const g=(f==null?void 0:f[e][c])||l,y=m.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,u]}const i=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,yM(i,...t)]}function yM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function vM(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function BN(...e){return t=>e.forEach(n=>vM(n,t))}function Vt(...e){return m.useCallback(BN(...e),e)}const xo=m.forwardRef((e,t)=>{const{children:n,...s}=e,i=m.Children.toArray(n),a=i.find(bM);if(a){const o=a.props.children,l=i.map(c=>c===a?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return m.createElement(Df,ke({},s,{ref:t}),m.isValidElement(o)?m.cloneElement(o,void 0,l):null)}return m.createElement(Df,ke({},s,{ref:t}),n)});xo.displayName="Slot";const Df=m.forwardRef((e,t)=>{const{children:n,...s}=e;return m.isValidElement(n)?m.cloneElement(n,{...jM(s,n.props),ref:t?BN(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Df.displayName="SlotClone";const wM=({children:e})=>m.createElement(m.Fragment,null,e);function bM(e){return m.isValidElement(e)&&e.type===wM}function jM(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...l)=>{a(...l),i(...l)}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function NM(e){const t=e+"CollectionProvider",[n,s]=Ap(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,w=Y.useRef(null),p=Y.useRef(new Map).current;return Y.createElement(i,{scope:y,itemMap:p,collectionRef:w},x)},l=e+"CollectionSlot",c=Y.forwardRef((g,y)=>{const{scope:x,children:w}=g,p=a(l,x),v=Vt(y,p.collectionRef);return Y.createElement(xo,{ref:v},w)}),d=e+"CollectionItemSlot",u="data-radix-collection-item",h=Y.forwardRef((g,y)=>{const{scope:x,children:w,...p}=g,v=Y.useRef(null),b=Vt(y,v),j=a(d,x);return Y.useEffect(()=>(j.itemMap.set(v,{ref:v,...p}),()=>void j.itemMap.delete(v))),Y.createElement(xo,{[u]:"",ref:b},w)});function f(g){const y=a(e+"CollectionConsumer",g);return Y.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const p=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((j,S)=>p.indexOf(j.ref.current)-p.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,s]}const SM=m.createContext(void 0);function CM(e){const t=m.useContext(SM);return e||t||"ltr"}const _M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vt=_M.reduce((e,t)=>{const n=m.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?xo:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(l,ke({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function EM(e,t){e&&Js.flushSync(()=>e.dispatchEvent(t))}function cs(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...n)},[])}function kM(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[n,t])}const Lf="dismissableLayer.update",TM="dismissableLayer.pointerDownOutside",PM="dismissableLayer.focusOutside";let ry;const AM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RM=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=m.useContext(AM),[h,f]=m.useState(null),g=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=m.useState({}),x=Vt(t,_=>f(_)),w=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(p),b=h?w.indexOf(h):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,E=OM(_=>{const R=_.target,A=[...u.branches].some(B=>B.contains(R));!S||A||(a==null||a(_),l==null||l(_),_.defaultPrevented||c==null||c())},g),N=$M(_=>{const R=_.target;[...u.branches].some(B=>B.contains(R))||(o==null||o(_),l==null||l(_),_.defaultPrevented||c==null||c())},g);return kM(_=>{b===u.layers.size-1&&(i==null||i(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},g),m.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ry=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),iy(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ry)}},[h,g,s,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),iy())},[h,u]),m.useEffect(()=>{const _=()=>y({});return document.addEventListener(Lf,_),()=>document.removeEventListener(Lf,_)},[]),m.createElement(vt.div,ke({},d,{ref:x,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Nt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Nt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Nt(e.onPointerDownCapture,E.onPointerDownCapture)}))});function OM(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let d=function(){zN(TM,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function $M(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),s=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!s.current&&zN(PM,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function iy(){const e=new CustomEvent(Lf);document.dispatchEvent(e)}function zN(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?EM(i,a):i.dispatchEvent(a)}let zu=0;function MM(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:ay()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:ay()),zu++,()=>{zu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),zu--}},[])}function ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Uu="focusScope.autoFocusOnMount",Hu="focusScope.autoFocusOnUnmount",oy={bubbles:!1,cancelable:!0},DM=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),d=cs(i),u=cs(a),h=m.useRef(null),f=Vt(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(b){if(g.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:ws(h.current,{select:!0})},w=function(b){if(g.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||ws(h.current,{select:!0}))},p=function(b){const j=document.activeElement;for(const S of b)S.removedNodes.length>0&&(l!=null&&l.contains(j)||ws(l))};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[s,l,g.paused]),m.useEffect(()=>{if(l){cy.add(g);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Uu,oy);l.addEventListener(Uu,d),l.dispatchEvent(p),p.defaultPrevented||(LM(zM(UN(l)),{select:!0}),document.activeElement===x&&ws(l))}return()=>{l.removeEventListener(Uu,d),setTimeout(()=>{const p=new CustomEvent(Hu,oy);l.addEventListener(Hu,u),l.dispatchEvent(p),p.defaultPrevented||ws(x??document.body,{select:!0}),l.removeEventListener(Hu,u),cy.remove(g)},0)}}},[l,d,u,g]);const y=m.useCallback(x=>{if(!n&&!s||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(w&&p){const v=x.currentTarget,[b,j]=IM(v);b&&j?!x.shiftKey&&p===j?(x.preventDefault(),n&&ws(b,{select:!0})):x.shiftKey&&p===b&&(x.preventDefault(),n&&ws(j,{select:!0})):p===v&&x.preventDefault()}},[n,s,g.paused]);return m.createElement(vt.div,ke({tabIndex:-1},o,{ref:f,onKeyDown:y}))});function LM(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ws(s,{select:t}),document.activeElement!==n)return}function IM(e){const t=UN(e),n=ly(t,e),s=ly(t.reverse(),e);return[n,s]}function UN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ly(e,t){for(const n of e)if(!FM(n,{upTo:t}))return n}function FM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VM(e){return e instanceof HTMLInputElement&&"select"in e}function ws(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&VM(e)&&t&&e.select()}}const cy=BM();function BM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dy(e,t),e.unshift(t)},remove(t){var n;e=dy(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function dy(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function zM(e){return e.filter(t=>t.tagName!=="A")}const ds=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},UM=Bc["useId".toString()]||(()=>{});let HM=0;function HN(e){const[t,n]=m.useState(UM());return ds(()=>{e||n(s=>s??String(HM++))},[e]),e||(t?`radix-${t}`:"")}const WM=["top","right","bottom","left"],qs=Math.min,Ht=Math.max,Mc=Math.round,yl=Math.floor,Mn=e=>({x:e,y:e}),qM={left:"right",right:"left",bottom:"top",top:"bottom"},GM={start:"end",end:"start"};function If(e,t,n){return Ht(e,qs(t,n))}function us(e,t){return typeof e=="function"?e(t):e}function hs(e){return e.split("-")[0]}function Wi(e){return e.split("-")[1]}function Rp(e){return e==="x"?"y":"x"}function Op(e){return e==="y"?"height":"width"}const KM=new Set(["top","bottom"]);function An(e){return KM.has(hs(e))?"y":"x"}function $p(e){return Rp(An(e))}function YM(e,t,n){n===void 0&&(n=!1);const s=Wi(e),i=$p(e),a=Op(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Dc(o)),[o,Dc(o)]}function QM(e){const t=Dc(e);return[Ff(e),t,Ff(t)]}function Ff(e){return e.replace(/start|end/g,t=>GM[t])}const uy=["left","right"],hy=["right","left"],JM=["top","bottom"],XM=["bottom","top"];function ZM(e,t,n){switch(e){case"top":case"bottom":return n?t?hy:uy:t?uy:hy;case"left":case"right":return t?JM:XM;default:return[]}}function eD(e,t,n,s){const i=Wi(e);let a=ZM(hs(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Ff)))),a}function Dc(e){return e.replace(/left|right|bottom|top/g,t=>qM[t])}function tD(e){return{top:0,right:0,bottom:0,left:0,...e}}function WN(e){return typeof e!="number"?tD(e):{top:e,right:e,bottom:e,left:e}}function Lc(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function fy(e,t,n){let{reference:s,floating:i}=e;const a=An(t),o=$p(t),l=Op(o),c=hs(t),d=a==="y",u=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,f=s[l]/2-i[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-i.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-i.width,y:h};break;default:g={x:s.x,y:s.y}}switch(Wi(t)){case"start":g[o]-=f*(n&&d?-1:1);break;case"end":g[o]+=f*(n&&d?-1:1);break}return g}const nD=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=fy(d,s,c),f=s,g={},y=0;for(let x=0;x<l.length;x++){const{name:w,fn:p}=l[x],{x:v,y:b,data:j,reset:S}=await p({x:u,y:h,initialPlacement:s,placement:f,strategy:i,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,h=b??h,g={...g,[w]:{...g[w],...j}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:h}=fy(d,f,c)),x=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:g}};async function yo(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=us(t,e),y=WN(g),w=l[f?h==="floating"?"reference":"floating":h],p=Lc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Lc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(p.top-S.top+y.top)/j.y,bottom:(S.bottom-p.bottom+y.bottom)/j.y,left:(p.left-S.left+y.left)/j.x,right:(S.right-p.right+y.right)/j.x}}const sD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=us(e,t)||{};if(d==null)return{};const h=WN(u),f={x:n,y:s},g=$p(i),y=Op(g),x=await o.getDimensions(d),w=g==="y",p=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[g]-f[g]-a.floating[y],S=f[g]-a.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=E?E[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement(E)))&&(N=l.floating[b]||a.floating[y]);const _=j/2-S/2,R=N/2-x[y]/2-1,A=qs(h[p],R),B=qs(h[v],R),k=A,L=N-x[y]-B,D=N/2-x[y]/2+_,T=If(k,D,L),C=!c.arrow&&Wi(i)!=null&&D!==T&&a.reference[y]/2-(D<k?A:B)-x[y]/2<0,O=C?D<k?D-k:D-L:0;return{[g]:f[g]+O,data:{[g]:T,centerOffset:D-T-O,...C&&{alignmentOffset:O}},reset:C}}}),rD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=us(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=hs(i),v=An(l),b=hs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(b||!x?[Dc(l)]:QM(l)),E=y!=="none";!f&&E&&S.push(...eD(l,x,y,j));const N=[l,...S],_=await yo(t,w),R=[];let A=((s=a.flip)==null?void 0:s.overflows)||[];if(u&&R.push(_[p]),h){const D=YM(i,o,j);R.push(_[D[0]],_[D[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(D=>D<=0)){var B,k;const D=(((B=a.flip)==null?void 0:B.index)||0)+1,T=N[D];if(T&&(!(h==="alignment"?v!==An(T):!1)||A.every(P=>P.overflows[0]>0&&An(P.placement)===v)))return{data:{index:D,overflows:A},reset:{placement:T}};let C=(k=A.filter(O=>O.overflows[0]<=0).sort((O,P)=>O.overflows[1]-P.overflows[1])[0])==null?void 0:k.placement;if(!C)switch(g){case"bestFit":{var L;const O=(L=A.filter(P=>{if(E){const M=An(P.placement);return M===v||M==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((P,M)=>P[1]-M[1])[0])==null?void 0:L[0];O&&(C=O);break}case"initialPlacement":C=l;break}if(i!==C)return{reset:{placement:C}}}return{}}}};function my(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function py(e){return WM.some(t=>e[t]>=0)}const iD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=us(e,t);switch(s){case"referenceHidden":{const a=await yo(t,{...i,elementContext:"reference"}),o=my(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:py(o)}}}case"escaped":{const a=await yo(t,{...i,altBoundary:!0}),o=my(a,n.floating);return{data:{escapedOffsets:o,escaped:py(o)}}}default:return{}}}}},qN=new Set(["left","top"]);async function aD(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=hs(n),l=Wi(n),c=An(n)==="y",d=qN.has(o)?-1:1,u=a&&c?-1:1,h=us(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const oD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await aD(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},lD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:p,y:v}=w;return{x:p,y:v}}},...c}=us(e,t),d={x:n,y:s},u=await yo(t,c),h=An(hs(i)),f=Rp(h);let g=d[f],y=d[h];if(a){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",v=g+u[w],b=g-u[p];g=If(v,g,b)}if(o){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",v=y+u[w],b=y-u[p];y=If(v,y,b)}const x=l.fn({...t,[f]:g,[h]:y});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[f]:a,[h]:o}}}}}},cD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=us(e,t),u={x:n,y:s},h=An(i),f=Rp(h);let g=u[f],y=u[h];const x=us(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=f==="y"?"height":"width",j=a.reference[f]-a.floating[b]+w.mainAxis,S=a.reference[f]+a.reference[b]-w.mainAxis;g<j?g=j:g>S&&(g=S)}if(d){var p,v;const b=f==="y"?"width":"height",j=qN.has(hs(i)),S=a.reference[h]-a.floating[b]+(j&&((p=o.offset)==null?void 0:p[h])||0)+(j?0:w.crossAxis),E=a.reference[h]+a.reference[b]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?w.crossAxis:0);y<S?y=S:y>E&&(y=E)}return{[f]:g,[h]:y}}}},dD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=us(e,t),u=await yo(t,d),h=hs(i),f=Wi(i),g=An(i)==="y",{width:y,height:x}=a.floating;let w,p;h==="top"||h==="bottom"?(w=h,p=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,w=f==="end"?"top":"bottom");const v=x-u.top-u.bottom,b=y-u.left-u.right,j=qs(x-u[w],v),S=qs(y-u[p],b),E=!t.middlewareData.shift;let N=j,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=v),E&&!f){const A=Ht(u.left,0),B=Ht(u.right,0),k=Ht(u.top,0),L=Ht(u.bottom,0);g?_=y-2*(A!==0||B!==0?A+B:Ht(u.left,u.right)):N=x-2*(k!==0||L!==0?k+L:Ht(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:N});const R=await o.getDimensions(l.floating);return y!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function Cd(){return typeof window<"u"}function qi(e){return GN(e)?(e.nodeName||"").toLowerCase():"#document"}function Gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function In(e){var t;return(t=(GN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GN(e){return Cd()?e instanceof Node||e instanceof Gt(e).Node:!1}function Cn(e){return Cd()?e instanceof Element||e instanceof Gt(e).Element:!1}function Ln(e){return Cd()?e instanceof HTMLElement||e instanceof Gt(e).HTMLElement:!1}function gy(e){return!Cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gt(e).ShadowRoot}const uD=new Set(["inline","contents"]);function Fo(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=_n(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!uD.has(i)}const hD=new Set(["table","td","th"]);function fD(e){return hD.has(qi(e))}const mD=[":popover-open",":modal"];function _d(e){return mD.some(t=>{try{return e.matches(t)}catch{return!1}})}const pD=["transform","translate","scale","rotate","perspective"],gD=["transform","translate","scale","rotate","perspective","filter"],xD=["paint","layout","strict","content"];function Mp(e){const t=Dp(),n=Cn(e)?_n(e):e;return pD.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||gD.some(s=>(n.willChange||"").includes(s))||xD.some(s=>(n.contain||"").includes(s))}function yD(e){let t=Gs(e);for(;Ln(t)&&!$i(t);){if(Mp(t))return t;if(_d(t))return null;t=Gs(t)}return null}function Dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vD=new Set(["html","body","#document"]);function $i(e){return vD.has(qi(e))}function _n(e){return Gt(e).getComputedStyle(e)}function Ed(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gs(e){if(qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gy(e)&&e.host||In(e);return gy(t)?t.host:t}function KN(e){const t=Gs(e);return $i(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&Fo(t)?t:KN(t)}function vo(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=KN(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Gt(i);if(a){const l=Vf(o);return t.concat(o,o.visualViewport||[],Fo(i)?i:[],l&&n?vo(l):[])}return t.concat(i,vo(i,[],n))}function Vf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YN(e){const t=_n(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Ln(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,l=Mc(n)!==a||Mc(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function Lp(e){return Cn(e)?e:e.contextElement}function yi(e){const t=Lp(e);if(!Ln(t))return Mn(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=YN(t);let o=(a?Mc(n.width):n.width)/s,l=(a?Mc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const wD=Mn(0);function QN(e){const t=Gt(e);return!Dp()||!t.visualViewport?wD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gt(e)?!1:t}function Sr(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Lp(e);let o=Mn(1);t&&(s?Cn(s)&&(o=yi(s)):o=yi(e));const l=bD(a,n,s)?QN(a):Mn(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const f=Gt(a),g=s&&Cn(s)?Gt(s):s;let y=f,x=Vf(y);for(;x&&s&&g!==y;){const w=yi(x),p=x.getBoundingClientRect(),v=_n(x),b=p.left+(x.clientLeft+parseFloat(v.paddingLeft))*w.x,j=p.top+(x.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=b,d+=j,y=Gt(x),x=Vf(y)}}return Lc({width:u,height:h,x:c,y:d})}function Ip(e,t){const n=Ed(e).scrollLeft;return t?t.left+n:Sr(In(e)).left+n}function JN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:Ip(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function jD(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=In(s),l=t?_d(t.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Mn(1);const u=Mn(0),h=Ln(s);if((h||!h&&!a)&&((qi(s)!=="body"||Fo(o))&&(c=Ed(s)),Ln(s))){const g=Sr(s);d=yi(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const f=o&&!h&&!a?JN(o,c,!0):Mn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function ND(e){return Array.from(e.getClientRects())}function SD(e){const t=In(e),n=Ed(e),s=e.ownerDocument.body,i=Ht(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Ht(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Ip(e);const l=-n.scrollTop;return _n(s).direction==="rtl"&&(o+=Ht(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:l}}function CD(e,t){const n=Gt(e),s=In(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=Dp();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const _D=new Set(["absolute","fixed"]);function ED(e,t){const n=Sr(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ln(e)?yi(e):Mn(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=s*a.y;return{width:o,height:l,x:c,y:d}}function xy(e,t,n){let s;if(t==="viewport")s=CD(e,n);else if(t==="document")s=SD(In(e));else if(Cn(t))s=ED(t,n);else{const i=QN(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Lc(s)}function XN(e,t){const n=Gs(e);return n===t||!Cn(n)||$i(n)?!1:_n(n).position==="fixed"||XN(n,t)}function kD(e,t){const n=t.get(e);if(n)return n;let s=vo(e,[],!1).filter(l=>Cn(l)&&qi(l)!=="body"),i=null;const a=_n(e).position==="fixed";let o=a?Gs(e):e;for(;Cn(o)&&!$i(o);){const l=_n(o),c=Mp(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&_D.has(i.position)||Fo(o)&&!c&&XN(e,o))?s=s.filter(u=>u!==o):i=l,o=Gs(o)}return t.set(e,s),s}function TD(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?_d(t)?[]:kD(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const h=xy(t,u,i);return d.top=Ht(h.top,d.top),d.right=qs(h.right,d.right),d.bottom=qs(h.bottom,d.bottom),d.left=Ht(h.left,d.left),d},xy(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PD(e){const{width:t,height:n}=YN(e);return{width:t,height:n}}function AD(e,t,n){const s=Ln(t),i=In(t),a=n==="fixed",o=Sr(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Mn(0);function d(){c.x=Ip(i)}if(s||!s&&!a)if((qi(t)!=="body"||Fo(i))&&(l=Ed(t)),s){const g=Sr(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&d();a&&!s&&i&&d();const u=i&&!s&&!a?JN(i,l):Mn(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Wu(e){return _n(e).position==="static"}function yy(e,t){if(!Ln(e)||_n(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return In(e)===n&&(n=n.ownerDocument.body),n}function ZN(e,t){const n=Gt(e);if(_d(e))return n;if(!Ln(e)){let i=Gs(e);for(;i&&!$i(i);){if(Cn(i)&&!Wu(i))return i;i=Gs(i)}return n}let s=yy(e,t);for(;s&&fD(s)&&Wu(s);)s=yy(s,t);return s&&$i(s)&&Wu(s)&&!Mp(s)?n:s||yD(e)||n}const RD=async function(e){const t=this.getOffsetParent||ZN,n=this.getDimensions,s=await n(e.floating);return{reference:AD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function OD(e){return _n(e).direction==="rtl"}const $D={convertOffsetParentRelativeRectToViewportRelativeRect:jD,getDocumentElement:In,getClippingRect:TD,getOffsetParent:ZN,getElementRects:RD,getClientRects:ND,getDimensions:PD,getScale:yi,isElement:Cn,isRTL:OD};function e2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MD(e,t){let n=null,s;const i=In(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||t(),!f||!g)return;const y=yl(h),x=yl(i.clientWidth-(u+f)),w=yl(i.clientHeight-(h+g)),p=yl(u),b={rootMargin:-y+"px "+-x+"px "+-w+"px "+-p+"px",threshold:Ht(0,qs(1,c))||1};let j=!0;function S(E){const N=E[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!e2(d,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return o(!0),a}function DD(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Lp(e),u=i||a?[...d?vo(d):[],...vo(t)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const h=d&&l?MD(d,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(p=>{let[v]=p;v&&v.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let y,x=c?Sr(e):null;c&&w();function w(){const p=Sr(e);x&&!e2(x,p)&&n(),x=p,y=requestAnimationFrame(w)}return n(),()=>{var p;u.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),h==null||h(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const LD=oD,ID=lD,FD=rD,VD=dD,BD=iD,vy=sD,zD=cD,UD=(e,t,n)=>{const s=new Map,i={platform:$D,...n},a={...i.platform,_c:s};return nD(e,t,{...i,platform:a})};var HD=typeof document<"u",WD=function(){},Wl=HD?m.useLayoutEffect:WD;function Ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ic(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Ic(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function t2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wy(e,t){const n=t2(e);return Math.round(t*n)/n}function qu(e){const t=m.useRef(e);return Wl(()=>{t.current=e}),t}function qD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=m.useState(s);Ic(f,s)||g(s);const[y,x]=m.useState(null),[w,p]=m.useState(null),v=m.useCallback(P=>{P!==E.current&&(E.current=P,x(P))},[]),b=m.useCallback(P=>{P!==N.current&&(N.current=P,p(P))},[]),j=a||y,S=o||w,E=m.useRef(null),N=m.useRef(null),_=m.useRef(u),R=c!=null,A=qu(c),B=qu(i),k=qu(d),L=m.useCallback(()=>{if(!E.current||!N.current)return;const P={placement:t,strategy:n,middleware:f};B.current&&(P.platform=B.current),UD(E.current,N.current,P).then(M=>{const F={...M,isPositioned:k.current!==!1};D.current&&!Ic(_.current,F)&&(_.current=F,Js.flushSync(()=>{h(F)}))})},[f,t,n,B,k]);Wl(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[d]);const D=m.useRef(!1);Wl(()=>(D.current=!0,()=>{D.current=!1}),[]),Wl(()=>{if(j&&(E.current=j),S&&(N.current=S),j&&S){if(A.current)return A.current(j,S,L);L()}},[j,S,L,A,R]);const T=m.useMemo(()=>({reference:E,floating:N,setReference:v,setFloating:b}),[v,b]),C=m.useMemo(()=>({reference:j,floating:S}),[j,S]),O=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!C.floating)return P;const M=wy(C.floating,u.x),F=wy(C.floating,u.y);return l?{...P,transform:"translate("+M+"px, "+F+"px)",...t2(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:F}},[n,l,C.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:L,refs:T,elements:C,floatingStyles:O}),[u,L,T,C,O])}const GD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?vy({element:s.current,padding:i}).fn(n):{}:s?vy({element:s,padding:i}).fn(n):{}}}},KD=(e,t)=>({...LD(e),options:[e,t]}),YD=(e,t)=>({...ID(e),options:[e,t]}),QD=(e,t)=>({...zD(e),options:[e,t]}),JD=(e,t)=>({...FD(e),options:[e,t]}),XD=(e,t)=>({...VD(e),options:[e,t]}),ZD=(e,t)=>({...BD(e),options:[e,t]}),eL=(e,t)=>({...GD(e),options:[e,t]});function tL(e){const[t,n]=m.useState(void 0);return ds(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}const n2="Popper",[s2,r2]=Ap(n2),[nL,i2]=s2(n2),sL=e=>{const{__scopePopper:t,children:n}=e,[s,i]=m.useState(null);return m.createElement(nL,{scope:t,anchor:s,onAnchorChange:i},n)},rL="PopperAnchor",iL=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=i2(rL,n),o=m.useRef(null),l=Vt(t,o);return m.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:m.createElement(vt.div,ke({},i,{ref:l}))}),a2="PopperContent",[aL,N8]=s2(a2),oL=m.forwardRef((e,t)=>{var n,s,i,a,o,l,c,d;const{__scopePopper:u,side:h="bottom",sideOffset:f=0,align:g="center",alignOffset:y=0,arrowPadding:x=0,collisionBoundary:w=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:b=!1,avoidCollisions:j=!0,onPlaced:S,...E}=e,N=i2(a2,u),[_,R]=m.useState(null),A=Vt(t,wt=>R(wt)),[B,k]=m.useState(null),L=tL(B),D=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,T=(s=L==null?void 0:L.height)!==null&&s!==void 0?s:0,C=h+(g!=="center"?"-"+g:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},P=Array.isArray(w)?w:[w],M=P.length>0,F={padding:O,boundary:P.filter(lL),altBoundary:M},{refs:J,floatingStyles:re,placement:fe,isPositioned:le,middlewareData:Te}=qD({strategy:"fixed",placement:C,whileElementsMounted:DD,elements:{reference:N.anchor},middleware:[KD({mainAxis:f+T,alignmentAxis:y}),j&&YD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?QD():void 0,...F}),j&&JD({...F}),XD({...F,apply:({elements:wt,rects:Ki,availableWidth:Yi,availableHeight:Qi})=>{const{width:wS,height:bS}=Ki.reference,Vo=wt.floating.style;Vo.setProperty("--radix-popper-available-width",`${Yi}px`),Vo.setProperty("--radix-popper-available-height",`${Qi}px`),Vo.setProperty("--radix-popper-anchor-width",`${wS}px`),Vo.setProperty("--radix-popper-anchor-height",`${bS}px`)}}),B&&eL({element:B,padding:x}),cL({arrowWidth:D,arrowHeight:T}),b&&ZD({strategy:"referenceHidden"})]}),[We,ee]=o2(fe),ye=cs(S);ds(()=>{le&&(ye==null||ye())},[le,ye]);const Je=(i=Te.arrow)===null||i===void 0?void 0:i.x,ve=(a=Te.arrow)===null||a===void 0?void 0:a.y,ue=((o=Te.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[we,zt]=m.useState();return ds(()=>{_&&zt(window.getComputedStyle(_).zIndex)},[_]),m.createElement("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:le?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(l=Te.transformOrigin)===null||l===void 0?void 0:l.x,(c=Te.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},m.createElement(aL,{scope:u,placedSide:We,onArrowChange:k,arrowX:Je,arrowY:ve,shouldHideArrow:ue},m.createElement(vt.div,ke({"data-side":We,"data-align":ee},E,{ref:A,style:{...E.style,animation:le?void 0:"none",opacity:(d=Te.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function lL(e){return e!==null}const cL=e=>({name:"transformOrigin",options:e,fn(t){var n,s,i,a,o;const{placement:l,rects:c,middlewareData:d}=t,h=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=h?0:e.arrowWidth,g=h?0:e.arrowHeight,[y,x]=o2(l),w={start:"0%",center:"50%",end:"100%"}[x],p=((s=(i=d.arrow)===null||i===void 0?void 0:i.x)!==null&&s!==void 0?s:0)+f/2,v=((a=(o=d.arrow)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0)+g/2;let b="",j="";return y==="bottom"?(b=h?w:`${p}px`,j=`${-g}px`):y==="top"?(b=h?w:`${p}px`,j=`${c.floating.height+g}px`):y==="right"?(b=`${-g}px`,j=h?w:`${v}px`):y==="left"&&(b=`${c.floating.width+g}px`,j=h?w:`${v}px`),{data:{x:b,y:j}}}});function o2(e){const[t,n="center"]=e.split("-");return[t,n]}const dL=sL,uL=iL,hL=oL,fL=m.forwardRef((e,t)=>{var n;const{container:s=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return s?eb.createPortal(m.createElement(vt.div,ke({},i,{ref:t})),s):null});function by({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=mL({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:s,l=cs(n),c=m.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else i(d)},[a,e,i,l]);return[o,c]}function mL({defaultProp:e,onChange:t}){const n=m.useState(e),[s]=n,i=m.useRef(s),a=cs(t);return m.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}function pL(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const gL=m.forwardRef((e,t)=>m.createElement(vt.span,ke({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var xL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vr=new WeakMap,vl=new WeakMap,wl={},Gu=0,l2=function(e){return e&&(e.host||l2(e.parentNode))},yL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=l2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vL=function(e,t,n,s){var i=yL(t,Array.isArray(e)?e:[e]);wl[n]||(wl[n]=new WeakMap);var a=wl[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(s),y=g!==null&&g!=="false",x=(Vr.get(f)||0)+1,w=(a.get(f)||0)+1;Vr.set(f,x),a.set(f,w),o.push(f),x===1&&y&&vl.set(f,!0),w===1&&f.setAttribute(n,"true"),y||f.setAttribute(s,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return u(t),l.clear(),Gu++,function(){o.forEach(function(h){var f=Vr.get(h)-1,g=a.get(h)-1;Vr.set(h,f),a.set(h,g),f||(vl.has(h)||h.removeAttribute(s),vl.delete(h)),g||h.removeAttribute(n)}),Gu--,Gu||(Vr=new WeakMap,Vr=new WeakMap,vl=new WeakMap,wl={})}},c2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=t||xL(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),vL(s,i,n,"aria-hidden")):function(){return null}},gt=function(){return gt=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gt.apply(this,arguments)};function Fp(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function d2(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Va="right-scroll-bar-position",Ba="width-before-scroll-bar",wL="with-scroll-bars-hidden",bL="--removed-body-scroll-bar-size";function Ku(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jL(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var NL=typeof window<"u"?m.useLayoutEffect:m.useEffect,jy=new WeakMap;function u2(e,t){var n=jL(t||null,function(s){return e.forEach(function(i){return Ku(i,s)})});return NL(function(){var s=jy.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Ku(l,null)}),a.forEach(function(l){i.has(l)||Ku(l,o)})}jy.set(n,e)},[e]),n}function SL(e){return e}function CL(e,t){t===void 0&&(t=SL);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return i}function h2(e){e===void 0&&(e={});var t=CL(null);return t.options=gt({async:!0,ssr:!1},e),t}var f2=function(e){var t=e.sideCar,n=Fp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,gt({},n))};f2.isSideCarExport=!0;function m2(e,t){return e.useMedium(t),f2}var p2=h2(),Yu=function(){},kd=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:Yu,onWheelCapture:Yu,onTouchMoveCapture:Yu}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,v=Fp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,j=u2([n,t]),S=gt(gt({},v),i);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:p2,removeScrollBar:d,shards:h,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!x,lockRef:n}),o?m.cloneElement(m.Children.only(l),gt(gt({},S),{ref:j})):m.createElement(p,gt({},S,{className:c,ref:j}),l))});kd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kd.classNames={fullWidth:Ba,zeroRight:Va};var Ny,_L=function(){if(Ny)return Ny;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_L();return t&&e.setAttribute("nonce",t),e}function kL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EL())&&(kL(t,n),TL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AL=function(){var e=PL();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Vp=function(){var e=AL(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},RL={left:0,top:0,right:0,gap:0},Qu=function(e){return parseInt(e||"",10)||0},OL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Qu(n),Qu(s),Qu(i)]},$L=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RL;var t=OL(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},ML=Vp(),vi="data-scroll-locked",DL=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(vi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Va,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ba,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Va," .").concat(Va,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ba," .").concat(Ba,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vi,`] {
    `).concat(bL,": ").concat(l,`px;
  }
`)},Sy=function(){var e=parseInt(document.body.getAttribute(vi)||"0",10);return isFinite(e)?e:0},LL=function(){m.useEffect(function(){return document.body.setAttribute(vi,(Sy()+1).toString()),function(){var e=Sy()-1;e<=0?document.body.removeAttribute(vi):document.body.setAttribute(vi,e.toString())}},[])},g2=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;LL();var a=m.useMemo(function(){return $L(i)},[i]);return m.createElement(ML,{styles:DL(a,!t,i,n?"":"!important")})},Bf=!1;if(typeof window<"u")try{var bl=Object.defineProperty({},"passive",{get:function(){return Bf=!0,!0}});window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{Bf=!1}var Br=Bf?{passive:!1}:!1,IL=function(e){return e.tagName==="TEXTAREA"},x2=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!IL(e)&&n[t]==="visible")},FL=function(e){return x2(e,"overflowY")},VL=function(e){return x2(e,"overflowX")},Cy=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=y2(e,n);if(s){var i=v2(e,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},BL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},zL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},y2=function(e,t){return e==="v"?FL(t):VL(t)},v2=function(e,t){return e==="v"?BL(t):zL(t)},UL=function(e,t){return e==="h"&&t==="rtl"?-1:1},HL=function(e,t,n,s,i){var a=UL(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var g=v2(e,l),y=g[0],x=g[1],w=g[2],p=x-w-a*y;(y||p)&&y2(e,l)&&(h+=p,f+=y),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(i&&h===0||!i&&o>h)||!u&&(i&&f===0||!i&&-o>f))&&(d=!0),d},jl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_y=function(e){return[e.deltaX,e.deltaY]},Ey=function(e){return e&&"current"in e?e.current:e},WL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GL=0,zr=[];function KL(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),i=m.useState(GL++)[0],a=m.useState(function(){return Vp()})[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=d2([e.lockRef.current],(e.shards||[]).map(Ey),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2)return!o.current.allowPinchZoom;var p=jl(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-p[0],j="deltaY"in x?x.deltaY:v[1]-p[1],S,E=x.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&N==="h"&&E.type==="range")return!1;var _=Cy(N,E);if(!_)return!0;if(_?S=N:(S=N==="v"?"h":"v",_=Cy(N,E)),!_)return!1;if(!s.current&&"changedTouches"in x&&(b||j)&&(s.current=S),!S)return!0;var R=s.current||S;return HL(R,w,x,R==="h"?b:j,!0)},[]),c=m.useCallback(function(x){var w=x;if(!(!zr.length||zr[zr.length-1]!==a)){var p="deltaY"in w?_y(w):jl(w),v=t.current.filter(function(S){return S.name===w.type&&S.target===w.target&&WL(S.delta,p)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Ey).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(x,w,p,v){var b={name:x,delta:w,target:p,should:v};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=m.useCallback(function(x){n.current=jl(x),s.current=void 0},[]),h=m.useCallback(function(x){d(x.type,_y(x),x.target,l(x,e.lockRef.current))},[]),f=m.useCallback(function(x){d(x.type,jl(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return zr.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Br),document.addEventListener("touchmove",c,Br),document.addEventListener("touchstart",u,Br),function(){zr=zr.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Br),document.removeEventListener("touchmove",c,Br),document.removeEventListener("touchstart",u,Br)}},[]);var g=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(a,{styles:qL(i)}):null,g?m.createElement(g2,{gapMode:"margin"}):null)}const YL=m2(p2,KL);var w2=m.forwardRef(function(e,t){return m.createElement(kd,gt({},e,{ref:t,sideCar:YL}))});w2.classNames=kd.classNames;const QL=w2,JL=[" ","Enter","ArrowUp","ArrowDown"],XL=[" ","Enter"],Td="Select",[Pd,Bp,ZL]=NM(Td),[Gi,S8]=Ap(Td,[ZL,r2]),zp=r2(),[eI,$r]=Gi(Td),[tI,nI]=Gi(Td),sI=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g}=e,y=zp(t),[x,w]=m.useState(null),[p,v]=m.useState(null),[b,j]=m.useState(!1),S=CM(d),[E=!1,N]=by({prop:s,defaultProp:i,onChange:a}),[_,R]=by({prop:o,defaultProp:l,onChange:c}),A=m.useRef(null),B=x?!!x.closest("form"):!0,[k,L]=m.useState(new Set),D=Array.from(k).map(T=>T.props.value).join(";");return m.createElement(dL,y,m.createElement(eI,{required:g,scope:t,trigger:x,onTriggerChange:w,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:HN(),value:_,onValueChange:R,open:E,onOpenChange:N,dir:S,triggerPointerDownPosRef:A,disabled:f},m.createElement(Pd.Provider,{scope:t},m.createElement(tI,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{L(C=>new Set(C).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{L(C=>{const O=new Set(C);return O.delete(T),O})},[])},n)),B?m.createElement(N2,{key:D,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:_,onChange:T=>R(T.target.value),disabled:f},_===void 0?m.createElement("option",{value:""}):null,Array.from(k)):null))},rI="SelectTrigger",iI=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=zp(n),o=$r(rI,n),l=o.disabled||s,c=Vt(t,o.onTriggerChange),d=Bp(n),[u,h,f]=S2(y=>{const x=d().filter(v=>!v.disabled),w=x.find(v=>v.value===o.value),p=C2(x,y,w);p!==void 0&&o.onValueChange(p.value)}),g=()=>{l||(o.onOpenChange(!0),f())};return m.createElement(uL,ke({asChild:!0},a),m.createElement(vt.button,ke({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},i,{ref:c,onClick:Nt(i.onClick,y=>{y.currentTarget.focus()}),onPointerDown:Nt(i.onPointerDown,y=>{const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:Nt(i.onKeyDown,y=>{const x=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(x&&y.key===" ")&&JL.includes(y.key)&&(g(),y.preventDefault())})})))}),aI="SelectValue",oI=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o,...l}=e,c=$r(aI,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Vt(t,c.onValueNodeChange);return ds(()=>{d(u)},[d,u]),m.createElement(vt.span,ke({},l,{ref:h,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:a)}),lI=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return m.createElement(vt.span,ke({"aria-hidden":!0},i,{ref:t}),s||"")}),cI=e=>m.createElement(fL,ke({asChild:!0},e)),Mi="SelectContent",dI=m.forwardRef((e,t)=>{const n=$r(Mi,e.__scopeSelect),[s,i]=m.useState();if(ds(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?Js.createPortal(m.createElement(b2,{scope:e.__scopeSelect},m.createElement(Pd.Slot,{scope:e.__scopeSelect},m.createElement("div",null,e.children))),a):null}return m.createElement(uI,ke({},e,{ref:t}))}),Wn=10,[b2,Ad]=Gi(Mi),uI=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:w,...p}=e,v=$r(Mi,n),[b,j]=m.useState(null),[S,E]=m.useState(null),N=Vt(t,ee=>j(ee)),[_,R]=m.useState(null),[A,B]=m.useState(null),k=Bp(n),[L,D]=m.useState(!1),T=m.useRef(!1);m.useEffect(()=>{if(b)return c2(b)},[b]),MM();const C=m.useCallback(ee=>{const[ye,...Je]=k().map(we=>we.ref.current),[ve]=Je.slice(-1),ue=document.activeElement;for(const we of ee)if(we===ue||(we==null||we.scrollIntoView({block:"nearest"}),we===ye&&S&&(S.scrollTop=0),we===ve&&S&&(S.scrollTop=S.scrollHeight),we==null||we.focus(),document.activeElement!==ue))return},[k,S]),O=m.useCallback(()=>C([_,b]),[C,_,b]);m.useEffect(()=>{L&&O()},[L,O]);const{onOpenChange:P,triggerPointerDownPosRef:M}=v;m.useEffect(()=>{if(b){let ee={x:0,y:0};const ye=ve=>{var ue,we,zt,wt;ee={x:Math.abs(Math.round(ve.pageX)-((ue=(we=M.current)===null||we===void 0?void 0:we.x)!==null&&ue!==void 0?ue:0)),y:Math.abs(Math.round(ve.pageY)-((zt=(wt=M.current)===null||wt===void 0?void 0:wt.y)!==null&&zt!==void 0?zt:0))}},Je=ve=>{ee.x<=10&&ee.y<=10?ve.preventDefault():b.contains(ve.target)||P(!1),document.removeEventListener("pointermove",ye),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Je,{capture:!0})}}},[b,P,M]),m.useEffect(()=>{const ee=()=>P(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[P]);const[F,J]=S2(ee=>{const ye=k().filter(ue=>!ue.disabled),Je=ye.find(ue=>ue.ref.current===document.activeElement),ve=C2(ye,ee,Je);ve&&setTimeout(()=>ve.ref.current.focus())}),re=m.useCallback((ee,ye,Je)=>{const ve=!T.current&&!Je;(v.value!==void 0&&v.value===ye||ve)&&(R(ee),ve&&(T.current=!0))},[v.value]),fe=m.useCallback(()=>b==null?void 0:b.focus(),[b]),le=m.useCallback((ee,ye,Je)=>{const ve=!T.current&&!Je;(v.value!==void 0&&v.value===ye||ve)&&B(ee)},[v.value]),Te=s==="popper"?ky:hI,We=Te===ky?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:w}:{};return m.createElement(b2,{scope:n,content:b,viewport:S,onViewportChange:E,itemRefCallback:re,selectedItem:_,onItemLeave:fe,itemTextRefCallback:le,focusSelectedItem:O,selectedItemText:A,position:s,isPositioned:L,searchRef:F},m.createElement(QL,{as:xo,allowPinchZoom:!0},m.createElement(DM,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Nt(i,ee=>{var ye;(ye=v.trigger)===null||ye===void 0||ye.focus({preventScroll:!0}),ee.preventDefault()})},m.createElement(RM,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},m.createElement(Te,ke({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault()},p,We,{onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Nt(p.onKeyDown,ee=>{const ye=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ye&&ee.key.length===1&&J(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ve=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ue=ee.target,we=ve.indexOf(ue);ve=ve.slice(we+1)}setTimeout(()=>C(ve)),ee.preventDefault()}})}))))))}),hI=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=$r(Mi,n),o=Ad(Mi,n),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Vt(t,N=>u(N)),f=Bp(n),g=m.useRef(!1),y=m.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:p,focusSelectedItem:v}=o,b=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&w&&p){const N=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),A=p.getBoundingClientRect();if(a.dir!=="rtl"){const ue=A.left-_.left,we=R.left-ue,zt=N.left-we,wt=N.width+zt,Ki=Math.max(wt,_.width),Yi=window.innerWidth-Wn,Qi=sy(we,[Wn,Yi-Ki]);l.style.minWidth=wt+"px",l.style.left=Qi+"px"}else{const ue=_.right-A.right,we=window.innerWidth-R.right-ue,zt=window.innerWidth-N.right-we,wt=N.width+zt,Ki=Math.max(wt,_.width),Yi=window.innerWidth-Wn,Qi=sy(we,[Wn,Yi-Ki]);l.style.minWidth=wt+"px",l.style.right=Qi+"px"}const B=f(),k=window.innerHeight-Wn*2,L=x.scrollHeight,D=window.getComputedStyle(d),T=parseInt(D.borderTopWidth,10),C=parseInt(D.paddingTop,10),O=parseInt(D.borderBottomWidth,10),P=parseInt(D.paddingBottom,10),M=T+C+L+P+O,F=Math.min(w.offsetHeight*5,M),J=window.getComputedStyle(x),re=parseInt(J.paddingTop,10),fe=parseInt(J.paddingBottom,10),le=N.top+N.height/2-Wn,Te=k-le,We=w.offsetHeight/2,ee=w.offsetTop+We,ye=T+C+ee,Je=M-ye;if(ye<=le){const ue=w===B[B.length-1].ref.current;l.style.bottom="0px";const we=d.clientHeight-x.offsetTop-x.offsetHeight,zt=Math.max(Te,We+(ue?fe:0)+we+O),wt=ye+zt;l.style.height=wt+"px"}else{const ue=w===B[0].ref.current;l.style.top="0px";const zt=Math.max(le,T+x.offsetTop+(ue?re:0)+We)+Je;l.style.height=zt+"px",x.scrollTop=ye-le+x.offsetTop}l.style.margin=`${Wn}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,d,x,w,p,a.dir,s]);ds(()=>b(),[b]);const[j,S]=m.useState();ds(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const E=m.useCallback(N=>{N&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return m.createElement(fI,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E},m.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j}},m.createElement(vt.div,ke({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),ky=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Wn,...a}=e,o=zp(n);return m.createElement(hL,ke({},o,a,{ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[fI,mI]=Gi(Mi,{}),Ty="SelectViewport",pI=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Ad(Ty,n),a=mI(Ty,n),o=Vt(t,i.onViewportChange),l=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Pd.Slot,{scope:n},m.createElement(vt.div,ke({"data-radix-select-viewport":"",role:"presentation"},s,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:Nt(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&u){const f=Math.abs(l.current-d.scrollTop);if(f>0){const g=window.innerHeight-Wn*2,y=parseFloat(u.style.minHeight),x=parseFloat(u.style.height),w=Math.max(y,x);if(w<g){const p=w+f,v=Math.min(g,p),b=p-v;u.style.height=v+"px",u.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})}))))}),gI="SelectGroup",[C8,xI]=Gi(gI),yI="SelectLabel",vI=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=xI(yI,n);return m.createElement(vt.div,ke({id:i.id},s,{ref:t}))}),zf="SelectItem",[wI,j2]=Gi(zf),bI=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,l=$r(zf,n),c=Ad(zf,n),d=l.value===s,[u,h]=m.useState(a??""),[f,g]=m.useState(!1),y=Vt(t,p=>{var v;return(v=c.itemRefCallback)===null||v===void 0?void 0:v.call(c,p,s,i)}),x=HN(),w=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};return m.createElement(wI,{scope:n,value:s,disabled:i,textId:x,isSelected:d,onItemTextChange:m.useCallback(p=>{h(v=>{var b;return v||((b=p==null?void 0:p.textContent)!==null&&b!==void 0?b:"").trim()})},[])},m.createElement(Pd.ItemSlot,{scope:n,value:s,disabled:i,textValue:u},m.createElement(vt.div,ke({role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:y,onFocus:Nt(o.onFocus,()=>g(!0)),onBlur:Nt(o.onBlur,()=>g(!1)),onPointerUp:Nt(o.onPointerUp,w),onPointerMove:Nt(o.onPointerMove,p=>{if(i){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}else p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(o.onPointerLeave,p=>{if(p.currentTarget===document.activeElement){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}}),onKeyDown:Nt(o.onKeyDown,p=>{var v;((v=c.searchRef)===null||v===void 0?void 0:v.current)!==""&&p.key===" "||(XL.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})}))))}),Nl="SelectItemText",jI=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=$r(Nl,n),l=Ad(Nl,n),c=j2(Nl,n),d=nI(Nl,n),[u,h]=m.useState(null),f=Vt(t,p=>h(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)===null||v===void 0?void 0:v.call(l,p,c.value,c.disabled)}),g=u==null?void 0:u.textContent,y=m.useMemo(()=>m.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},g),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return ds(()=>(x(y),()=>w(y)),[x,w,y]),m.createElement(m.Fragment,null,m.createElement(vt.span,ke({id:c.textId},a,{ref:f})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Js.createPortal(a.children,o.valueNode):null)}),NI="SelectItemIndicator",SI=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return j2(NI,n).isSelected?m.createElement(vt.span,ke({"aria-hidden":!0},s,{ref:t})):null}),CI=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return m.createElement(vt.div,ke({"aria-hidden":!0},s,{ref:t}))}),N2=m.forwardRef((e,t)=>{const{value:n,...s}=e,i=m.useRef(null),a=Vt(t,i),o=pL(n);return m.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(h)}},[o,n]),m.createElement(gL,{asChild:!0},m.createElement("select",ke({},s,{ref:a,defaultValue:n})))});N2.displayName="BubbleSelect";function S2(e){const t=cs(e),n=m.useRef(""),s=m.useRef(0),i=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function C2(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=_I(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function _I(e,t){return e.map((n,s)=>e[(t+s)%e.length])}const EI=sI,_2=iI,kI=oI,TI=lI,PI=cI,E2=dI,AI=pI,k2=vI,T2=bI,RI=jI,OI=SI,P2=CI,_e=EI,Ee=kI,Ne=Y.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(_2,{ref:s,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-slate-700/50 dark:border-slate-600 dark:text-gray-200",e),...n,children:[t,r.jsx(TI,{asChild:!0,children:r.jsx(Kb,{className:"h-4 w-4 opacity-50 text-gray-400"})})]}));Ne.displayName=_2.displayName;const Se=Y.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(PI,{children:r.jsx(E2,{ref:i,className:se("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","dark:bg-slate-800 dark:border-slate-700 dark:text-gray-200",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:r.jsx(AI,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Se.displayName=E2.displayName;const $I=Y.forwardRef(({className:e,...t},n)=>r.jsx(k2,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold text-gray-400",e),...t}));$I.displayName=k2.displayName;const Z=Y.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(T2,{ref:s,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50","dark:focus:bg-slate-700 dark:focus:text-sky-300",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(OI,{children:r.jsx(q4,{className:"h-4 w-4 text-sky-400"})})}),r.jsx(RI,{children:t})]}));Z.displayName=T2.displayName;const MI=Y.forwardRef(({className:e,...t},n)=>r.jsx(P2,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));MI.displayName=P2.displayName;const Ct=Y.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-slate-700/50 dark:border-slate-600 dark:text-gray-200 dark:placeholder:text-slate-400",e),ref:n,...t}));Ct.displayName="Textarea";const DI=({assessment:e=null,onClose:t,onSave:n})=>{const[s,i]=m.useState({title:"",client_name:"",location:"",assessment_type:"New Site",status:"Scheduled",priority:"Medium",scheduled_date:"",assigned_to:"",description:"",risk_level:"Medium",estimated_duration_hours:4}),[a,o]=m.useState(!1),{toast:l}=oe();m.useEffect(()=>{e&&i({title:e.title||"",client_name:e.client_name||"",location:e.location||"",assessment_type:e.assessment_type||"New Site",status:e.status||"Scheduled",priority:e.priority||"Medium",scheduled_date:e.scheduled_date||"",assigned_to:e.assigned_to||"",description:e.description||"",risk_level:e.risk_level||"Medium",estimated_duration_hours:e.estimated_duration_hours||4})},[e]);const c=(u,h)=>{i(f=>({...f,[u]:h}))},d=async u=>{if(u.preventDefault(),!s.title||!s.client_name||!s.location||!s.scheduled_date){l({title:"Missing required fields",description:"Please fill in all required fields",variant:"destructive"});return}try{if(o(!0),e){const h=await $c.updateAssessment(e.id,s);l({title:"Assessment updated",description:"Assessment has been successfully updated"}),n(h)}else{const h=await $c.createAssessment(s);l({title:"Assessment created",description:"New assessment has been successfully created"}),n(h)}t()}catch(h){console.error("Error saving assessment:",h),l({title:"Error saving assessment",description:"Failed to save assessment. Please try again.",variant:"destructive"})}finally{o(!1)}};return r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between",children:[r.jsx(G,{className:"text-white",children:e?"Edit Assessment":"Create New Assessment"}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"title",className:"text-white",children:"Assessment Title *"}),r.jsx(X,{id:"title",value:s.title,onChange:u=>c("title",u.target.value),placeholder:"Enter assessment title",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"client_name",className:"text-white",children:"Client Name *"}),r.jsx(X,{id:"client_name",value:s.client_name,onChange:u=>c("client_name",u.target.value),placeholder:"Enter client name",className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"location",className:"text-white",children:"Location *"}),r.jsx(X,{id:"location",value:s.location,onChange:u=>c("location",u.target.value),placeholder:"Enter location",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"assessment_type",className:"text-white",children:"Assessment Type"}),r.jsxs(_e,{value:s.assessment_type,onValueChange:u=>c("assessment_type",u),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"New Site",children:"New Site"}),r.jsx(Z,{value:"Existing Site",children:"Existing Site"}),r.jsx(Z,{value:"Security Review",children:"Security Review"}),r.jsx(Z,{value:"Risk Assessment",children:"Risk Assessment"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"priority",className:"text-white",children:"Priority"}),r.jsxs(_e,{value:s.priority,onValueChange:u=>c("priority",u),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"Low",children:"Low"}),r.jsx(Z,{value:"Medium",children:"Medium"}),r.jsx(Z,{value:"High",children:"High"}),r.jsx(Z,{value:"Critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"status",className:"text-white",children:"Status"}),r.jsxs(_e,{value:s.status,onValueChange:u=>c("status",u),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"Scheduled",children:"Scheduled"}),r.jsx(Z,{value:"In Progress",children:"In Progress"}),r.jsx(Z,{value:"Completed",children:"Completed"}),r.jsx(Z,{value:"Cancelled",children:"Cancelled"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"scheduled_date",className:"text-white",children:"Scheduled Date *"}),r.jsx(X,{id:"scheduled_date",type:"date",value:s.scheduled_date,onChange:u=>c("scheduled_date",u.target.value),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"assigned_to",className:"text-white",children:"Assigned To"}),r.jsx(X,{id:"assigned_to",value:s.assigned_to,onChange:u=>c("assigned_to",u.target.value),placeholder:"Enter assignee name",className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"description",className:"text-white",children:"Description"}),r.jsx(Ct,{id:"description",value:s.description,onChange:u=>c("description",u.target.value),placeholder:"Enter assessment description",className:"bg-slate-700/50 border-slate-600 text-white",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"risk_level",className:"text-white",children:"Risk Level"}),r.jsxs(_e,{value:s.risk_level,onValueChange:u=>c("risk_level",u),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"Low",children:"Low"}),r.jsx(Z,{value:"Medium",children:"Medium"}),r.jsx(Z,{value:"High",children:"High"}),r.jsx(Z,{value:"Critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"estimated_duration_hours",className:"text-white",children:"Estimated Duration (hours)"}),r.jsx(X,{id:"estimated_duration_hours",type:"number",min:"1",value:s.estimated_duration_hours,onChange:u=>c("estimated_duration_hours",parseInt(u.target.value)||0),className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"ios-button border-slate-600 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:a,className:"ios-button bg-blue-600 hover:bg-blue-700",children:a?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sn,{className:"w-4 h-4 mr-2"}),e?"Update Assessment":"Create Assessment"]})})]})]})})]})})})},LI=()=>{const[e,t]=m.useState(""),[n,s]=m.useState([]),[i,a]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(!0),[u,h]=m.useState(!1),[f,g]=m.useState(null),{toast:y}=oe(),x=["Physical Security Guards","Access Control Systems","CCTV Surveillance","Alarm Systems & Monitoring","Perimeter Security Solutions","Mobile Patrol Services","Emergency Response Planning","Risk Assessment & Consulting","Executive Protection","Event Security Management","Cybersecurity Assessment (Basic)","Loss Prevention Services"],w=()=>{g(null),h(!0)},p=E=>{g(E),h(!0)},v=E=>{s(f?N=>N.map(_=>_.id===E.id?E:_):N=>[E,...N])};m.useEffect(()=>{(async()=>{try{l(!0);const N=await $c.getAssessments({search:e});s(N)}catch(N){console.error("Error loading assessments:",N),y({title:"Error loading assessments",description:"Failed to load assessments from database",variant:"destructive"})}finally{l(!1)}})()},[e,y]),m.useEffect(()=>{(async()=>{try{d(!0);const N=await $c.getAssessmentTemplates();a(N)}catch(N){console.error("Error loading templates:",N),y({title:"Error loading templates",description:"Failed to load assessment templates from database",variant:"destructive"})}finally{d(!1)}})()},[y]);const b="bg-transparent p-0 space-x-1",j="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",S="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(mu,{className:"w-8 h-8 mr-3 text-blue-400"}),"Security Assessments"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Evaluate, plan, and manage security solutions for clients."})]}),r.jsxs($,{onClick:w,className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"New Assessment"]})]}),r.jsxs(Zt,{defaultValue:"assessments",className:"space-y-6",children:[r.jsxs(Bt,{className:`${b} border-b border-slate-700`,children:[r.jsx(ne,{value:"assessments",className:`${j} ${S}`,children:"Active Assessments"}),r.jsx(ne,{value:"templates",className:`${j} ${S}`,children:"Assessment Templates"}),r.jsx(ne,{value:"services",className:`${j} ${S}`,children:"Service Checklist"})]}),r.jsx(ie,{value:"assessments",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(mu,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Assessment Overview"})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search assessments...",value:e,onChange:E=>t(E.target.value),className:"pl-10 w-full sm:w-80 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"})]})]})}),r.jsx(U,{children:o?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(lt,{className:"w-6 h-6 animate-spin text-blue-400"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading assessments..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(mu,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No assessments found"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Create your first assessment to get started"})]}):r.jsx("div",{className:"space-y-4",children:n.map(E=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.assessment_type==="New Site"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:E.assessment_type}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.priority==="High"?"bg-red-500/20 text-red-400":E.priority==="Medium"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[E.priority," Priority"]})]}),r.jsx("h3",{className:"text-white font-semibold text-lg",children:E.client_name}),r.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(es,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:E.location})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Us,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:E.scheduled_date})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1.5",children:[E.status==="Completed"?r.jsx(tt,{className:"w-4 h-4 text-green-400"}):E.status==="In Progress"?r.jsx(dt,{className:"w-4 h-4 text-yellow-400 animate-pulse"}):r.jsx(Us,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:E.status})]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>p(E),className:"ios-button border-slate-600 hover:bg-slate-700",children:"Edit"})]})]})},E.id))})})]})}),r.jsx(ie,{value:"templates",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(et,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Assessment Templates"})]}),r.jsx(ae,{className:"text-gray-400",children:"Standardized templates for various assessment types."})]}),r.jsx(U,{children:c?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(lt,{className:"w-6 h-6 animate-spin text-purple-400"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading templates..."})]}):i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(et,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No templates found"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Assessment templates will appear here"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((E,N)=>r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:N*.05},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors cursor-pointer flex items-start space-x-4",onClick:()=>y({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:[r.jsx(et,{className:"w-8 h-8 text-purple-400 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:E.title}),r.jsx("p",{className:"text-gray-400 text-sm",children:E.description}),r.jsx("span",{className:"text-xs text-purple-400 mt-1",children:E.template_type})]})]},E.id))})})]})}),r.jsx(ie,{value:"services",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(e1,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Available Security Services Checklist"})]}),r.jsx(ae,{className:"text-gray-400",children:"Standard list of services offered for assessments."})]}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map((E,N)=>r.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.03},className:"flex items-center space-x-2 p-3 rounded-md bg-slate-800/40 border border-slate-700",children:[r.jsx(tt,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),r.jsx("span",{className:"text-white text-sm",children:E})]},E))})})]})})]}),u&&r.jsx(DI,{assessment:f,onClose:()=>{h(!1),g(null)},onSave:v})]})},II=({isEditing:e,currentSite:t,clients:n,allSitesForParent:s,onSuccess:i,onCancel:a})=>{const{toast:o}=oe(),[l,c]=m.useState(!1),[d,u]=m.useState({name:"",type:"",parent_id:null,client_id:null,address:"{}",gps_coordinates:"{}"});m.useEffect(()=>{u(e&&t?{name:t.name||"",type:t.type||"",parent_id:t.parent_id?t.parent_id.toString():null,client_id:t.client_id||null,address:t.address?JSON.stringify(t.address,null,2):"{}",gps_coordinates:t.gps_coordinates?JSON.stringify(t.gps_coordinates,null,2):"{}"}:{name:"",type:"",parent_id:null,client_id:null,address:"{}",gps_coordinates:"{}"})},[e,t]);const h=w=>{const{name:p,value:v}=w.target;u(b=>({...b,[p]:v}))},f=(w,p)=>{u(v=>({...v,[w]:p==="none"?null:w==="parent_id"?parseInt(p):p}))},g=(w,p)=>{try{return JSON.parse(w),!0}catch{return o({variant:"destructive",title:`Invalid JSON in ${p}`,description:"Please provide valid JSON data."}),!1}},y=async w=>{if(w.preventDefault(),!g(d.address,"Address")||!g(d.gps_coordinates,"GPS Coordinates"))return;const p={...d,address:JSON.parse(d.address),gps_coordinates:JSON.parse(d.gps_coordinates),parent_id:d.parent_id===""||d.parent_id==="none"?null:d.parent_id,client_id:d.client_id===""||d.client_id==="none"?null:d.client_id};c(!0);try{let v;if(e&&t){const{error:b}=await z.from("sites").update(p).eq("id",t.id);v=b}else{const{error:b}=await z.from("sites").insert([p]);v=b}if(v)throw v;o({title:`Entity ${e?"updated":"created"} successfully`}),i()}catch(v){o({variant:"destructive",title:`Error ${e?"updating":"creating"} entity`,description:v.message})}finally{c(!1)}},x=m.useMemo(()=>d.type?s.filter(w=>!t||w.id!==t.id):s,[s,d.type,t]);return console.log("EntityForm Debug:",{isEditing:e,currentSite:t,formData:d,parentCandidates:x.length,allSitesForParent:s.length,parentIdType:typeof d.parent_id,parentIdValue:d.parent_id}),r.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(G,{className:"text-xl text-white",children:e?"Edit Entity":"Create New Entity"}),r.jsx($,{variant:"ghost",size:"icon",onClick:a,className:"text-slate-400 hover:text-white",children:r.jsx(Gm,{className:"w-5 h-5"})})]}),r.jsx(ae,{className:"text-gray-400",children:e?`Updating details for ${(t==null?void 0:t.name)||"entity"}.`:"Fill in the details below."})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(q,{htmlFor:"name",className:"text-gray-300",children:"Name"}),r.jsx(X,{id:"name",name:"name",value:d.name,onChange:h,required:!0,className:Gn})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"type",className:"text-gray-300",children:"Type"}),r.jsxs(_e,{name:"type",value:d.type,onValueChange:w=>f("type",w),required:!0,children:[r.jsx(Ne,{className:Gn,children:r.jsx(Ee,{placeholder:"Select type..."})}),r.jsx(Se,{children:A2.map(w=>r.jsx(Z,{value:w,children:w.charAt(0).toUpperCase()+w.slice(1).replace("_"," ")},w))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(q,{htmlFor:"parent_id",className:"text-gray-300",children:"Parent Entity (Optional)"}),r.jsxs(_e,{name:"parent_id",value:d.parent_id?d.parent_id.toString():"none",onValueChange:w=>f("parent_id",w),children:[r.jsx(Ne,{className:Gn,children:r.jsx(Ee,{placeholder:"Select parent..."})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"none",children:"None"}),x.map(w=>r.jsxs(Z,{value:w.id.toString(),children:[w.name," (",w.type,")"]},w.id))]})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Any entity can be a parent of any other entity type."})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"client_id",className:"text-gray-300",children:"Client (Optional)"}),r.jsxs(_e,{name:"client_id",value:"none",onValueChange:w=>f("client_id",w),disabled:!0,children:[r.jsx(Ne,{className:Gn,children:r.jsx(Ee,{placeholder:"Client selection disabled"})}),r.jsx(Se,{children:r.jsx(Z,{value:"none",children:"None"})})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Client functionality disabled until users table is created."})]})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"address",className:"text-gray-300",children:"Address (JSON format)"}),r.jsx(Ct,{id:"address",name:"address",value:d.address,onChange:h,rows:4,className:`${Gn} font-mono`,placeholder:'{ "street": "123 Main St", "city": "Anytown", "zip": "12345" }'})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"gps_coordinates",className:"text-gray-300",children:"GPS Coordinates (JSON format)"}),r.jsx(Ct,{id:"gps_coordinates",name:"gps_coordinates",value:d.gps_coordinates,onChange:h,rows:3,className:`${Gn} font-mono`,placeholder:'{ "latitude": 34.0522, "longitude": -118.2437 }'})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:a,className:"text-gray-300 border-gray-600 hover:bg-slate-700",children:"Cancel"}),r.jsxs($,{type:"submit",className:`${bo}`,disabled:l,children:[r.jsx(Sn,{className:"w-4 h-4 mr-2"}),l?e?"Saving...":"Creating...":e?"Save Changes":"Create Entity"]})]})]})})]})})},Up=Y.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));Up.displayName="Table";const Hp=Y.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:se("[&_tr]:border-b-0",e),...t}));Hp.displayName="TableHeader";const Wp=Y.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));Wp.displayName="TableBody";const FI=Y.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:se("bg-primary font-medium text-primary-foreground",e),...t}));FI.displayName="TableFooter";const wo=Y.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:se("border-b border-slate-700/50 transition-colors hover:bg-slate-800/50 data-[state=selected]:bg-muted",e),...t}));wo.displayName="TableRow";const rn=Y.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0","text-slate-400 uppercase tracking-wider text-xs",e),...t}));rn.displayName="TableHead";const an=Y.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:se("p-4 align-middle text-slate-300 [&:has([role=checkbox])]:pr-0",e),...t}));an.displayName="TableCell";const VI=Y.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));VI.displayName="TableCaption";const BI=({sites:e,loading:t,onEdit:n,onDelete:s})=>(console.log("EntityTable received sites:",e),t?r.jsx(U,{children:r.jsx("p",{className:"text-center text-gray-400 py-4",children:"Loading entities..."})}):!e||e.length===0?r.jsx(U,{children:r.jsx("p",{className:"text-center text-gray-400 py-4",children:'No entities found. Click "Add New Entity" to get started.'})}):r.jsx(U,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Up,{children:[r.jsx(Hp,{className:"ios-table-header",children:r.jsxs(wo,{children:[r.jsx(rn,{children:"Name"}),r.jsx(rn,{children:"Type"}),r.jsx(rn,{children:"Parent"}),r.jsx(rn,{children:"Client"}),r.jsx(rn,{className:"text-right",children:"Actions"})]})}),r.jsx(Wp,{className:"dark-table-row-hover",children:e.map(i=>(e.indexOf(i)<3&&console.log("Site in table:",i),r.jsxs(wo,{children:[r.jsx(an,{className:"font-medium text-white",children:i.name||"N/A"}),r.jsx(an,{children:i.type?i.type.charAt(0).toUpperCase()+i.type.slice(1).replace("_"," "):"N/A"}),r.jsx(an,{children:i.parent_name||"N/A"}),r.jsx(an,{children:i.client_name||"N/A"}),r.jsxs(an,{className:"text-right space-x-1 md:space-x-2",children:[r.jsx($,{variant:"ghost",size:"icon",onClick:()=>n(i),className:`hover:bg-blue-500/20 text-blue-400 ${bo} p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8`,children:r.jsx(Nn,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),r.jsx($,{variant:"ghost",size:"icon",onClick:()=>s(i.id),className:`hover:bg-red-500/20 text-red-400 ${bo} p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8`,children:r.jsx(l1,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]},i.id)))})]})})})),zI={site:r1,region:sT,national:lf,global:lf},Ju=({title:e,parentTypeForSelection:t,childTypeToDisplay:n,allSites:s,loading:i,selectedParent:a,setSelectedParent:o,getDashboardData:l})=>{var f,g;const{toast:c}=oe(),d=s.filter(y=>y.type===t),u=l(t,n),h=zI[t]||Zn;return r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[r.jsxs(G,{className:"text-xl text-white flex items-center mb-2 sm:mb-0",children:[r.jsx(h,{className:"w-5 h-5 mr-2 text-blue-400"}),e]}),d.length>0&&r.jsxs(_e,{onValueChange:y=>o(y==="none"?null:parseInt(y)),value:a||"none",children:[r.jsx(Ne,{className:`${Gn} w-full sm:w-auto sm:max-w-xs`,children:r.jsx(Ee,{placeholder:`Select ${t}...`})}),r.jsxs(Se,{children:[r.jsxs(Z,{value:"none",children:["Overview (All ",t,"s)"]}),d.map(y=>r.jsx(Z,{value:y.id.toString(),children:y.name},y.id))]})]})]}),r.jsx(ae,{className:"text-gray-400 mt-2",children:a?`Data for children of ${((f=s.find(y=>y.id===a))==null?void 0:f.name)||t}.`:`Overview of all ${n}s under ${t}s.`})]}),r.jsxs(U,{children:[i?r.jsx("p",{className:"text-center text-gray-400 py-4",children:"Loading data..."}):u.length===0?r.jsxs("div",{className:"text-center py-12 min-h-[200px] flex flex-col items-center justify-center",children:[r.jsx(Zn,{className:"w-12 h-12 mx-auto text-slate-500 mb-3 opacity-70"}),r.jsxs("p",{className:"text-gray-400",children:["No ",n," data to display for ",a?(g=s.find(y=>y.id===a))==null?void 0:g.name:`the selected ${t}`,"."]}),!a&&d.length>0&&r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Select a ",t," from the dropdown to see its children."]}),d.length===0&&r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["No ",t," entities exist to display data for."]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(y=>r.jsxs(H,{className:"bg-slate-800/50 border-slate-700 hover-lift",children:[r.jsxs(K,{children:[r.jsx(G,{className:"text-lg text-sky-300",children:y.name}),r.jsx(ae,{className:"text-slate-400",children:y.type?y.type.charAt(0).toUpperCase()+y.type.slice(1).replace("_"," "):"N/A"})]}),r.jsxs(U,{children:[r.jsxs("p",{className:"text-xs text-slate-500",children:["Address: ",y.address?JSON.stringify(y.address):"N/A"]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Client: ",y.client_name||"N/A"]}),r.jsx($,{size:"sm",variant:"link",className:"text-blue-400 hover:text-blue-300 p-0 mt-2 text-xs",onClick:()=>c({title:" Feature Not Implemented"}),children:"View Details"})]})]},y.id))}),r.jsxs("div",{className:"text-center py-8 mt-4 border-t border-slate-700",children:[r.jsx(Zn,{className:"w-10 h-10 mx-auto text-slate-600 mb-2 opacity-50"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"AI-powered charts and aggregated analytics will appear here."})]})]})]})},A2=["site","region","special_activity","national","global"],bo="bg-[#607D8B] hover:bg-[#546E7A] text-white",Gn="bg-white text-gray-800 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-blue-500",UI="bg-transparent p-0 space-x-1",ma="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",pa="data-[state=active]:bg-transparent data-[state=active]:shadow-none",HI=()=>{var B;const{toast:e}=oe(),[t,n]=m.useState([]),[s,i]=m.useState([]),[a,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[g,y]=m.useState(null),[x,w]=m.useState("");console.log(" Search term state:",x);const[p,v]=m.useState("hierarchy_view"),[b,j]=m.useState(null),S=m.useCallback(async()=>{c(!0);try{console.log(" Fetching sites from database...");const{data:k,error:L}=await z.from("sites").select(`
          id, 
          name, 
          type, 
          parent_id, 
          client_id, 
          address, 
          gps_coordinates
        `);if(console.log(" Database response:",{sitesData:k,sitesError:L}),L)throw L;console.log("Raw sites data:",k);const D=[...new Set(k.map(O=>O.parent_id).filter(O=>O!==null))];let T=[];if(D.length>0){const{data:O,error:P}=await z.from("sites").select("id, name").in("id",D);P||(T=O||[])}const C=k.map(O=>{var P;return{...O,parent_name:O.parent_id&&((P=T.find(M=>M.id===O.parent_id))==null?void 0:P.name)||null,client_name:null}});console.log("Formatted sites data:",C),n(C),o(k.map(O=>({id:O.id,name:O.name,type:O.type}))),i([])}catch(k){e({variant:"destructive",title:"Error fetching data",description:k.message})}finally{c(!1)}},[e]);m.useEffect(()=>{S()},[S]);const E=()=>{u(!1),f(!1),y(null),S()},N=k=>{f(!0),y(k),u(!0)},_=async k=>{if(window.confirm("Are you sure you want to delete this entity? This action cannot be undone.")){c(!0);try{const{error:L}=await z.from("sites").delete().eq("id",k);if(L)throw L;e({title:"Entity deleted successfully"}),S()}catch(L){e({variant:"destructive",title:"Error deleting entity",description:L.message})}finally{c(!1)}}},R=t.filter(k=>x?k.name.toLowerCase().includes(x.toLowerCase())||k.type&&k.type.toLowerCase().includes(x.toLowerCase())||k.client_name&&k.client_name.toLowerCase().includes(x.toLowerCase()):!0);console.log("Sites filtering debug:",{searchTerm:x,totalSites:t.length,filteredSitesCount:R.length,sitesWithNames:t.filter(k=>k.name).length,sitesWithoutNames:t.filter(k=>!k.name).length,sampleSite:t[0]});const A=(k,L)=>{if(b)return t.filter(T=>T.parent_id===b&&T.type===L);const D=t.filter(T=>T.type===k);return!b&&D.length>0?t.filter(T=>T.type===L&&D.some(C=>C.id===T.parent_id)):[]};return l&&!d&&!t.length?r.jsx("div",{className:"text-center py-10 text-white",children:"Loading Hierarchy Builder..."}):r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[!d&&r.jsx(ko,{to:"/",className:`p-2 rounded-full hover:bg-slate-700/50 transition-colors ${bo}`,children:r.jsx(Gm,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(yr,{className:"w-8 h-8 mr-3 text-blue-400"}),"Hierarchy Builder"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage sites, regions, national, and global entities with flexible parent-child relationships."})]})]}),!d&&r.jsxs($,{onClick:()=>{u(!0),f(!1),y(null)},className:`${bo} mt-4 sm:mt-0`,children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add New Entity"]})]}),d?r.jsx(II,{isEditing:h,currentSite:g,clients:s,allSitesForParent:a,onSuccess:E,onCancel:()=>{u(!1),f(!1),y(null)}}):r.jsxs(Zt,{defaultValue:p,onValueChange:v,className:"space-y-6",children:[r.jsxs(Bt,{className:`${UI} border-b border-slate-700`,children:[r.jsx(ne,{value:"sites_list",className:`${ma} ${pa}`,children:"Entities List"}),r.jsx(ne,{value:"hierarchy_view",className:`${ma} ${pa}`,children:"Hierarchy View"}),r.jsx(ne,{value:"regional_dashboard",className:`${ma} ${pa}`,children:"Regional View"}),r.jsx(ne,{value:"national_dashboard",className:`${ma} ${pa}`,children:"National View"}),r.jsx(ne,{value:"global_dashboard",className:`${ma} ${pa}`,children:"Global View"})]}),r.jsx(ie,{value:"sites_list",children:r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(G,{className:"text-xl text-white",children:"All Entities"}),r.jsx(ae,{className:"text-gray-400",children:"View and manage all registered sites, regions, and national/global entities."})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[r.jsxs(_e,{onValueChange:k=>w(k==="all"?"":k),children:[r.jsx(Ne,{className:`${Gn} w-auto text-xs`,children:r.jsx(Ee,{placeholder:"Filter by Type..."})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"all",children:"All Types"}),A2.map(k=>r.jsx(Z,{value:k,children:k.charAt(0).toUpperCase()+k.slice(1).replace("_"," ")},k))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search entities...",value:x,onChange:k=>w(k.target.value),className:"pl-10 w-full sm:w-64 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]})}),r.jsx(BI,{sites:R,loading:l&&t.length===0,onEdit:N,onDelete:_})]})}),r.jsx(ie,{value:"hierarchy_view",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[r.jsxs(G,{className:"text-xl text-white flex items-center mb-2 sm:mb-0",children:[r.jsx(yr,{className:"w-5 h-5 mr-2 text-blue-400"}),"Flexible Hierarchy View"]}),r.jsxs(_e,{onValueChange:k=>j(k==="none"?null:parseInt(k)),value:b||"none",children:[r.jsx(Ne,{className:`${Gn} w-full sm:w-auto sm:max-w-xs`,children:r.jsx(Ee,{placeholder:"Select parent entity..."})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"none",children:"Overview (All Entities)"}),t.map(k=>r.jsxs(Z,{value:k.id.toString(),children:[k.name," (",k.type,")"]},k.id))]})]})]}),r.jsx(ae,{className:"text-gray-400 mt-2",children:b?`Showing children of ${((B=t.find(k=>k.id===b))==null?void 0:B.name)||"selected entity"}.`:"View all entities and their relationships. Select a parent to see its children."})]}),r.jsx(U,{children:l?r.jsx("p",{className:"text-center text-gray-400 py-4",children:"Loading data..."}):t.length===0?r.jsxs("div",{className:"text-center py-12 min-h-[200px] flex flex-col items-center justify-center",children:[r.jsx(yr,{className:"w-12 h-12 mx-auto text-slate-500 mb-3 opacity-70"}),r.jsx("p",{className:"text-gray-400",children:"No entities found."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(b?t.filter(k=>k.parent_id===b):t).map(k=>r.jsxs(H,{className:"bg-slate-800/50 border-slate-700 hover-lift",children:[r.jsxs(K,{children:[r.jsx(G,{className:"text-lg text-sky-300",children:k.name}),r.jsx(ae,{className:"text-slate-400",children:k.type?k.type.charAt(0).toUpperCase()+k.type.slice(1).replace("_"," "):"N/A"})]}),r.jsxs(U,{children:[r.jsxs("p",{className:"text-xs text-slate-500",children:["Parent: ",k.parent_name||"None"]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Address: ",k.address?JSON.stringify(k.address):"N/A"]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Client: ",k.client_name||"N/A"]}),r.jsx($,{size:"sm",variant:"link",className:"text-blue-400 hover:text-blue-300 p-0 mt-2 text-xs",onClick:()=>e({title:" Feature Not Implemented"}),children:"View Details"})]})]},k.id))})})]})}),r.jsx(ie,{value:"regional_dashboard",children:r.jsx(Ju,{title:"Regional Dashboard",parentTypeForSelection:"region",childTypeToDisplay:"site",allSites:t,loading:l,selectedParent:b,setSelectedParent:j,getDashboardData:A})}),r.jsx(ie,{value:"national_dashboard",children:r.jsx(Ju,{title:"National Dashboard",parentTypeForSelection:"national",childTypeToDisplay:"region",allSites:t,loading:l,selectedParent:b,setSelectedParent:j,getDashboardData:A})}),r.jsx(ie,{value:"global_dashboard",children:r.jsx(Ju,{title:"Global Dashboard",parentTypeForSelection:"global",childTypeToDisplay:"national",allSites:t,loading:l,selectedParent:b,setSelectedParent:j,getDashboardData:A})})]})]})},R2={"Standard Officer":{description:"Basic security personnel for routine operations",requirements:["Basic Security Training","Background Check","Physical Fitness"],icon:"Shield"},"Dual-Role Hybrid":{description:"Officers with multiple specializations and responsibilities",requirements:["Multiple Certifications","Cross-Training","Advanced Background Check"],icon:"Users"},Supervisor:{description:"Team leaders and site supervisors",requirements:["Leadership Training","Management Certification","Experience"],icon:"Star"},"Operations Management":{description:"Regional and operational managers",requirements:["Management Degree","Extensive Experience","Strategic Planning"],icon:"Briefcase"},Consultant:{description:"Specialized security consultants and advisors",requirements:["Expert Certification","Industry Experience","Consulting Skills"],icon:"GraduationCap"}},WI=async e=>{try{const{data:t,error:n}=await z.from("employees").insert([e]).select().single();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Error creating employee:",t),{data:null,error:t}}},O2=async()=>{try{const{data:e,error:t}=await z.from("employees").select("*").order("created_at",{ascending:!1});if(t){if(t.code==="42501")return console.error("RLS Policy Error: User not authenticated or missing permissions"),{data:null,error:{message:"Authentication required. Please log in or contact administrator to disable RLS for development."}};throw t}return{data:e,error:null}}catch(e){return console.error("Error fetching security staff:",e),{data:null,error:e}}},qI=async(e,t)=>{try{const{data:n,error:s}=await z.from("employees").update(t).eq("id",e).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return console.error("Error updating employee:",n),{data:null,error:n}}},GI=async()=>{try{const{data:e,error:t}=await z.from("employees").select("type, status, compliance");if(t)throw t;const n={total:e.length,byType:{},byStatus:{},averageCompliance:0};let s=0,i=0;return e.forEach(a=>{n.byType[a.type]=(n.byType[a.type]||0)+1,n.byStatus[a.status]=(n.byStatus[a.status]||0)+1,a.compliance&&a.status==="Active"&&(s+=a.compliance,i++)}),n.averageCompliance=i>0?Math.round(s/i):0,{data:n,error:null}}catch(e){return console.error("Error fetching employee stats:",e),{data:null,error:e}}},KI=async()=>{const e=[{name:"John Smith",role:"Security Officer",type:"Standard Officer",site:"Corporate HQ Alpha",status:"Active",compliance:95,certifications:["Basic Security","First Aid","Firearms"],email:"john.smith@gs3.com",phone:"+1-555-0123",hire_date:"2023-01-15"},{name:"Sarah Johnson",role:"Site Supervisor",type:"Supervisor",site:"Metro Hospital East",status:"Active",compliance:98,certifications:["Advanced Security","Leadership","Emergency Response"],email:"sarah.johnson@gs3.com",phone:"+1-555-0124",hire_date:"2022-08-20"},{name:"Mike Rodriguez",role:"Operations Manager",type:"Operations Management",site:"Regional Office",status:"Active",compliance:100,certifications:["Management","Risk Assessment","ISO 18788"],email:"mike.rodriguez@gs3.com",phone:"+1-555-0125",hire_date:"2021-03-10"},{name:"Lisa Chen",role:"Security Consultant",type:"Consultant",site:"Multiple",status:"Active",compliance:92,certifications:["Consulting","Risk Analysis","Training"],email:"lisa.chen@gs3.com",phone:"+1-555-0126",hire_date:"2022-11-05"}];try{const{data:t,error:n}=await z.from("employees").select("count").limit(1);if(n&&n.code==="42P01"&&console.log("Creating security staff table..."),!t||t.length===0){const{data:s,error:i}=await z.from("employees").insert(e).select();if(i)throw i;return console.log("Sample employee data initialized"),{data:s,error:null}}return{data:t,error:null}}catch(t){return console.error("Error initializing employee data:",t),{data:null,error:t}}},$2=async()=>{try{const{data:e,error:t}=await z.from("employees").select("status, compliance, created_at");if(t)throw t;const n=e.length,s=e.filter(u=>u.status==="Active").length,i=e.filter(u=>u.compliance>=95).length,a=e.filter(u=>u.compliance>=85&&u.compliance<95).length,o=e.filter(u=>u.compliance<85).length,l=i+Math.floor(a*.8),c=Math.floor(a*.2)+Math.floor(o*.3),d=Math.floor(o*.7);return{data:{completedChecks:l,inProgress:c,pendingReview:d,totalEmployees:n,activeEmployees:s},error:null}}catch(e){return console.error("Error fetching background check stats:",e),{data:null,error:e}}},M2=async()=>{try{const{data:e,error:t}=await z.from("employees").select("hire_date, status, created_at");if(t)throw t;const n=new Date,s=new Date(n.getTime()-30*24*60*60*1e3),i=e.filter(l=>new Date(l.hire_date)>=s).length,a=e.filter(l=>l.status==="On Leave").length,o=e.filter(l=>l.status==="Active").length;return{data:{newHires:i,inTraining:a,qualified:o,totalEmployees:e.length},error:null}}catch(e){return console.error("Error fetching onboarding stats:",e),{data:null,error:e}}},qp=({employee:e=null,onClose:t,onSuccess:n})=>{const[s,i]=m.useState({name:"",role:"",type:"",site:"",department:"",status:"Active",compliance:100,certifications:"",email:"",phone:"",hire_date:new Date().toISOString().split("T")[0]}),[a,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState(!1),{toast:h}=oe(),f=!!e,g=m.useCallback(async()=>{u(!0);try{const{data:p,error:v}=await z.from("sites").select(`
          id, 
          name, 
          type, 
          parent_id
        `);if(v)throw v;const b=[...new Set(p.map(E=>E.parent_id).filter(E=>E!==null))];let j=[];if(b.length>0){const{data:E,error:N}=await z.from("sites").select("id, name").in("id",b);N||(j=E||[])}const S=p.map(E=>{var N;return{...E,parent_name:E.parent_id&&((N=j.find(_=>_.id===E.parent_id))==null?void 0:N.name)||null}});c(S)}catch(p){h({variant:"destructive",title:"Error fetching sites",description:p.message})}finally{u(!1)}},[h]);m.useEffect(()=>{g()},[g]),m.useEffect(()=>{e&&i({name:e.name||"",role:e.role||"",type:e.type||"",site:e.site||"",department:e.department||"",status:e.status||"Active",compliance:e.compliance||100,certifications:Array.isArray(e.certifications)?e.certifications.join(", "):e.certifications||"",email:e.email||"",phone:e.phone||"",hire_date:e.hire_date||new Date().toISOString().split("T")[0]})},[e]);const y=(p,v)=>{i(b=>({...b,[p]:v}))},x=async p=>{p.preventDefault(),o(!0);try{const v={...s,certifications:s.certifications.split(",").map(j=>j.trim()).filter(j=>j.length>0)};let b;if(f?b=await qI(e.id,v):b=await WI(v),b.error)throw b.error;h({title:f?"Security Staff Updated":"Security Staff Added",description:`${s.name} has been ${f?"updated":"added"} successfully.`,variant:"default"}),n==null||n(b.data),t()}catch(v){console.error("Error saving employee:",v),h({title:"Error",description:v.message||"Failed to save security staff. Please try again.",variant:"destructive"})}finally{o(!1)}},w=Object.keys(R2);return r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[f?r.jsx(Nn,{className:"w-5 h-5 text-blue-400"}):r.jsx(c1,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:f?"Edit Security Staff":"Add New Security Staff"})]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"name",className:"text-white",children:"Full Name"}),r.jsx(X,{id:"name",value:s.name,onChange:p=>y("name",p.target.value),placeholder:"Enter full name",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"role",className:"text-white",children:"Role"}),r.jsx(X,{id:"role",value:s.role,onChange:p=>y("role",p.target.value),placeholder:"Security Officer",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"department",className:"text-white",children:"Department"}),r.jsx(X,{id:"department",value:s.department,onChange:p=>y("department",p.target.value),placeholder:"Security Operations",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"type",className:"text-white",children:"Security Staff Type"}),r.jsxs(_e,{value:s.type,onValueChange:p=>y("type",p),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:"Select security staff type"})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:w.map(p=>r.jsx(Z,{value:p,className:"text-white",children:p},p))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"site",className:"text-white",children:"Entity"}),r.jsxs(_e,{value:s.site,onValueChange:p=>y("site",p),disabled:d,children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:d?"Loading entities...":"Select an entity..."})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:l.map(p=>r.jsxs(Z,{value:p.name,className:"text-white",children:[p.name," (",p.type,") ",p.parent_name?`- ${p.parent_name}`:""]},p.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"email",className:"text-white",children:"Email"}),r.jsx(X,{id:"email",type:"email",value:s.email,onChange:p=>y("email",p.target.value),placeholder:"employee@gs3.com",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"phone",className:"text-white",children:"Phone"}),r.jsx(X,{id:"phone",value:s.phone,onChange:p=>y("phone",p.target.value),placeholder:"+1-555-0123",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"status",className:"text-white",children:"Status"}),r.jsxs(_e,{value:s.status,onValueChange:p=>y("status",p),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{className:"bg-slate-800 border-slate-600",children:[r.jsx(Z,{value:"Active",className:"text-white",children:"Active"}),r.jsx(Z,{value:"Inactive",className:"text-white",children:"Inactive"}),r.jsx(Z,{value:"On Leave",className:"text-white",children:"On Leave"}),r.jsx(Z,{value:"Terminated",className:"text-white",children:"Terminated"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"compliance",className:"text-white",children:"Compliance Score (%)"}),r.jsx(X,{id:"compliance",type:"number",min:"0",max:"100",value:s.compliance,onChange:p=>y("compliance",parseInt(p.target.value)||0),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"hire_date",className:"text-white",children:"Hire Date"}),r.jsx(X,{id:"hire_date",type:"date",value:s.hire_date,onChange:p=>y("hire_date",p.target.value),className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"certifications",className:"text-white",children:"Certifications"}),r.jsx(Ct,{id:"certifications",value:s.certifications,onChange:p=>y("certifications",p.target.value),placeholder:"Basic Security, First Aid, Firearms (comma-separated)",className:"bg-slate-700/50 border-slate-600 text-white min-h-[80px]"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Enter certifications separated by commas"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:a?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsxs("span",{children:[f?"Update":"Save"," Security Staff"]})]})})]})]})})]})})})})},YI=od("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xu({className:e,variant:t,...n}){return r.jsx("div",{className:se(YI({variant:t}),e),...n})}const D2=({employee:e,onClose:t,onUpdate:n})=>{const[s,i]=m.useState(!1),{toast:a}=oe(),o=u=>{switch(u){case"Active":return"bg-green-500/20 text-green-400 border-green-500/30";case"Inactive":return"bg-red-500/20 text-red-400 border-red-500/30";case"On Leave":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Terminated":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},l=u=>u>=95?"text-green-400":u>=85?"text-yellow-400":"text-red-400",c=u=>u>=95?r.jsx(tt,{className:"w-4 h-4 text-green-400"}):u>=85?r.jsx(pi,{className:"w-4 h-4 text-yellow-400"}):r.jsx(pi,{className:"w-4 h-4 text-red-400"}),d=u=>{n==null||n(u),i(!1),a({title:"Employee Updated",description:`${u.name} has been updated successfully.`,variant:"default"})};return s?r.jsx(qp,{employee:e,onClose:()=>i(!1),onSuccess:d}):r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Xm,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Employee Profile"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs($,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[r.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Edit"]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]})]}),r.jsxs(U,{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between space-y-4 md:space-y-0",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.name.split(" ").map(u=>u[0]).join("")}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),r.jsx("p",{className:"text-gray-400",children:e.role}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(Xu,{className:o(e.status),children:e.status}),r.jsxs("div",{className:"flex items-center space-x-1",children:[c(e.compliance),r.jsxs("span",{className:`text-sm font-medium ${l(e.compliance)}`,children:[e.compliance,"% Compliant"]})]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsx(G,{className:"text-white text-lg",children:"Contact Information"})}),r.jsxs(U,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(n1,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-gray-300",children:e.email})]}),e.phone&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Jm,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-gray-300",children:e.phone})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(es,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-gray-300",children:e.site})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Us,{className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-gray-300",children:["Hired: ",new Date(e.hire_date).toLocaleDateString()]})]})]})]}),r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsx(G,{className:"text-white text-lg",children:"Employment Details"})}),r.jsxs(U,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Employee Type:"}),r.jsx(Xu,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:e.type})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Compliance Score:"}),r.jsxs("span",{className:`font-semibold ${l(e.compliance)}`,children:[e.compliance,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx(Xu,{className:o(e.status),children:e.status})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Certifications:"}),r.jsx("span",{className:"text-white font-medium",children:Array.isArray(e.certifications)?e.certifications.length:0})]})]})]})]}),e.certifications&&e.certifications.length>0&&r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"text-white text-lg flex items-center space-x-2",children:[r.jsx(ts,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Certifications & Training"})]})}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Array.isArray(e.certifications)?e.certifications.map((u,h)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg bg-slate-700/50",children:[r.jsx(tt,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),r.jsx("span",{className:"text-white text-sm",children:u})]},h)):r.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg bg-slate-700/50",children:[r.jsx(tt,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),r.jsx("span",{className:"text-white text-sm",children:e.certifications})]})})})]}),r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsx(G,{className:"text-white text-lg",children:"Quick Actions"})}),r.jsx(U,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs($,{variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>a({title:"Feature coming soon",description:"Training management will be available soon."}),children:[r.jsx(xn,{className:"w-4 h-4 mr-2"}),"Manage Training"]}),r.jsxs($,{variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>a({title:"Feature coming soon",description:"Schedule management will be available soon."}),children:[r.jsx(zi,{className:"w-4 h-4 mr-2"}),"View Schedule"]}),r.jsxs($,{variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>a({title:"Feature coming soon",description:"Performance tracking will be available soon."}),children:[r.jsx(ho,{className:"w-4 h-4 mr-2"}),"Performance Review"]})]})})]})]})]})})})})},QI=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[i,a]=m.useState(""),[o,l]=m.useState(!0);m.useState(null);const[c,d]=m.useState(null),[u,h]=m.useState(null),[f,g]=m.useState(!1),[y,x]=m.useState(null),{toast:w}=oe();m.useEffect(()=>{p(),v(),b()},[]),m.useEffect(()=>{if(i.trim()==="")s(e);else{const k=e.filter(L=>L.name.toLowerCase().includes(i.toLowerCase())||L.role.toLowerCase().includes(i.toLowerCase())||L.site.toLowerCase().includes(i.toLowerCase()));s(k)}},[i,e]);const p=async()=>{l(!0);try{const{data:k,error:L}=await O2();if(L)throw L;if(t(k||[]),!k||k.length===0){const{data:D}=await KI();D&&t(D)}}catch(k){console.error("Error loading employees:",k),w({title:"Error",description:"Failed to load employees. Please try again.",variant:"destructive"})}finally{l(!1)}},v=async()=>{try{const{data:k,error:L}=await $2();if(L)throw L;d(k)}catch(k){console.error("Error loading background stats:",k)}},b=async()=>{try{const{data:k,error:L}=await M2();if(L)throw L;h(k)}catch(k){console.error("Error loading onboarding stats:",k)}},j=()=>{g(!0)},S=k=>{x(k)},E=k=>{t(L=>L.map(D=>D.id===k.id?k:D)),x(null),v(),b()},N=k=>{t(L=>[k,...L]),g(!1),v(),b()},_=Object.entries(R2).map(([k,L])=>{const D=e.filter(T=>T.type===k).length;return{type:k,description:L.description,requirements:L.requirements,count:D,icon:L.icon==="Shield"?ts:L.icon==="Users"?Re:L.icon==="Star"?ho:L.icon==="Briefcase"?gi:L.icon==="GraduationCap"?xn:ts}}),R="bg-transparent p-0 space-x-1",A="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",B="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Re,{className:"w-8 h-8 mr-3 text-blue-400"}),"Security Staff Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage security personnel, credentials, and compliance efficiently."})]}),r.jsxs($,{onClick:j,className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add Employee"]})]}),r.jsxs(Zt,{defaultValue:"employees",className:"space-y-6",children:[r.jsxs(Bt,{className:`${R} border-b border-slate-700`,children:[r.jsx(ne,{value:"employees",className:`${A} ${B}`,children:"Security Staff"}),r.jsx(ne,{value:"types",className:`${A} ${B}`,children:"Employee Types"}),r.jsx(ne,{value:"background",className:`${A} ${B}`,children:"Background Checks"}),r.jsx(ne,{value:"onboarding",className:`${A} ${B}`,children:"Onboarding"})]}),r.jsx(ie,{value:"employees",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-blue-400"}),r.jsxs("span",{children:["Active Security Staff (",n.length,")"]})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search security staff...",value:i,onChange:k=>a(k.target.value),className:"pl-10 w-full sm:w-80 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"})]})]})}),r.jsx(U,{children:o?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(lt,{className:"w-8 h-8 animate-spin text-blue-400"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading security staff..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Re,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-2",children:i?"No security staff found matching your search.":"No security staff found."}),!i&&r.jsxs($,{onClick:j,className:"mt-4",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add First Security Staff"]})]}):r.jsx("div",{className:"space-y-4",children:n.map(k=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors cursor-pointer",onClick:()=>S(k),children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold text-lg",children:k.name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.type==="Operations Management"?"bg-purple-500/20 text-purple-400":k.type==="Supervisor"?"bg-blue-500/20 text-blue-400":k.type==="Consultant"?"bg-green-500/20 text-green-400":k.type==="Dual-Role Hybrid"?"bg-orange-500/20 text-orange-400":"bg-gray-500/20 text-gray-400"}`,children:k.type}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${k.compliance>=95?"bg-green-500":k.compliance>=85?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("span",{className:"text-xs text-gray-400",children:[k.compliance,"% Compliant"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsx("span",{children:k.role}),r.jsx("span",{children:""}),r.jsx("span",{children:k.site}),r.jsx("span",{children:""}),r.jsxs("span",{children:[Array.isArray(k.certifications)?k.certifications.length:0," Certs"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`text-sm font-medium ${k.status==="Active"?"text-green-400":"text-red-400"}`,children:k.status}),r.jsx($,{variant:"outline",size:"sm",onClick:L=>{L.stopPropagation(),S(k)},className:"ios-button border-slate-600 hover:bg-slate-700",children:"View Profile"})]})]})},k.id))})})]})}),r.jsx(ie,{value:"types",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsx(G,{className:"text-white",children:"Security Staff Role Definitions"}),r.jsx(ae,{className:"text-gray-400",children:"Overview of different security staff types and their requirements."})]}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((k,L)=>r.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:L*.05},children:r.jsxs(H,{className:"ios-card h-full hover-lift",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(k.icon,{className:"w-6 h-6 text-blue-400"}),r.jsx("span",{className:"text-lg",children:k.type})]}),r.jsx("span",{className:"text-2xl font-bold text-blue-400",children:k.count})]})}),r.jsxs(U,{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-3 h-12 overflow-hidden",children:k.description}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("h4",{className:"text-white font-medium text-xs",children:"Key Requirements:"}),k.requirements.slice(0,2).map((D,T)=>r.jsxs("div",{className:"flex items-center space-x-1.5 text-xs text-gray-400",children:[r.jsx(Nc,{className:"w-3 h-3 text-green-400 flex-shrink-0"}),r.jsx("span",{children:D})]},T)),k.requirements.length>2&&r.jsx("p",{className:"text-xs text-slate-500",children:"...and more"})]})]})]})},k.type))})})]})}),r.jsx(ie,{value:"background",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(ts,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Background Check & Credentialing"})]}),r.jsx(ae,{className:"text-gray-400",children:"System for managing employee vetting and credentials."})]}),r.jsx(U,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4 p-4 rounded-lg bg-slate-800/40",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Background Check Components"}),["Criminal History Verification","Employment History Verification","Education Verification","Reference Checks","Credit History (if applicable)","Drug Screening","Security Clearance"].map((k,L)=>r.jsxs("div",{className:"flex items-center space-x-2 p-2.5 rounded-md bg-slate-700/50",children:[r.jsx(Ym,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),r.jsx("span",{className:"text-white text-sm",children:k})]},L))]}),r.jsxs("div",{className:"space-y-4 p-4 rounded-lg bg-slate-800/40",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Credentialing Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-green-500/10",children:[r.jsx("span",{className:"text-white",children:"Completed Checks"}),r.jsx("span",{className:"text-green-400 font-semibold",children:c?c.completedChecks:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-yellow-500/10",children:[r.jsx("span",{className:"text-white",children:"In Progress"}),r.jsx("span",{className:"text-yellow-400 font-semibold",children:c?c.inProgress:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-red-500/10",children:[r.jsx("span",{className:"text-white",children:"Pending Review"}),r.jsx("span",{className:"text-red-400 font-semibold",children:c?c.pendingReview:"..."})]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Total Security Staff: ",c?c.totalEmployees:"..."]}),r.jsx($,{variant:"outline",className:"w-full mt-4 glass-button",onClick:()=>w({title:" Feature Not Implemented"}),children:"Manage Credentials"})]})]})})]})}),r.jsx(ie,{value:"onboarding",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(xn,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Onboarding & Qualification System"})]}),r.jsx(ae,{className:"text-gray-400",children:"Streamlined process for new hires."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-500/10",children:[r.jsx(ho,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"New Hires"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:u?u.newHires:"..."}),r.jsx("p",{className:"text-gray-400 text-sm",children:"This Month"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-yellow-500/10",children:[r.jsx(dt,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"In Training"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:u?u.inTraining:"..."}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Active"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-500/10",children:[r.jsx(Nc,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Qualified"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:u?u.qualified:"..."}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Ready for Duty"})]})]}),r.jsxs("div",{className:"p-4 rounded-lg bg-slate-800/40",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:"Onboarding Process Steps"}),r.jsx("div",{className:"space-y-3",children:["Document Collection & Verification","Background Check Completion","Basic Security Training","Site-Specific Training","Equipment Assignment","Supervisor Introduction","First Week Mentoring"].map((k,L)=>r.jsxs("div",{className:"flex items-center space-x-3 p-2.5 rounded-md bg-slate-700/50",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center font-semibold flex-shrink-0",children:L+1}),r.jsx("span",{className:"text-white text-sm",children:k})]},L))})]})]})})]})})]}),f&&r.jsx(qp,{onClose:()=>g(!1),onSuccess:N}),y&&r.jsx(D2,{employee:y,onClose:()=>x(null),onUpdate:E})]})},JI=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[i,a]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,g]=m.useState(null),[y,x]=m.useState(null),[w,p]=m.useState(null),[v,b]=m.useState([]),{toast:j}=oe();m.useEffect(()=>{S()},[]),m.useEffect(()=>{if(!i.trim())s(e);else{const C=e.filter(O=>O.name.toLowerCase().includes(i.toLowerCase())||O.role.toLowerCase().includes(i.toLowerCase())||O.site.toLowerCase().includes(i.toLowerCase()));s(C)}},[i,e]);const S=async()=>{try{console.log(" Loading entity staff...");const{data:C,error:O}=await O2();if(O){console.error("Error loading entity staff:",O),t([]);return}t(C||[]),(!C||C.length===0)&&(console.log(" No entity staff found, initializing sample data..."),t([{id:1,name:"Sarah Johnson",role:"Site Manager",type:"Operations Management",site:"Downtown Office",department:"Facilities",status:"Active",compliance:98,certifications:["Security Management","First Aid","CPR"]},{id:2,name:"Mike Chen",role:"Facility Coordinator",type:"Supervisor",site:"Warehouse Complex",department:"Operations",status:"Active",compliance:95,certifications:["Safety Training","Equipment Operation"]},{id:3,name:"Lisa Rodriguez",role:"Maintenance Specialist",type:"Consultant",site:"Manufacturing Plant",department:"Maintenance",status:"Active",compliance:92,certifications:["Technical Certification","Safety Protocols"]}]))}catch(C){console.error("Error loading entity staff:",C),j({title:"Error",description:"Failed to load entity staff. Please try again.",variant:"destructive"})}},E=async()=>{try{const{data:C,error:O}=await GI();O||g(C)}catch(C){console.error("Error loading stats:",C)}},N=async()=>{try{const{data:C,error:O}=await $2();O||x(C)}catch(C){console.error("Error loading background stats:",C)}},_=async()=>{try{const{data:C,error:O}=await M2();O||p(C)}catch(C){console.error("Error loading onboarding stats:",C)}},R=()=>{h(null),l(!0),d(!1)},A=C=>{h(C),d(!0),l(!1)},B=C=>{t(O=>O.map(P=>P.id===C.id?C:P)),d(!1),h(null)},k=C=>{t(O=>[C,...O]),l(!1)};m.useEffect(()=>{const O=[{type:"Operations Management",icon:ts,description:"Senior management roles with oversight responsibilities"},{type:"Supervisor",icon:Nc,description:"Direct supervision and team leadership positions"},{type:"Consultant",icon:ld,description:"Specialized advisory and support roles"},{type:"Dual-Role Hybrid",icon:jc,description:"Multi-functional positions with diverse responsibilities"}].map(P=>({...P,count:e.filter(M=>M.type===P.type).length}));b(O)},[e]),m.useEffect(()=>{E(),N(),_()},[]);const L="grid w-full grid-cols-3 bg-slate-800/50 p-1 rounded-lg",D="data-[state=active]:bg-slate-700 data-[state=active]:text-white text-gray-400 rounded-md px-3 py-2 text-sm font-medium transition-all",T="bg-slate-700 text-white";return o?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(qp,{employee:u,onSave:k,onUpdate:B,onCancel:()=>l(!1)})})}):c&&u?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(D2,{employee:u,onEdit:()=>{d(!1),l(!0)},onClose:()=>{d(!1),h(null)},onUpdate:B})})}):r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Re,{className:"w-8 h-8 mr-3 text-blue-400"}),"Entity Staff Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage entity-specific personnel, track performance, and monitor compliance."})]}),r.jsxs($,{onClick:R,className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(c1,{className:"w-4 h-4 mr-2"}),"Add New Entity Staff"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsx(H,{className:"ios-card",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Entity Staff"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),r.jsx(Re,{className:"w-8 h-8 text-blue-400"})]})})})}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsx(H,{className:"ios-card",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Staff"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.filter(C=>C.status==="Active").length})]}),r.jsx(tt,{className:"w-8 h-8 text-green-400"})]})})})}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(H,{className:"ios-card",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Compliance"}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[e.length>0?Math.round(e.reduce((C,O)=>C+O.compliance,0)/e.length):0,"%"]})]}),r.jsx(Zn,{className:"w-8 h-8 text-yellow-400"})]})})})}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsx(H,{className:"ios-card",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Pending Reviews"}),r.jsx("p",{className:"text-2xl font-bold text-orange-400",children:e.filter(C=>C.compliance<90).length})]}),r.jsx(dt,{className:"w-8 h-8 text-orange-400"})]})})})})]}),r.jsxs(Zt,{defaultValue:"entity-staff",className:"space-y-6",children:[r.jsxs(Bt,{className:`${L} border-b border-slate-700`,children:[r.jsx(ne,{value:"entity-staff",className:`${D} ${T}`,children:"Entity Staff"}),r.jsx(ne,{value:"types",className:`${D} ${T}`,children:"Staff Types"}),r.jsx(ne,{value:"background",className:`${D} ${T}`,children:"Background Checks"})]}),r.jsx(ie,{value:"entity-staff",className:"space-y-6",children:r.jsx(H,{className:"ios-card",children:r.jsxs(U,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-blue-400"}),r.jsxs("span",{children:["Active Entity Staff (",n.length,")"]})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search entity staff...",value:i,onChange:C=>a(C.target.value),className:"pl-10 bg-slate-700/50 border-slate-600 text-white w-full sm:w-80"})]})]}),e.length===0?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(lt,{className:"w-8 h-8 animate-spin text-blue-400"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading entity staff..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Re,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-2",children:i?"No entity staff found matching your search.":"No entity staff found."}),!i&&r.jsxs($,{onClick:R,className:"mt-4",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add First Entity Staff"]})]}):r.jsx("div",{className:"space-y-4",children:n.map(C=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors cursor-pointer",onClick:()=>A(C),children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold text-lg",children:C.name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.type==="Operations Management"?"bg-purple-500/20 text-purple-400":C.type==="Supervisor"?"bg-blue-500/20 text-blue-400":C.type==="Consultant"?"bg-green-500/20 text-green-400":C.type==="Dual-Role Hybrid"?"bg-orange-500/20 text-orange-400":"bg-gray-500/20 text-gray-400"}`,children:C.type}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${C.compliance>=95?"bg-green-500":C.compliance>=85?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("span",{className:"text-xs text-gray-400",children:[C.compliance,"% Compliant"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsx("span",{children:C.role}),r.jsx("span",{children:""}),r.jsx("span",{children:C.site}),C.department&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:C.department})]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[Array.isArray(C.certifications)?C.certifications.length:0," Certs"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`text-sm font-medium ${C.status==="Active"?"text-green-400":"text-red-400"}`,children:C.status}),r.jsx($,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),A(C)},className:"ios-button border-slate-600 hover:bg-slate-700",children:"View Profile"})]})]})},C.id))})]})})}),r.jsx(ie,{value:"types",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsx(G,{className:"text-white",children:"Entity Staff Role Definitions"}),r.jsx(ae,{className:"text-gray-400",children:"Overview of different entity staff types and their requirements."})]}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((C,O)=>r.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:O*.05},children:r.jsxs(H,{className:"ios-card h-full hover-lift",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(C.icon,{className:"w-6 h-6 text-blue-400"}),r.jsx("span",{className:"text-lg",children:C.type})]}),r.jsx("span",{className:"text-2xl font-bold text-blue-400",children:C.count})]})}),r.jsxs(U,{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-3 h-12 overflow-hidden",children:C.description}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Active"}),r.jsx("span",{className:"text-green-400 font-medium",children:e.filter(P=>P.type===C.type&&P.status==="Active").length})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Avg Compliance"}),r.jsxs("span",{className:"text-yellow-400 font-medium",children:[(()=>{const P=e.filter(M=>M.type===C.type);return P.length>0?Math.round(P.reduce((M,F)=>M+F.compliance,0)/P.length):0})(),"%"]})]})]})]})]})},C.type))})})]})}),r.jsx(ie,{value:"background",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(ts,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Background Checks"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Completed"}),r.jsx("span",{className:"text-green-400 font-semibold",children:y?y.completed:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Pending"}),r.jsx("span",{className:"text-yellow-400 font-semibold",children:y?y.pending:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Failed"}),r.jsx("span",{className:"text-red-400 font-semibold",children:y?y.failed:"..."})]}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Total Entity Staff: ",y?y.totalEmployees:"..."]}),r.jsx($,{variant:"outline",className:"w-full mt-4 glass-button",onClick:()=>j({title:" Feature Not Implemented"}),children:"Manage Credentials"})]})})]}),r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(zi,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Onboarding"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"In Progress"}),r.jsx("span",{className:"text-blue-400 font-semibold",children:w?w.inProgress:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Completed"}),r.jsx("span",{className:"text-green-400 font-semibold",children:w?w.completed:"..."})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Overdue"}),r.jsx("span",{className:"text-red-400 font-semibold",children:w?w.overdue:"..."})]}),r.jsx($,{variant:"outline",className:"w-full mt-4 glass-button",onClick:()=>j({title:" Feature Not Implemented"}),children:"View Onboarding"})]})})]}),r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(jc,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Performance"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"High Performers"}),r.jsx("span",{className:"text-green-400 font-semibold",children:e.filter(C=>C.compliance>=95).length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Needs Improvement"}),r.jsx("span",{className:"text-yellow-400 font-semibold",children:e.filter(C=>C.compliance<90&&C.compliance>=80).length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Critical"}),r.jsx("span",{className:"text-red-400 font-semibold",children:e.filter(C=>C.compliance<80).length})]}),r.jsx($,{variant:"outline",className:"w-full mt-4 glass-button",onClick:()=>j({title:" Feature Not Implemented"}),children:"View Reports"})]})})]})]})})]})]})})},XI={"General Security":{description:"Basic security services for various environments",requirements:["Security License","Background Check","Basic Training"],icon:"Shield"},"Event Security":{description:"Specialized security for events and gatherings",requirements:["Event Security Certification","Crowd Management Training","Emergency Response"],icon:"Users"},"Corporate Security":{description:"High-level security for corporate environments",requirements:["Corporate Security Certification","Access Control Training","Executive Protection"],icon:"Building"},"Healthcare Security":{description:"Specialized security for healthcare facilities",requirements:["Healthcare Security Certification","HIPAA Training","Medical Emergency Response"],icon:"Heart"},"Retail Security":{description:"Loss prevention and retail security services",requirements:["Retail Security Certification","Loss Prevention Training","Customer Service"],icon:"ShoppingBag"},"Industrial Security":{description:"Security for industrial and manufacturing facilities",requirements:["Industrial Security Certification","Safety Training","Hazmat Awareness"],icon:"Factory"}},ZI=async e=>{try{const{data:t,error:n}=await z.from("subcontractor_profiles").insert([e]).select().single();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Error creating subcontractor:",t),{data:null,error:t}}},e6=async()=>{try{const{data:e,error:t}=await z.from("subcontractor_profiles").select(`
        *,
        sites_assigned:subcontractor_sites(count)
      `).order("created_at",{ascending:!1});if(t){if(t.code==="42501")return console.error("RLS Policy Error: User not authenticated or missing permissions"),{data:null,error:{message:"Authentication required. Please log in or contact administrator to disable RLS for development."}};throw t}return{data:e,error:null}}catch(e){return console.error("Error fetching subcontractors:",e),{data:null,error:e}}},t6=async(e,t)=>{try{const{data:n,error:s}=await z.from("subcontractor_profiles").update(t).eq("id",e).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return console.error("Error updating subcontractor:",n),{data:null,error:n}}},n6=async()=>{try{const{data:e,error:t}=await z.from("subcontractor_profiles").select("status, vetting_status, performance_rating");if(t)throw t;const n={total:e.length,byStatus:{},byVettingStatus:{},averagePerformance:0,topPerformers:0};e.forEach(i=>{n.byStatus[i.status]=(n.byStatus[i.status]||0)+1,n.byVettingStatus[i.vetting_status]=(n.byVettingStatus[i.vetting_status]||0)+1});const s=e.filter(i=>i.performance_rating>0);return s.length>0&&(n.averagePerformance=s.reduce((i,a)=>i+a.performance_rating,0)/s.length,n.topPerformers=s.filter(i=>i.performance_rating>=4).length),{data:n,error:null}}catch(e){return console.error("Error fetching subcontractor stats:",e),{data:null,error:e}}},s6=({subcontractor:e=null,onClose:t,onSuccess:n})=>{const[s,i]=m.useState({company_name:"",contact_person:"",contact_email:"",contact_phone:"",service_specialization:"",status:"Active",vetting_status:"Pending",hourly_rate:"",max_workers:"",current_workers:"",performance_rating:"",contract_start_date:new Date().toISOString().split("T")[0],contract_end_date:"",notes:"",address:{street:"",city:"",state:"",zip:""},insurance_coverage:{general_liability:"",workers_comp:"",professional_liability:""},certifications:""}),[a,o]=m.useState(!1),{toast:l}=oe(),c=!!e;m.useEffect(()=>{var y,x,w,p;e&&i({company_name:e.company_name||"",contact_person:e.contact_person||"",contact_email:e.contact_email||"",contact_phone:e.contact_phone||"",service_specialization:e.service_specialization||"",status:e.status||"Active",vetting_status:e.vetting_status||"Pending",hourly_rate:((y=e.hourly_rate)==null?void 0:y.toString())||"",max_workers:((x=e.max_workers)==null?void 0:x.toString())||"",current_workers:((w=e.current_workers)==null?void 0:w.toString())||"",performance_rating:((p=e.performance_rating)==null?void 0:p.toString())||"",contract_start_date:e.contract_start_date||new Date().toISOString().split("T")[0],contract_end_date:e.contract_end_date||"",notes:e.notes||"",address:e.address||{street:"",city:"",state:"",zip:""},insurance_coverage:e.insurance_coverage||{general_liability:"",workers_comp:"",professional_liability:""},certifications:Array.isArray(e.certifications)?e.certifications.join(", "):e.certifications||""})},[e]);const d=(y,x)=>{i(w=>({...w,[y]:x}))},u=(y,x)=>{i(w=>({...w,address:{...w.address,[y]:x}}))},h=(y,x)=>{i(w=>({...w,insurance_coverage:{...w.insurance_coverage,[y]:x}}))},f=async y=>{y.preventDefault(),o(!0);try{const x={...s,hourly_rate:parseFloat(s.hourly_rate)||0,max_workers:parseInt(s.max_workers)||0,current_workers:parseInt(s.current_workers)||0,performance_rating:parseFloat(s.performance_rating)||0,certifications:s.certifications.split(",").map(p=>p.trim()).filter(p=>p.length>0),insurance_coverage:{general_liability:parseInt(s.insurance_coverage.general_liability)||0,workers_comp:parseInt(s.insurance_coverage.workers_comp)||0,professional_liability:parseInt(s.insurance_coverage.professional_liability)||0}};let w;if(c?w=await t6(e.id,x):w=await ZI(x),w.error)throw w.error;l({title:c?"Subcontractor Updated":"Subcontractor Added",description:`${s.company_name} has been ${c?"updated":"added"} successfully.`,variant:"default"}),n==null||n(w.data),t()}catch(x){console.error("Error saving subcontractor:",x),l({title:"Error",description:x.message||"Failed to save subcontractor. Please try again.",variant:"destructive"})}finally{o(!1)}},g=Object.keys(XI);return r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[c?r.jsx(Nn,{className:"w-5 h-5 text-blue-400"}):r.jsx(ld,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:c?"Edit Subcontractor":"Add New Subcontractor"})]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Company Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"company_name",className:"text-white",children:"Company Name"}),r.jsx(X,{id:"company_name",value:s.company_name,onChange:y=>d("company_name",y.target.value),placeholder:"Enter company name",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"service_specialization",className:"text-white",children:"Service Specialization"}),r.jsxs(_e,{value:s.service_specialization,onValueChange:y=>d("service_specialization",y),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:"Select specialization"})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:g.map(y=>r.jsx(Z,{value:y,className:"text-white",children:y},y))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"status",className:"text-white",children:"Status"}),r.jsxs(_e,{value:s.status,onValueChange:y=>d("status",y),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{className:"bg-slate-800 border-slate-600",children:[r.jsx(Z,{value:"Active",className:"text-white",children:"Active"}),r.jsx(Z,{value:"Inactive",className:"text-white",children:"Inactive"}),r.jsx(Z,{value:"Pending Review",className:"text-white",children:"Pending Review"}),r.jsx(Z,{value:"Suspended",className:"text-white",children:"Suspended"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"vetting_status",className:"text-white",children:"Vetting Status"}),r.jsxs(_e,{value:s.vetting_status,onValueChange:y=>d("vetting_status",y),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{className:"bg-slate-800 border-slate-600",children:[r.jsx(Z,{value:"Pending",className:"text-white",children:"Pending"}),r.jsx(Z,{value:"In Progress",className:"text-white",children:"In Progress"}),r.jsx(Z,{value:"Approved",className:"text-white",children:"Approved"}),r.jsx(Z,{value:"Rejected",className:"text-white",children:"Rejected"}),r.jsx(Z,{value:"Under Review",className:"text-white",children:"Under Review"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"contact_person",className:"text-white",children:"Contact Person"}),r.jsx(X,{id:"contact_person",value:s.contact_person,onChange:y=>d("contact_person",y.target.value),placeholder:"Enter contact person name",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"contact_email",className:"text-white",children:"Email"}),r.jsx(X,{id:"contact_email",type:"email",value:s.contact_email,onChange:y=>d("contact_email",y.target.value),placeholder:"contact@company.com",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"contact_phone",className:"text-white",children:"Phone"}),r.jsx(X,{id:"contact_phone",value:s.contact_phone,onChange:y=>d("contact_phone",y.target.value),placeholder:"(555) 123-4567",className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Address Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"street",className:"text-white",children:"Street Address"}),r.jsx(X,{id:"street",value:s.address.street,onChange:y=>u("street",y.target.value),placeholder:"123 Business Ave",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"city",className:"text-white",children:"City"}),r.jsx(X,{id:"city",value:s.address.city,onChange:y=>u("city",y.target.value),placeholder:"New York",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"state",className:"text-white",children:"State"}),r.jsx(X,{id:"state",value:s.address.state,onChange:y=>u("state",y.target.value),placeholder:"NY",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"zip",className:"text-white",children:"ZIP Code"}),r.jsx(X,{id:"zip",value:s.address.zip,onChange:y=>u("zip",y.target.value),placeholder:"10001",className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Contract & Performance"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"hourly_rate",className:"text-white",children:"Hourly Rate ($)"}),r.jsx(X,{id:"hourly_rate",type:"number",step:"0.01",value:s.hourly_rate,onChange:y=>d("hourly_rate",y.target.value),placeholder:"35.00",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"max_workers",className:"text-white",children:"Max Workers"}),r.jsx(X,{id:"max_workers",type:"number",value:s.max_workers,onChange:y=>d("max_workers",y.target.value),placeholder:"25",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"current_workers",className:"text-white",children:"Current Workers"}),r.jsx(X,{id:"current_workers",type:"number",value:s.current_workers,onChange:y=>d("current_workers",y.target.value),placeholder:"18",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"performance_rating",className:"text-white",children:"Performance Rating (0-5)"}),r.jsx(X,{id:"performance_rating",type:"number",step:"0.1",min:"0",max:"5",value:s.performance_rating,onChange:y=>d("performance_rating",y.target.value),placeholder:"4.5",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"contract_start_date",className:"text-white",children:"Contract Start Date"}),r.jsx(X,{id:"contract_start_date",type:"date",value:s.contract_start_date,onChange:y=>d("contract_start_date",y.target.value),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"contract_end_date",className:"text-white",children:"Contract End Date"}),r.jsx(X,{id:"contract_end_date",type:"date",value:s.contract_end_date,onChange:y=>d("contract_end_date",y.target.value),className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Insurance Coverage ($)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"general_liability",className:"text-white",children:"General Liability"}),r.jsx(X,{id:"general_liability",type:"number",value:s.insurance_coverage.general_liability,onChange:y=>h("general_liability",y.target.value),placeholder:"2000000",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"workers_comp",className:"text-white",children:"Workers Compensation"}),r.jsx(X,{id:"workers_comp",type:"number",value:s.insurance_coverage.workers_comp,onChange:y=>h("workers_comp",y.target.value),placeholder:"1000000",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"professional_liability",className:"text-white",children:"Professional Liability"}),r.jsx(X,{id:"professional_liability",type:"number",value:s.insurance_coverage.professional_liability,onChange:y=>h("professional_liability",y.target.value),placeholder:"500000",className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Additional Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"certifications",className:"text-white",children:"Certifications"}),r.jsx(Ct,{id:"certifications",value:s.certifications,onChange:y=>d("certifications",y.target.value),placeholder:"Security License, First Aid, Firearms (comma-separated)",className:"bg-slate-700/50 border-slate-600 text-white min-h-[80px]"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Enter certifications separated by commas"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"notes",className:"text-white",children:"Notes"}),r.jsx(Ct,{id:"notes",value:s.notes,onChange:y=>d("notes",y.target.value),placeholder:"Additional notes about the subcontractor...",className:"bg-slate-700/50 border-slate-600 text-white min-h-[80px]"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:a?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsxs("span",{children:[c?"Update":"Save"," Subcontractor"]})]})})]})]})})]})})})})},r6=()=>{const[e,t]=m.useState(""),[n,s]=m.useState([]),[i,a]=m.useState(null),[o,l]=m.useState(!0),[c,d]=m.useState(!0),[u,h]=m.useState(!1),[f,g]=m.useState(null),{toast:y}=oe();m.useEffect(()=>{x(),w()},[]);const x=async()=>{l(!0);const{data:N,error:_}=await e6();if(_)console.error("Error fetching subcontractors:",_),y({variant:"destructive",title:"Error",description:_.message||"Could not fetch subcontractors."}),s([]);else{const R=N.map(A=>{var B,k;return{...A,sites_count:((k=(B=A.sites_assigned)==null?void 0:B[0])==null?void 0:k.count)||0}});s(R)}l(!1)},w=async()=>{d(!0);const{data:N,error:_}=await n6();_?console.error("Error fetching stats:",_):a(N),d(!1)},p=()=>{g(null),h(!0)},v=N=>{g(N),h(!0)},b=n.filter(N=>N.company_name.toLowerCase().includes(e.toLowerCase())||N.contact_person&&N.contact_person.toLowerCase().includes(e.toLowerCase())||N.service_specialization&&N.service_specialization.toLowerCase().includes(e.toLowerCase())),j="bg-transparent p-0 space-x-1",S="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",E="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(gi,{className:"w-8 h-8 mr-3 text-blue-400"}),"Subcontractor Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Oversee and manage third-party security service providers."})]}),r.jsxs($,{onClick:p,className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add Subcontractor"]})]}),r.jsxs(Zt,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(Bt,{className:`${j} border-b border-slate-700`,children:[r.jsx(ne,{value:"overview",className:`${S} ${E}`,children:"Overview"}),r.jsx(ne,{value:"performance",className:`${S} ${E}`,children:"Performance"}),r.jsx(ne,{value:"compliance",className:`${S} ${E}`,children:"Compliance"}),r.jsx(ne,{value:"access",className:`${S} ${E}`,children:"Data Access"})]}),r.jsx(ie,{value:"overview",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(gi,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Subcontractor Companies"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[r.jsxs($,{variant:"outline",size:"sm",className:"glass-button text-xs",children:[r.jsx(t1,{className:"w-3.5 h-3.5 mr-1.5"})," Filter by Status"]}),r.jsxs("div",{className:"relative",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search subcontractors...",value:e,onChange:N=>t(N.target.value),className:"pl-10 w-full sm:w-64 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Directory of all subcontracted security providers."})]}),r.jsx(U,{children:o?r.jsxs("div",{className:"flex justify-center items-center h-40",children:[r.jsx(Re,{className:"w-8 h-8 text-blue-400 animate-spin"}),r.jsx("p",{className:"ml-2 text-white",children:"Loading subcontractors..."})]}):b.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(gi,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 opacity-70"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Subcontractors Found"}),r.jsx("p",{className:"text-gray-400",children:"Try adjusting your search or add a new subcontractor."})]}):r.jsx("div",{className:"space-y-4",children:b.map(N=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-1.5",children:[r.jsx("h3",{className:"text-white font-semibold text-lg",children:N.company_name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N.status==="Active"?"bg-green-500/20 text-green-400":N.status==="Pending Review"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:N.status||"N/A"}),N.vetting_status&&r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N.vetting_status==="Approved"?"bg-blue-500/20 text-blue-400":N.vetting_status==="In Progress"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:N.vetting_status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Re,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:N.contact_person||"N/A"})]}),r.jsx("span",{children:""}),r.jsx("span",{children:N.service_specialization||"General Security"}),r.jsx("span",{children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ld,{className:"w-3.5 h-3.5"}),r.jsxs("span",{children:[N.sites_count," Sites Assigned"]})]}),N.performance_rating>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ho,{className:"w-3.5 h-3.5 text-yellow-400"}),r.jsxs("span",{children:[N.performance_rating.toFixed(1)," Rating"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-gray-500 mt-1",children:[N.contact_email&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(n1,{className:"w-3 h-3"}),r.jsx("span",{children:N.contact_email})]}),N.contact_phone&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Jm,{className:"w-3 h-3"}),r.jsx("span",{children:N.contact_phone})]}),N.address&&N.address.city&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(es,{className:"w-3 h-3"}),r.jsxs("span",{children:[N.address.city,", ",N.address.state]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx($,{variant:"outline",size:"sm",onClick:()=>v(N),className:"ios-button border-slate-600 hover:bg-slate-700",children:"View Details"})})]})},N.id))})})]})}),r.jsx(ie,{value:"performance",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Zn,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Subcontractor Performance Metrics"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Track KPIs and operational effectiveness of subcontractors."})]}),r.jsx(U,{children:r.jsxs("div",{className:"text-center py-12 min-h-[300px] flex flex-col items-center justify-center",children:[r.jsx(Zn,{className:"w-16 h-16 text-gray-500 mx-auto mb-4 opacity-70"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Performance Data Coming Soon"}),r.jsx("p",{className:"text-gray-400",children:"Detailed performance dashboards for each subcontractor will be available here."}),r.jsx($,{className:"mt-4 ios-button bg-purple-600 hover:bg-purple-700",onClick:()=>y({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:"Request Performance Metrics"})]})})]})}),r.jsx(ie,{value:"compliance",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(xi,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Compliance & Vetting Status"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Ensure all subcontractors meet required compliance standards."})]}),r.jsxs(U,{children:[c?r.jsxs("div",{className:"flex justify-center items-center h-40",children:[r.jsx(xi,{className:"w-8 h-8 text-green-400 animate-spin"}),r.jsx("p",{className:"ml-2 text-white",children:"Loading compliance data..."})]}):i?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-6 rounded-lg bg-green-500/10 border border-green-500/30 text-center",children:[r.jsx(tt,{className:"w-10 h-10 text-green-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Fully Vetted"}),r.jsx("p",{className:"text-3xl font-bold text-green-400 mt-1",children:i.byVettingStatus.Approved||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Subcontractors"})]}),r.jsxs("div",{className:"p-6 rounded-lg bg-yellow-500/10 border border-yellow-500/30 text-center",children:[r.jsx(dt,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Pending Review"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-400 mt-1",children:i.byVettingStatus["In Progress"]||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Subcontractors"})]}),r.jsxs("div",{className:"p-6 rounded-lg bg-blue-500/10 border border-blue-500/30 text-center",children:[r.jsx(ho,{className:"w-10 h-10 text-blue-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Top Performers"}),r.jsx("p",{className:"text-3xl font-bold text-blue-400 mt-1",children:i.topPerformers||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"4.0+ Rating"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(xi,{className:"w-12 h-12 text-gray-500 mx-auto mb-4 opacity-70"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Compliance Data"}),r.jsx("p",{className:"text-gray-400",children:"Compliance statistics will appear here once data is available."})]}),r.jsx($,{variant:"outline",className:"w-full mt-6 glass-button",onClick:()=>y({title:" Feature Not Implemented"}),children:"View Full Compliance Dashboard"})]})]})}),r.jsx(ie,{value:"access",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Client & Subcontractor Data Access Control"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Define data visibility and sharing permissions."})]}),r.jsx(U,{children:r.jsxs("div",{className:"text-center py-12 min-h-[300px] flex flex-col items-center justify-center",children:[r.jsx(Re,{className:"w-16 h-16 text-gray-500 mx-auto mb-4 opacity-70"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Granular Data Access Configuration"}),r.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Set specific rules for what data clients can see regarding subcontractor operations and performance. (Coming Soon)"}),r.jsx($,{className:"mt-4 ios-button bg-yellow-600 hover:bg-yellow-700",onClick:()=>y({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:"Configure Access Rules"})]})})]})})]}),u&&r.jsx(s6,{subcontractor:f,onClose:()=>{h(!1),g(null)},onSuccess:N=>{s(f?_=>_.map(R=>R.id===N.id?N:R):_=>[N,..._]),w()}})]})},i6=async()=>{try{const{data:e,error:t}=await z.from("training_courses").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}catch(e){throw console.error("Error fetching training courses:",e),e}},a6=async e=>{try{const{data:t,error:n}=await z.from("training_courses").insert([e]).select().single();if(n)throw n;return t}catch(t){throw console.error("Error creating training course:",t),t}},o6=async(e,t)=>{try{const{data:n,error:s}=await z.from("training_courses").update(t).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating training course:",n),n}},l6=async e=>{try{const{error:t}=await z.from("training_courses").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){throw console.error("Error deleting training course:",t),t}},c6=async()=>{try{const{data:e,error:t}=await z.from("certificates").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}catch(e){throw console.error("Error fetching certificates:",e),e}},d6=async()=>{try{const{data:e,error:t}=await z.from("training_courses").select("id",{count:"exact"});if(t)throw t;const{data:n,error:s}=await z.from("training_enrollments").select("id",{count:"exact"});if(s)throw s;const{data:i,error:a}=await z.from("training_enrollments").select("id",{count:"exact"}).eq("status","Completed");if(a)throw a;const{data:o,error:l}=await z.from("certificate_issuances").select("id",{count:"exact"});if(l)throw l;return{totalCourses:(e==null?void 0:e.length)||0,totalEnrollments:(n==null?void 0:n.length)||0,completedEnrollments:(i==null?void 0:i.length)||0,totalCertificatesIssued:(o==null?void 0:o.length)||0,completionRate:(n==null?void 0:n.length)>0?((i==null?void 0:i.length)/(n==null?void 0:n.length)*100).toFixed(1):0}}catch(e){throw console.error("Error fetching training stats:",e),e}},u6=async e=>{try{const{data:t,error:n}=await z.from("training_courses").select("*").or(`title.ilike.%${e}%,description.ilike.%${e}%,type.ilike.%${e}%`).order("created_at",{ascending:!1});if(n)throw n;return t}catch(t){throw console.error("Error searching training courses:",t),t}},Py={"Core Training":"Essential training required for all security personnel",Specialized:"Advanced training for specific roles or skills",Management:"Leadership and management training for supervisors",Compliance:"Training required for regulatory compliance",Elective:"Optional training for professional development"},h6=({course:e=null,onClose:t,onSuccess:n})=>{const[s,i]=m.useState({title:"",description:"",type:"",duration_hours:8,status:"Active",created_by:"System Admin"}),[a,o]=m.useState(!1),{toast:l}=oe(),c=!!e;m.useEffect(()=>{e&&i({title:e.title||"",description:e.description||"",type:e.type||"",duration_hours:e.duration_hours||8,status:e.status||"Active",created_by:e.created_by||"System Admin"})},[e]);const d=(f,g)=>{i(y=>({...y,[f]:g}))},u=async f=>{f.preventDefault(),o(!0);try{let g;if(c?g=await o6(e.id,s):g=await a6(s),g.error)throw g.error;l({title:c?"Course Updated":"Course Created",description:`${s.title} has been ${c?"updated":"created"} successfully.`,variant:"default"}),n==null||n(g),t()}catch(g){console.error("Error saving course:",g),l({title:"Error",description:g.message||"Failed to save course. Please try again.",variant:"destructive"})}finally{o(!1)}},h=Object.keys(Py);return r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[c?r.jsx(Nn,{className:"w-5 h-5 text-blue-400"}):r.jsx(xn,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:c?"Edit Course":"Create New Course"})]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"title",className:"text-white",children:"Course Title"}),r.jsx(X,{id:"title",value:s.title,onChange:f=>d("title",f.target.value),placeholder:"Enter course title",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"description",className:"text-white",children:"Description"}),r.jsx(Ct,{id:"description",value:s.description,onChange:f=>d("description",f.target.value),placeholder:"Enter detailed course description",className:"bg-slate-700/50 border-slate-600 text-white min-h-[100px]",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"type",className:"text-white",children:"Course Type"}),r.jsxs(_e,{value:s.type,onValueChange:f=>d("type",f),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:"Select course type"})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:h.map(f=>r.jsx(Z,{value:f,className:"text-white",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:f}),r.jsx("span",{className:"text-xs text-gray-400",children:Py[f]})]})},f))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"duration_hours",className:"text-white",children:"Duration (Hours)"}),r.jsx(X,{id:"duration_hours",type:"number",min:"1",max:"200",value:s.duration_hours,onChange:f=>d("duration_hours",parseInt(f.target.value)||1),className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"status",className:"text-white",children:"Status"}),r.jsxs(_e,{value:s.status,onValueChange:f=>d("status",f),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{className:"bg-slate-800 border-slate-600",children:[r.jsx(Z,{value:"Active",className:"text-white",children:"Active"}),r.jsx(Z,{value:"Inactive",className:"text-white",children:"Inactive"}),r.jsx(Z,{value:"Draft",className:"text-white",children:"Draft"}),r.jsx(Z,{value:"Archived",className:"text-white",children:"Archived"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"created_by",className:"text-white",children:"Created By"}),r.jsx(X,{id:"created_by",value:s.created_by,onChange:f=>d("created_by",f.target.value),placeholder:"System Admin",className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:a?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsxs("span",{children:[c?"Update":"Create"," Course"]})]})})]})]})})]})})})})},f6=()=>{const[e,t]=m.useState(""),[n,s]=m.useState([]),[i,a]=m.useState([]),[o,l]=m.useState({}),[c,d]=m.useState(!0),[u,h]=m.useState(!1),[f,g]=m.useState(!1),[y,x]=m.useState(null),{toast:w}=oe();m.useEffect(()=>{p()},[]);const p=async()=>{try{d(!0);const[A,B,k]=await Promise.all([i6(),c6(),d6()]);s(A||[]),a(B||[]),l(k||{})}catch(A){console.error("Error loading training data:",A),w({title:"Error loading training data",description:"Please try again later.",variant:"destructive"})}finally{d(!1)}},v=async A=>{if(t(A),A.trim()){h(!0);try{const B=await u6(A);s(B||[])}catch(B){console.error("Error searching courses:",B),w({title:"Error searching courses",description:"Please try again.",variant:"destructive"})}finally{h(!1)}}else p()},b=()=>{x(null),g(!0)},j=A=>{x(A),g(!0)},S=()=>{p()},E=()=>{g(!1),x(null)},N=async A=>{if(confirm(`Are you sure you want to delete "${A.title}"? This action cannot be undone.`))try{await l6(A.id),w({title:"Course Deleted",description:`${A.title} has been deleted successfully.`,variant:"default"}),p()}catch(B){console.error("Error deleting course:",B),w({title:"Error",description:"Failed to delete course. Please try again.",variant:"destructive"})}},_=()=>{w({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},R=()=>{w({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Training & Certification"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Create, manage, and deliver comprehensive training programs"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs($,{onClick:b,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Create Course"]}),r.jsxs($,{onClick:_,variant:"outline",className:"border-white/20",children:[r.jsx(gu,{className:"w-4 h-4 mr-2"}),"Upload Template"]})]})]}),r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(H,{className:"bg-blue-500/10 border-blue-500/20",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xn,{className:"w-8 h-8 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Courses"}),r.jsx("p",{className:"text-white text-2xl font-bold",children:o.totalCourses||0})]})]})})}),r.jsx(H,{className:"bg-green-500/10 border-green-500/20",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{className:"w-8 h-8 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Enrollments"}),r.jsx("p",{className:"text-white text-2xl font-bold",children:o.totalEnrollments||0})]})]})})}),r.jsx(H,{className:"bg-purple-500/10 border-purple-500/20",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wr,{className:"w-8 h-8 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Completed"}),r.jsx("p",{className:"text-white text-2xl font-bold",children:o.completedEnrollments||0})]})]})})}),r.jsx(H,{className:"bg-yellow-500/10 border-yellow-500/20",children:r.jsx(U,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(et,{className:"w-8 h-8 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Completion Rate"}),r.jsxs("p",{className:"text-white text-2xl font-bold",children:[o.completionRate||0,"%"]})]})]})})})]}),r.jsxs(Zt,{defaultValue:"courses",className:"space-y-6",children:[r.jsxs(Bt,{className:"bg-white/10 border border-white/20",children:[r.jsx(ne,{value:"courses",children:"Training Courses"}),r.jsx(ne,{value:"certificates",children:"Certificates"}),r.jsx(ne,{value:"content",children:"Content Creator"}),r.jsx(ne,{value:"delivery",children:"Training Delivery"})]}),r.jsx(ie,{value:"courses",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(xn,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Active Training Programs"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search courses...",value:e,onChange:A=>v(A.target.value),className:"pl-10 w-80 bg-white/5 border-white/10"}),u&&r.jsx(lt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 animate-spin"})]})]})}),r.jsx(U,{children:c?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(lt,{className:"w-6 h-6 text-blue-400 animate-spin mr-2"}),r.jsx("span",{className:"text-gray-400",children:"Loading training courses..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(xn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-white font-medium mb-2",children:"No courses found"}),r.jsx("p",{className:"text-gray-400 text-sm",children:e?"No courses match your search criteria.":"No training courses available yet."})]}):r.jsx("div",{className:"space-y-4",children:n.map(A=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:A.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.type==="Core Training"?"bg-blue-500/20 text-blue-400":A.type==="Specialized"?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"}`,children:A.type})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["Duration: ",A.duration_hours," hours"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Status: ",A.status]})]}),A.description&&r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:A.description})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`text-sm ${A.status==="Active"?"text-green-400":"text-gray-400"}`,children:A.status}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:()=>j(A),className:"border-white/20 hover:bg-white/10",children:"Edit"}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>N(A),className:"border-red-500/20 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:r.jsx(l1,{className:"w-4 h-4"})})]})]})]})},A.id))})})]})}),r.jsxs(ie,{value:"certificates",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Certificate Management"}),r.jsxs($,{onClick:R,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Certificate Builder"]})]}),c?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(lt,{className:"w-6 h-6 text-blue-400 animate-spin mr-2"}),r.jsx("span",{className:"text-gray-400",children:"Loading certificates..."})]}):i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-white font-medium mb-2",children:"No certificates found"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"No certificates available yet."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((A,B)=>r.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:B*.1},children:r.jsxs(H,{className:"hover:scale-105 transition-transform duration-200",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(Wr,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"text-lg",children:A.name})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Template"}),r.jsx("span",{className:"text-white text-sm",children:A.template_name})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Valid For"}),r.jsxs("span",{className:"text-white text-sm",children:[A.validity_months," months"]})]}),A.description&&r.jsx("div",{className:"text-gray-400 text-sm mt-2",children:A.description}),r.jsx($,{className:"w-full mt-4",variant:"outline",onClick:()=>w({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:"Customize Template"})]})})]})},A.id))}),r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(gu,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Drag & Drop Certificate Builder"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-8 text-center",children:[r.jsx(gu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-white font-medium mb-2",children:"Upload PDF Background"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Upload a PDF template and use our drag-and-drop editor to create custom certificates"}),r.jsx($,{onClick:_,className:"bg-green-600 hover:bg-green-700",children:"Choose PDF File"})]})})]})]}),r.jsx(ie,{value:"content",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Dynamic Content Creator & Manager"})]})}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Create Course",icon:xn,color:"blue"},{title:"Build Lesson",icon:et,color:"green"},{title:"Design Program",icon:Wr,color:"purple"},{title:"Manage Content",icon:Nn,color:"yellow"}].map((A,B)=>r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:`p-6 rounded-lg bg-${A.color}-500/10 border border-${A.color}-500/20 hover:bg-${A.color}-500/20 transition-colors cursor-pointer`,onClick:()=>w({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:[r.jsx(A.icon,{className:`w-8 h-8 text-${A.color}-400 mb-3`}),r.jsx("h3",{className:"text-white font-medium",children:A.title}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Create and manage training content"})]},A.title))})})]})}),r.jsx(ie,{value:"delivery",className:"space-y-6",children:r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(i1,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Training Delivery Options"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Internal Training"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:"Employee Training"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Internal staff and security personnel"})]})]})}),r.jsx("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xn,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:"Certification Programs"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Professional development and compliance"})]})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"External Training"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Wr,{className:"w-5 h-5 text-purple-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:"Client Training"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Training services for client organizations"})]})]})}),r.jsx("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(et,{className:"w-5 h-5 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:"Commercial Courses"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Sellable training programs and content"})]})]})})]})]})]})})]})})]}),f&&r.jsx(h6,{course:y,onClose:E,onSuccess:S})]})},m6=()=>{const[e,t]=m.useState(!1),[n,s]=m.useState(0),{toast:i}=oe(),a=[{id:1,title:"Advanced Threat Assessment Techniques",instructor:"Sarah Johnson",participants:23,status:"Live",startTime:"2:00 PM",duration:"2 hours"},{id:2,title:"Emergency Response Protocols Update",instructor:"Mike Rodriguez",participants:0,status:"Scheduled",startTime:"4:00 PM",duration:"1.5 hours"},{id:3,title:"Latest Security Technology Briefing",instructor:"Lisa Chen",participants:0,status:"Scheduled",startTime:"Tomorrow 10:00 AM",duration:"1 hour"}],o=()=>{t(!0),s(Math.floor(Math.random()*30)+5),i({title:"Live Class Started!",description:"Students can now join using the QR code or link."})},l=()=>{t(!1),s(0),i({title:"Class Ended",description:"Recording saved to class library. Attendance logged."})},c=()=>{i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},d=()=>{i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Km,{className:"w-8 h-8 mr-3 text-blue-400"}),"Live Training Classes"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Conduct real-time training sessions with interactive features."})]}),r.jsxs($,{onClick:e?l:o,className:`ios-button mt-4 sm:mt-0 ${e?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[e?r.jsx(bT,{className:"w-4 h-4 mr-2"}):r.jsx(i1,{className:"w-4 h-4 mr-2"}),e?"End Current Class":"Start New Class"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xu,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Live Stream Control Panel"})]}),e&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-red-400 text-sm font-medium",children:"LIVE"})]})]}),r.jsx(ae,{className:"text-gray-400",children:"Manage your ongoing or upcoming live session."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"aspect-video bg-slate-900 rounded-lg border-2 border-slate-700 flex items-center justify-center",children:e?r.jsxs("div",{className:"text-center p-4",children:[r.jsx(xu,{className:"w-16 h-16 text-red-400 mx-auto mb-3"}),r.jsx("p",{className:"text-white font-medium text-lg",children:"Live Stream Active"}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[n," participants connected"]})]}):r.jsxs("div",{className:"text-center p-4",children:[r.jsx(Aa,{className:"w-16 h-16 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"Camera Preview / Waiting Room"}),r.jsx("p",{className:"text-gray-500 text-sm",children:'Click "Start New Class" to begin broadcasting.'})]})}),r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx($,{variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",children:r.jsx(Qm,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",children:r.jsx(Aa,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",onClick:c,children:r.jsx(yT,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",onClick:()=>i({title:" Feature Not Implemented"}),children:r.jsx(Re,{className:"w-4 h-4"})})]})]})})]})}),r.jsxs(V.div,{className:"space-y-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(pT,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Student Access"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"w-36 h-36 bg-white p-2 rounded-lg mx-auto flex items-center justify-center",children:r.jsx("img",{alt:"QR Code for Live Class",className:"w-full h-full",src:"https://images.unsplash.com/photo-1626682561113-d1db402cc866"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Scan to Join Live Class"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Or share direct link: secureops.pro/live/classXYZ"})]}),r.jsx($,{onClick:c,className:"w-full ios-button bg-purple-600 hover:bg-purple-700",children:"Generate New Access Link"})]})})]}),r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Eg,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Interactive Tools"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-2.5",children:[r.jsxs($,{onClick:d,className:"w-full ios-button bg-yellow-600 hover:bg-yellow-700 justify-start",children:[r.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Send Pop Quiz"]}),r.jsxs($,{onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"w-full ios-button bg-blue-600 hover:bg-blue-700 justify-start",children:[r.jsx(s1,{className:"w-4 h-4 mr-2"}),"Open Q&A Session"]})]})})]})]})]}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(xu,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Scheduled & Upcoming Classes"})]}),r.jsx(ae,{className:"text-gray-400",children:"Manage your planned live training sessions."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:a.map(u=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-1.5",children:[r.jsx("h3",{className:"text-white font-semibold",children:u.title}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="Live"?"bg-red-500/20 text-red-400 animate-pulse":"bg-blue-500/20 text-blue-400"}`,children:u.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsxs("span",{children:["Instructor: ",u.instructor]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Start: ",u.startTime]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Duration: ",u.duration]}),u.status==="Live"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{children:[u.participants," participants"]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx($,{variant:"outline",size:"sm",onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"ios-button border-slate-600 hover:bg-slate-700",children:u.status==="Live"?"Join Session":"Manage Class"})})]})},u.id))})})]})})]})},p6=()=>{const[e,t]=m.useState(""),{toast:n}=oe(),s=[{id:1,tagId:"NFC-001-ALPHA",location:"Main Entrance - Building A",site:"Corporate HQ Alpha",status:"Active",lastScan:"2 hours ago",coordinates:{lat:40.7128,lng:-74.006}},{id:2,tagId:"NFC-002-BETA",location:"Emergency Exit - East Wing",site:"Metro Hospital East",status:"Active",lastScan:"45 minutes ago",coordinates:{lat:40.7589,lng:-73.9851}},{id:3,tagId:"NFC-003-GAMMA",location:"Security Checkpoint C",site:"Retail Plaza Central",status:"Inactive",lastScan:"3 days ago",coordinates:{lat:40.7505,lng:-73.9934}}],i=[{id:1,name:"Perimeter Point Alpha (North Gate)",site:"Corporate HQ Alpha",coordinates:{lat:40.7128,lng:-74.006},radius:50,status:"Active",lastCheck:"1 hour ago"},{id:2,name:"Parking Lot Patrol Zone 3",site:"Metro Hospital East",coordinates:{lat:40.7589,lng:-73.9851},radius:100,status:"Active",lastCheck:"30 minutes ago"}],a=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},o=f=>{n({title:"NFC Tag Scanned",description:`Tag ${f} scanned successfully. Location and time logged.`})},l=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},c=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},d="bg-transparent p-0 space-x-1",u="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",h="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Fl,{className:"w-8 h-8 mr-3 text-blue-400"}),"NFC & GPS Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage NFC tags and GPS locations for automated check-ins and patrols."})]}),r.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[r.jsxs($,{onClick:a,className:"ios-button bg-blue-600 hover:bg-blue-700",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add NFC Tag"]}),r.jsxs($,{onClick:l,variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(es,{className:"w-4 h-4 mr-2"}),"Add GPS Location"]})]})]}),r.jsxs(Zt,{defaultValue:"nfc_tags",className:"space-y-6",children:[r.jsxs(Bt,{className:`${d} border-b border-slate-700`,children:[r.jsx(ne,{value:"nfc_tags",className:`${u} ${h}`,children:"NFC Tags"}),r.jsx(ne,{value:"gps_locations",className:`${u} ${h}`,children:"GPS Locations"}),r.jsx(ne,{value:"mobile_scanner",className:`${u} ${h}`,children:"Mobile Scanner"}),r.jsx(ne,{value:"media_attachments",className:`${u} ${h}`,children:"Media Attachments"})]}),r.jsx(ie,{value:"nfc_tags",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(jT,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"NFC Tag Registry"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[r.jsxs($,{variant:"outline",size:"sm",className:"glass-button text-xs",children:[r.jsx(t1,{className:"w-3.5 h-3.5 mr-1.5"})," Filter by Site"]}),r.jsxs("div",{className:"relative",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search NFC tags...",value:e,onChange:f=>t(f.target.value),className:"pl-10 w-full sm:w-64 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Manage all deployed NFC tags for patrol verification."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:s.filter(f=>f.tagId.toLowerCase().includes(e.toLowerCase())||f.location.toLowerCase().includes(e.toLowerCase())).map(f=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-1.5",children:[r.jsx("h3",{className:"text-white font-semibold",children:f.tagId}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f.status==="Active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:f.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(es,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:f.location})]}),r.jsx("span",{children:""}),r.jsx("span",{children:f.site}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Last scan: ",f.lastScan]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs($,{variant:"outline",size:"sm",onClick:()=>o(f.tagId),className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(Fl,{className:"w-4 h-4 mr-1"}),"Log Scan"]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"ios-button border-slate-600 hover:bg-slate-700",children:"Edit"})]})]})},f.id))})})]})}),r.jsx(ie,{value:"gps_locations",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(uT,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:'GPS "Air Tag" Locations'})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Manage geofenced GPS locations for automated check-ins."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:i.map(f=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-1.5",children:[r.jsx("h3",{className:"text-white font-semibold",children:f.name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f.status==="Active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:f.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsx("span",{children:f.site}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Radius: ",f.radius,"m"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Last check: ",f.lastCheck]})]}),r.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Coords: ",f.coordinates.lat.toFixed(4),", ",f.coordinates.lng.toFixed(4)]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs($,{variant:"outline",size:"sm",onClick:()=>n({title:"GPS location marked as visited",description:"Automatic check-in logged for officer."}),className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(tt,{className:"w-4 h-4 mr-1"}),"Manual Check-In"]})})]})},f.id))})})]})}),r.jsx(ie,{value:"mobile_scanner",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(o1,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Mobile NFC Scanner Interface"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Simulated mobile scanner for NFC tag interactions."})]}),r.jsx(U,{children:r.jsxs("div",{className:"text-center space-y-6 p-6 rounded-lg bg-slate-800/40 border border-slate-700",children:[r.jsx("div",{className:"w-48 h-48 mx-auto bg-gradient-to-br from-blue-600/20 to-purple-700/30 rounded-full flex items-center justify-center border-4 border-blue-500/40 shadow-xl",children:r.jsx(Fl,{className:"w-24 h-24 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:"Ready to Scan"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Hold your device near an NFC tag to automatically log location and time."})]}),r.jsx($,{className:"ios-button bg-purple-600 hover:bg-purple-700 px-8 py-3 text-base",onClick:()=>o("DEMO-TAG-001"),children:"Simulate Scan"})]})})]})}),r.jsx(ie,{value:"media_attachments",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Aa,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Media Attachments to Scans"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Attach photos, audio, or notes to NFC/GPS check-ins."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:Aa,label:"Take Photo",color:"blue"},{icon:et,label:"Add Note",color:"green"},{icon:Qm,label:"Record Audio",color:"purple"},{icon:es,label:"Confirm GPS",color:"yellow"}].map((f,g)=>r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:g*.05},className:`p-6 rounded-lg bg-${f.color}-500/10 border border-${f.color}-500/30 hover:bg-${f.color}-500/20 transition-colors cursor-pointer text-center flex flex-col items-center justify-center h-36`,onClick:c,children:[r.jsx(f.icon,{className:`w-8 h-8 text-${f.color}-400 mb-2`}),r.jsx("h3",{className:"text-white font-medium text-sm",children:f.label})]},f.label))}),r.jsx("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 bg-slate-800/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Aa,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("h3",{className:"text-white font-medium mb-1",children:"Attach Media to Location Scan"}),r.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Enhance patrol reports with visual or audio context."}),r.jsxs($,{onClick:c,className:"ios-button bg-yellow-600 hover:bg-yellow-700",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add Media to Last Scan"]})]})})]})})]})})]})]})},Uf={async getReports(e={}){try{let t=z.from("reports").select("*").order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.type&&(t=t.eq("report_type",e.type)),e.site&&(t=t.ilike("site_name",`%${e.site}%`)),e.officer&&(t=t.ilike("officer_name",`%${e.officer}%`)),e.dateFrom&&(t=t.gte("report_date",e.dateFrom)),e.dateTo&&(t=t.lte("report_date",e.dateTo));const{data:n,error:s}=await t;if(s)throw s;return n}catch(t){throw console.error("Error fetching reports:",t),t}},async getReport(e){try{const{data:t,error:n}=await z.from("reports").select("*").eq("id",e).single();if(n)throw n;return t}catch(t){throw console.error("Error fetching report:",t),t}},async createReport(e){try{const{data:t,error:n}=await z.from("reports").insert([e]).select().single();if(n)throw n;return t}catch(t){throw console.error("Error creating report:",t),t}},async updateReport(e,t){try{const{data:n,error:s}=await z.from("reports").update(t).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating report:",n),n}},async deleteReport(e){try{const{error:t}=await z.from("reports").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting report:",t),t}}},g6={async getViolations(e={}){try{let t=z.from("violations").select("*").order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.severity&&(t=t.eq("severity",e.severity)),e.type&&(t=t.eq("type",e.type)),e.site&&(t=t.ilike("site_name",`%${e.site}%`)),e.dateFrom&&(t=t.gte("violation_date",e.dateFrom)),e.dateTo&&(t=t.lte("violation_date",e.dateTo));const{data:n,error:s}=await t;if(s)throw s;return n}catch(t){throw console.error("Error fetching violations:",t),t}},async getViolation(e){try{const{data:t,error:n}=await z.from("violations").select("*").eq("id",e).single();if(n)throw n;return t}catch(t){throw console.error("Error fetching violation:",t),t}},async createViolation(e){try{const{data:t,error:n}=await z.from("violations").insert([e]).select().single();if(n)throw n;return t}catch(t){throw console.error("Error creating violation:",t),t}},async updateViolation(e,t){try{const{data:n,error:s}=await z.from("violations").update(t).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating violation:",n),n}},async deleteViolation(e){try{const{error:t}=await z.from("violations").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting violation:",t),t}}},x6={async getObservations(e={}){try{let t=z.from("observations").select("*").order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.priority&&(t=t.eq("priority",e.priority)),e.type&&(t=t.eq("type",e.type)),e.site&&(t=t.ilike("site_name",`%${e.site}%`)),e.followUpRequired!==void 0&&(t=t.eq("follow_up_required",e.followUpRequired)),e.dateFrom&&(t=t.gte("observation_date",e.dateFrom)),e.dateTo&&(t=t.lte("observation_date",e.dateTo));const{data:n,error:s}=await t;if(s)throw s;return n}catch(t){throw console.error("Error fetching observations:",t),t}},async getObservation(e){try{const{data:t,error:n}=await z.from("observations").select("*").eq("id",e).single();if(n)throw n;return t}catch(t){throw console.error("Error fetching observation:",t),t}},async createObservation(e){try{const{data:t,error:n}=await z.from("observations").insert([e]).select().single();if(n)throw n;return t}catch(t){throw console.error("Error creating observation:",t),t}},async updateObservation(e,t){try{const{data:n,error:s}=await z.from("observations").update(t).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating observation:",n),n}},async deleteObservation(e){try{const{error:t}=await z.from("observations").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting observation:",t),t}}},y6={async getTemplates(e={}){try{let t=z.from("report_templates").select("*").order("created_at",{ascending:!1});e.type&&(t=t.eq("template_type",e.type)),e.isActive!==void 0&&(t=t.eq("is_active",e.isActive));const{data:n,error:s}=await t;if(s)throw s;return n}catch(t){throw console.error("Error fetching templates:",t),t}},async getTemplate(e){try{const{data:t,error:n}=await z.from("report_templates").select("*").eq("id",e).single();if(n)throw n;return t}catch(t){throw console.error("Error fetching template:",t),t}},async createTemplate(e){try{const{data:t,error:n}=await z.from("report_templates").insert([e]).select().single();if(n)throw n;return t}catch(t){throw console.error("Error creating template:",t),t}},async updateTemplate(e,t){try{const{data:n,error:s}=await z.from("report_templates").update(t).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating template:",n),n}},async deleteTemplate(e){try{const{error:t}=await z.from("report_templates").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting template:",t),t}}},Ay=(e,t=new Date)=>{const n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${{Incident:"SIR",Patrol:"DPR",Inspection:"EIR",Assessment:"SAR",Violation:"VR",Observation:"OL"}[e]||"RPT"}-${n}-${s}${i}-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`},v6=["Incident","Patrol","Inspection","Assessment","Violation","Observation","Equipment","Training","Maintenance","Other"],w6=["Low","Medium","High","Critical"],b6=["Draft","Under Review","Completed","Archived"],L2=({report:e=null,onClose:t,onSuccess:n})=>{const[s,i]=m.useState({title:"",report_type:"",doc_number:"",site_name:"",officer_name:"",report_date:new Date().toISOString().split("T")[0],status:"Draft",priority:"Medium",description:"",findings:"",recommendations:"",attachments:[]}),[a,o]=m.useState(!1),{toast:l}=oe(),c=!!e;m.useEffect(()=>{if(e)i({title:e.title||"",report_type:e.report_type||"",doc_number:e.doc_number||"",site_name:e.site_name||"",officer_name:e.officer_name||"",report_date:e.report_date||new Date().toISOString().split("T")[0],status:e.status||"Draft",priority:e.priority||"Medium",description:e.description||"",findings:e.findings||"",recommendations:e.recommendations||"",attachments:e.attachments||[]});else{const f=Ay("Report",new Date);i(g=>({...g,doc_number:f}))}},[e]);const d=(f,g)=>{i(y=>({...y,[f]:g}))},u=f=>{const g=Ay(f,new Date);i(y=>({...y,report_type:f,doc_number:g}))},h=async f=>{f.preventDefault(),o(!0);try{let g;if(c?g=await Uf.updateReport(e.id,s):g=await Uf.createReport(s),g.error)throw g.error;l({title:c?"Report Updated":"Report Created",description:`${s.title} has been ${c?"updated":"created"} successfully.`,variant:"default"}),n==null||n(g),t()}catch(g){console.error("Error saving report:",g),l({title:"Error",description:g.message||"Failed to save report. Please try again.",variant:"destructive"})}finally{o(!1)}};return r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[c?r.jsx(Nn,{className:"w-5 h-5 text-blue-400"}):r.jsx(ut,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:c?"Edit Report":"Create New Report"})]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"title",className:"text-white",children:"Report Title"}),r.jsx(X,{id:"title",value:s.title,onChange:f=>d("title",f.target.value),placeholder:"Enter report title",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"report_type",className:"text-white",children:"Report Type"}),r.jsxs(_e,{value:s.report_type,onValueChange:u,children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:"Select report type"})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:v6.map(f=>r.jsx(Z,{value:f,className:"text-white",children:f},f))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"doc_number",className:"text-white",children:"Document Number"}),r.jsx(X,{id:"doc_number",value:s.doc_number,onChange:f=>d("doc_number",f.target.value),placeholder:"Auto-generated",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"report_date",className:"text-white",children:"Report Date"}),r.jsx(X,{id:"report_date",type:"date",value:s.report_date,onChange:f=>d("report_date",f.target.value),className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"site_name",className:"text-white",children:"Site/Location"}),r.jsx(X,{id:"site_name",value:s.site_name,onChange:f=>d("site_name",f.target.value),placeholder:"Corporate HQ Alpha",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"officer_name",className:"text-white",children:"Reporting Officer"}),r.jsx(X,{id:"officer_name",value:s.officer_name,onChange:f=>d("officer_name",f.target.value),placeholder:"John Smith",className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"priority",className:"text-white",children:"Priority"}),r.jsxs(_e,{value:s.priority,onValueChange:f=>d("priority",f),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:w6.map(f=>r.jsx(Z,{value:f,className:"text-white",children:f},f))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"status",className:"text-white",children:"Status"}),r.jsxs(_e,{value:s.status,onValueChange:f=>d("status",f),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:b6.map(f=>r.jsx(Z,{value:f,className:"text-white",children:f},f))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Report Content"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"description",className:"text-white",children:"Description"}),r.jsx(Ct,{id:"description",value:s.description,onChange:f=>d("description",f.target.value),placeholder:"Provide a detailed description of the incident, observation, or event...",className:"bg-slate-700/50 border-slate-600 text-white min-h-[100px]",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"findings",className:"text-white",children:"Findings"}),r.jsx(Ct,{id:"findings",value:s.findings,onChange:f=>d("findings",f.target.value),placeholder:"Document any findings, evidence, or observations...",className:"bg-slate-700/50 border-slate-600 text-white min-h-[100px]"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"recommendations",className:"text-white",children:"Recommendations"}),r.jsx(Ct,{id:"recommendations",value:s.recommendations,onChange:f=>d("recommendations",f.target.value),placeholder:"Provide recommendations for improvement, corrective actions, or follow-up...",className:"bg-slate-700/50 border-slate-600 text-white min-h-[100px]"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white border-b border-slate-600 pb-2",children:"Attachments"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"text-white",children:"File Attachments"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-6 text-center",children:[r.jsx(et,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-slate-400 text-sm",children:[c?"Update attachments":"Add attachments"," (Coming Soon)"]}),r.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Support for images, documents, and other files"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-600",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:a?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsxs("span",{children:[c?"Update":"Create"," Report"]})]})})]})]})})]})})})})},j6=()=>{const e=Eo(),t=Xs(),{toast:n}=oe(),[s,i]=m.useState(!1),a=()=>{i(!0)},o=()=>t.pathname.includes("/reports/list")?"list":t.pathname.includes("/reports/violations")?"violations":t.pathname.includes("/reports/observations")?"observations":t.pathname.includes("/reports/templates")?"templates":"list";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reports & Documentation"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Manage security reports, violations, and observations"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs($,{onClick:a,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Create Report"]}),r.jsxs($,{variant:"outline",className:"border-white/20",onClick:()=>n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:[r.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),r.jsxs(Zt,{defaultValue:o(),onValueChange:l=>e(`/reports/${l}`),className:"space-y-6",children:[r.jsxs(Bt,{className:"bg-white/10 border border-white/20",children:[r.jsx(ne,{value:"list",children:"Reports"}),r.jsx(ne,{value:"violations",children:"Violations"}),r.jsx(ne,{value:"observations",children:"Observations"}),r.jsx(ne,{value:"templates",children:"Templates"})]}),r.jsx(db,{})]}),s&&r.jsx(L2,{onClose:()=>i(!1),onSuccess:l=>{n({title:"Report Created",description:"The report has been created successfully.",variant:"default"}),window.location.reload()}})]})},N6=()=>{const[e,t]=m.useState(""),[n,s]=m.useState([]),[i,a]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(null),{toast:u}=oe(),h=p=>{u({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},f=p=>{d(p),l(!0)},g=p=>{u({title:"Report Export",description:"Report exported successfully to PDF format"})},y=p=>{u({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},x=async()=>{try{a(!0);const p=await Uf.getReports();s(p)}catch(p){console.error("Error fetching reports:",p),u({variant:"destructive",title:"Error",description:"Failed to load reports. Please try again."})}finally{a(!1)}};m.useEffect(()=>{x()},[u]);const w=n.filter(p=>p.title.toLowerCase().includes(e.toLowerCase())||p.doc_number.toLowerCase().includes(e.toLowerCase())||p.officer_name.toLowerCase().includes(e.toLowerCase()));return r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Security Reports"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search reports...",value:e,onChange:p=>t(p.target.value),className:"pl-10 w-80 bg-white/5 border-white/10"})]})]})}),r.jsx(U,{children:w.length===0&&!e?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(et,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Reports Yet"}),r.jsx("p",{className:"text-gray-400",children:"Create a new report to get started."})]}):w.length===0&&e?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(_t,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Reports Found"}),r.jsx("p",{className:"text-gray-400",children:"Try adjusting your search terms."})]}):i?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(lt,{className:"w-8 h-8 text-blue-400 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-400",children:"Loading reports..."})]}):r.jsx("div",{className:"space-y-4",children:w.map(p=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:p.title}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.priority==="High"?"bg-red-500/20 text-red-400":p.priority==="Medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[p.priority," Priority"]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="Completed"?"bg-green-500/20 text-green-400":p.status==="Under Review"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:p.status})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-2",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(tT,{className:"w-4 h-4 mr-1"}),p.doc_number]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(et,{className:"w-4 h-4 mr-1"}),p.report_type]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Us,{className:"w-4 h-4 mr-1"}),new Date(p.report_date).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["Site: ",p.site_name]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Officer: ",p.officer_name]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs($,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"border-blue-500/30 hover:bg-blue-500/10",children:[r.jsx(ki,{className:"w-4 h-4 mr-1"}),"View"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>f(p),className:"border-yellow-500/30 hover:bg-yellow-500/10",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"}),"Edit"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>g(p.id),className:"border-green-500/30 hover:bg-green-500/10",children:[r.jsx(Yb,{className:"w-4 h-4 mr-1"}),"Export"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>y(p.id),className:"border-purple-500/30 hover:bg-purple-500/10",children:[r.jsx(vT,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})},p.id))})}),o&&c&&r.jsx(L2,{report:c,onClose:()=>{l(!1),d(null)},onSuccess:p=>{u({title:"Report Updated",description:"The report has been updated successfully.",variant:"default"}),x(),l(!1),d(null)}})]})},S6=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),{toast:i}=oe();return m.useEffect(()=>{(async()=>{try{s(!0);const o=await g6.getViolations();t(o)}catch(o){console.error("Error fetching violations:",o),i({variant:"destructive",title:"Error",description:"Failed to load violations. Please try again."})}finally{s(!1)}})()},[i]),r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(dt,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Violations & Events"})]})}),r.jsx(U,{children:n?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(lt,{className:"w-8 h-8 text-red-400 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-400",children:"Loading violations..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(dt,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Violations Found"}),r.jsx("p",{className:"text-gray-400",children:"No violations have been reported yet."})]}):r.jsx("div",{className:"space-y-4",children:e.map(a=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 hover:bg-red-500/20 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:a.type}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.severity==="High"?"bg-red-500/20 text-red-400":a.severity==="Medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[a.severity," Severity"]})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:a.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsx("span",{children:a.location}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Reported by: ",a.reported_by_name]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(a.violation_date).toLocaleDateString()})]})]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"border-red-500/30 hover:bg-red-500/10",children:"View Details"})]})},a.id))})})]})},C6=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),{toast:i}=oe();return m.useEffect(()=>{(async()=>{try{s(!0);const o=await x6.getObservations();t(o)}catch(o){console.error("Error fetching observations:",o),i({variant:"destructive",title:"Error",description:"Failed to load observations. Please try again."})}finally{s(!1)}})()},[i]),r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(ki,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Observations & Notes"})]})}),r.jsx(U,{children:n?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(lt,{className:"w-8 h-8 text-blue-400 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-400",children:"Loading observations..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(ki,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Observations Found"}),r.jsx("p",{className:"text-gray-400",children:"No observations have been recorded yet."})]}):r.jsx("div",{className:"space-y-4",children:e.map(a=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:a.type}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.priority==="High"?"bg-red-500/20 text-red-400":a.priority==="Medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:[a.priority," Priority"]})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:a.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsx("span",{children:a.location}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Observer: ",a.observer_name]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(a.observation_date).toLocaleDateString()})]})]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"border-blue-500/30 hover:bg-blue-500/10",children:"View Details"})]})},a.id))})})]})},_6=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),{toast:i}=oe();return m.useEffect(()=>{(async()=>{try{s(!0);const o=await y6.getTemplates();t(o)}catch(o){console.error("Error fetching templates:",o),i({variant:"destructive",title:"Error",description:"Failed to load templates. Please try again."})}finally{s(!1)}})()},[i]),r.jsxs(H,{children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Dynamic Report Templates"})]})}),r.jsx(U,{children:n?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(lt,{className:"w-8 h-8 text-purple-400 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-400",children:"Loading templates..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(et,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white",children:"No Templates Found"}),r.jsx("p",{className:"text-gray-400",children:"No report templates are available."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((a,o)=>r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:o*.1},className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:[r.jsx(et,{className:"w-8 h-8 text-purple-400 mb-3"}),r.jsx("h3",{className:"text-white font-medium mb-2",children:a.title}),r.jsx("p",{className:"text-gray-400 text-sm",children:a.description})]},a))})})]})},E6=r.jsxs(ge,{path:"reports",element:r.jsx(j6,{}),children:[r.jsx(ge,{index:!0,element:r.jsx(Jh,{to:"list",replace:!0})}),r.jsx(ge,{path:"list",element:r.jsx(N6,{})}),r.jsx(ge,{path:"violations",element:r.jsx(S6,{})}),r.jsx(ge,{path:"observations",element:r.jsx(C6,{})}),r.jsx(ge,{path:"templates",element:r.jsx(_6,{})})]}),k6=({schedule:e})=>{const{toast:t}=oe();return r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.officer}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="Confirmed"?"bg-green-500/20 text-green-400":e.status==="Pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.compliance==="Qualified"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.compliance})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(es,{className:"w-4 h-4"}),r.jsx("span",{children:e.site})]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{children:e.shift}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(zi,{className:"w-4 h-4"}),r.jsx("span",{children:e.time})]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{children:e.date})]})]}),r.jsx("div",{className:"flex items-center space-x-3 ml-2",children:r.jsx($,{variant:"outline",size:"sm",onClick:()=>t({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"border-slate-600 hover:bg-slate-700 text-gray-300",children:"Edit"})})]})})},T6=({person:e,onSchedule:t})=>(oe(),r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.name}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400",children:e.position})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Start Date"}),r.jsx("p",{className:"text-white",children:e.startDate})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Training Status"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[e.trainingStatus==="Completed"?r.jsx(tt,{className:"w-4 h-4 text-green-400"}):r.jsx(zi,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:e.trainingStatus==="Completed"?"text-green-400":"text-yellow-400",children:e.trainingStatus})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Credentials"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[e.credentialsStatus==="Approved"?r.jsx(tt,{className:"w-4 h-4 text-green-400"}):r.jsx(Xt,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:e.credentialsStatus==="Approved"?"text-green-400":"text-red-400",children:e.credentialsStatus})]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-3 ml-2",children:r.jsx($,{variant:e.canSchedule?"default":"outline",size:"sm",onClick:()=>t(e.id,e.canSchedule),className:e.canSchedule?"bg-green-600 hover:bg-green-700":"border-red-500/30 text-red-400",disabled:!e.canSchedule,children:e.canSchedule?r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"w-4 h-4 mr-1"}),"Ready"]}):r.jsxs(r.Fragment,{children:[r.jsx(dt,{className:"w-4 h-4 mr-1"}),"Cannot Schedule"]})})})]})})),P6=({event:e})=>{const{toast:t}=oe();return r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.type==="Training"?"bg-blue-500/20 text-blue-400":e.type==="Audit"?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.type}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400",children:e.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:e.date})]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{children:["Duration: ",e.duration]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Re,{className:"w-4 h-4"}),r.jsx("span",{children:e.participants})]})]})]}),r.jsx("div",{className:"flex items-center space-x-3 ml-2",children:r.jsx($,{variant:"outline",size:"sm",onClick:()=>t({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"border-slate-600 hover:bg-slate-700 text-gray-300",children:"Manage"})})]})})},A6=()=>{const e=["Current Security Training Certification","Valid Background Check (within 2 years)","Site-Specific Training Completion","Equipment Certification","Health & Safety Training","Emergency Response Training"];return r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(tt,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Compliance Verification System"})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-500/10",children:[r.jsx(tt,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Compliant Officers"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:"234"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Ready for Scheduling"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-yellow-500/10",children:[r.jsx(dt,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Training Due"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:"12"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Cannot Schedule"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-500/10",children:[r.jsx(Xt,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-white font-semibold",children:"Non-Compliant"}),r.jsx("p",{className:"text-2xl font-bold text-red-400",children:"3"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Immediate Action Required"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Compliance Requirements"}),e.map((t,n)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/50",children:[r.jsx(tt,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{className:"text-white",children:t})]},n))]})]})})]})},R6=()=>{const[e,t]=m.useState(""),{toast:n}=oe(),s=[{id:1,officer:"John Smith",site:"Corporate HQ Alpha",shift:"Day Shift",time:"08:00 - 16:00",date:"2025-07-15",status:"Confirmed",compliance:"Qualified"},{id:2,officer:"Sarah Johnson",site:"Metro Hospital East",shift:"Night Shift",time:"20:00 - 06:00",date:"2025-07-15",status:"Pending",compliance:"Training Due"},{id:3,officer:"Mike Rodriguez",site:"Retail Plaza Central",shift:"Evening Shift",time:"16:00 - 00:00",date:"2025-07-16",status:"Confirmed",compliance:"Qualified"}],i=[{id:1,title:"Annual Security Refresher Training",type:"Training",date:"2025-09-15",duration:"3 days",participants:"All Officers",status:"Scheduled"},{id:2,title:"ISO 18788 Compliance Audit",type:"Audit",date:"2025-11-20",duration:"2 days",participants:"Management Team",status:"Scheduled"},{id:3,title:"Emergency Response Full-Scale Drill",type:"Drill",date:"2026-01-10",duration:"1 day",participants:"Site Teams & ERT",status:"Planned"}],a=[{id:1,name:"Alex Thompson",position:"Security Officer",startDate:"2025-07-20",trainingStatus:"In Progress",credentialsStatus:"Pending",canSchedule:!1},{id:2,name:"Maria Garcia",position:"Site Supervisor",startDate:"2025-07-18",trainingStatus:"Completed",credentialsStatus:"Approved",canSchedule:!0},{id:3,name:"David Lee",position:"Security Officer",startDate:"2025-07-22",trainingStatus:"Scheduled",credentialsStatus:"Pending",canSchedule:!1}],o=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},l=(h,f)=>{n(f?{title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}:{variant:"destructive",title:"Cannot Schedule Officer",description:"Officer must complete all training and credentials before scheduling."})},c="bg-transparent p-0 space-x-1",d="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",u="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(bc,{className:"w-8 h-8 mr-3 text-blue-400"}),"Scheduling System"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage employee schedules with integrated compliance verification."})]}),r.jsxs($,{onClick:o,className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Create New Schedule"]})]}),r.jsxs(Zt,{defaultValue:"schedules",className:"space-y-6",children:[r.jsxs(Bt,{className:`${c} border-b border-slate-700`,children:[r.jsx(ne,{value:"schedules",className:`${d} ${u}`,children:"Current Schedules"}),r.jsx(ne,{value:"onboarding",className:`${d} ${u}`,children:"Onboarding Queue"}),r.jsx(ne,{value:"yearly",className:`${d} ${u}`,children:"Yearly Events"}),r.jsx(ne,{value:"compliance",className:`${d} ${u}`,children:"Compliance Check"})]}),r.jsx(ie,{value:"schedules",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(z4,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Active Schedules"})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search schedules (officer, site)...",value:e,onChange:h=>t(h.target.value),className:"pl-10 w-full sm:w-80 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Overview of all current and upcoming employee schedules."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-4",children:[s.filter(h=>h.officer.toLowerCase().includes(e.toLowerCase())||h.site.toLowerCase().includes(e.toLowerCase())).map(h=>r.jsx(k6,{schedule:h},h.id)),s.length===0&&r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No active schedules found."})]})})]})}),r.jsx(ie,{value:"onboarding",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Onboarding & Qualification Queue"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Track new hires through the onboarding and qualification process."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-4",children:[a.map(h=>r.jsx(T6,{person:h,onSchedule:l},h.id)),a.length===0&&r.jsx("p",{className:"text-center text-gray-500 py-4",children:"Onboarding queue is empty."})]})})]})}),r.jsx(ie,{value:"yearly",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(bc,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Annual Event Scheduler"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Plan and manage yearly recurring events and compliance deadlines."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-4",children:[i.map(h=>r.jsx(P6,{event:h},h.id)),i.length===0&&r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No annual events scheduled."})]})})]})}),r.jsx(ie,{value:"compliance",className:"space-y-6",children:r.jsx(A6,{})})]})]})},O6=()=>{const[e,t]=m.useState(""),{toast:n}=oe(),s=[{title:"Incident Response Time",value:"4.2 min",change:"-12%",trend:"down",color:"green",icon:Gb},{title:"Officer Efficiency",value:"94.8%",change:"+3.2%",trend:"up",color:"blue",icon:Re},{title:"Site Coverage",value:"98.1%",change:"+1.5%",trend:"up",color:"purple",icon:es},{title:"Training Compliance",value:"96.3%",change:"+2.1%",trend:"up",color:"yellow",icon:xn}],i=[{type:"Performance",title:"Peak Incident Hours Identified",description:"Analysis shows 67% of security incidents occur between 10 PM - 2 AM. Recommend increasing patrol frequency during these hours.",priority:"High",action:"Adjust Scheduling"},{type:"Efficiency",title:"Officer Rotation Optimization",description:"Current rotation patterns show 15% efficiency loss. AI suggests new rotation schedule to improve coverage by 23%.",priority:"Medium",action:"Review Schedule"},{type:"Training",title:"Skills Gap Analysis",description:"Emergency response training completion correlates with 34% faster incident resolution. Prioritize training for 12 officers.",priority:"Medium",action:"Schedule Training"}],a=()=>{if(!e.trim()){n({title:"Please enter a query",description:"Ask the AI about your security operations data"});return}n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},o=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},l=()=>{n({title:" Data Export Not Implemented",description:"This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Zn,{className:"w-8 h-8 mr-3 text-blue-400"}),"AI-Assisted Analytics"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Unlock actionable insights from your operational data."})]}),r.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[r.jsxs($,{onClick:o,className:"ios-button bg-purple-600 hover:bg-purple-700",children:[r.jsx(et,{className:"w-4 h-4 mr-2"}),"Generate Report"]}),r.jsxs($,{onClick:l,variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs($,{variant:"outline",className:"glass-button",children:[r.jsx(U4,{className:"w-4 h-4 mr-2"})," Date Range"]}),r.jsxs($,{variant:"outline",className:"glass-button",children:[r.jsx(Qb,{className:"w-4 h-4 mr-2"})," Filters"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((c,d)=>r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},children:r.jsx(H,{className:"ios-card hover-lift",children:r.jsx(U,{className:"p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:c.title}),r.jsx("p",{className:"text-2xl font-bold text-white",children:c.value}),r.jsxs("p",{className:`text-xs flex items-center mt-1 ${c.trend==="up"?"text-green-400":"text-red-400"}`,children:[r.jsx(jc,{className:`w-3 h-3 mr-1 ${c.trend==="down"?"transform rotate-180":""}`}),c.change]})]}),r.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br from-${c.color}-500/20 to-${c.color}-600/30`,children:r.jsx(c.icon,{className:`w-5 h-5 text-${c.color}-400`})})]})})})},c.title))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Cg,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"AI Analytics Assistant"})]}),r.jsx(ae,{className:"text-gray-400",children:"Ask natural language questions about your data."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(X,{placeholder:"E.g., 'Show incident trends for Site Alpha last month'",value:e,onChange:c=>t(c.target.value),className:"flex-1 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500",onKeyPress:c=>c.key==="Enter"&&a()}),r.jsxs($,{onClick:a,className:"ios-button bg-purple-600 hover:bg-purple-700",children:[r.jsx(cf,{className:"w-4 h-4 mr-1"}),"Query AI"]})]}),r.jsxs("div",{className:"space-y-2 pt-2",children:[r.jsx("h4",{className:"text-white font-medium text-sm",children:"Suggested Queries:"}),["Incident trends last 30 days?","Highest risk sites?","Officer performance by region?","Predict staffing needs next month."].map((c,d)=>r.jsx("button",{onClick:()=>t(c),className:"block w-full text-left p-2.5 rounded-lg bg-slate-800/40 hover:bg-slate-700/60 transition-colors text-gray-300 text-sm",children:c},d))]})]})})]})}),r.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Zn,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Performance Overview"})]}),r.jsx(ae,{className:"text-gray-400",children:"Key operational charts and visualizations."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-600/20 to-purple-700/20 rounded-lg border border-slate-700 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Zn,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 opacity-70"}),r.jsx("p",{className:"text-white font-medium",children:"Interactive Charts Area"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time performance visualization (Coming Soon)"})]})})})})]})})]}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Cg,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"AI-Generated Insights"})]}),r.jsx(ae,{className:"text-gray-400",children:"Actionable recommendations based on data analysis."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:i.map((c,d)=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5+d*.1},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.type==="Performance"?"bg-blue-500/20 text-blue-400":c.type==="Efficiency"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:c.type}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.priority==="High"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[c.priority," Priority"]})]}),r.jsx("h3",{className:"text-white font-semibold mb-1",children:c.title}),r.jsx("p",{className:"text-gray-300 text-sm mb-3",children:c.description})]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"ios-button border-slate-600 hover:bg-slate-700 ml-4 mt-1",children:c.action})]})},d))})})]})})]})},$6=()=>{var w;const[e,t]=m.useState(""),[n,s]=m.useState("Channel 1 - Main"),[i,a]=m.useState(""),{toast:o}=oe(),l=[{id:1,name:"Site Alpha Team",lastMessage:"All clear on perimeter check. Standing by for next instructions.",time:"2 min ago",unread:0,type:"group",status:"online",avatar:"SA"},{id:2,name:"John Smith (Officer)",lastMessage:"Incident report #IR-0045 submitted for review.",time:"15 min ago",unread:2,type:"direct",status:"online",avatar:"JS"},{id:3,name:"Emergency Response Channel",lastMessage:"Drill completed successfully. All teams accounted for.",time:"1 hour ago",unread:0,type:"emergency",status:"active",avatar:"ER"},{id:4,name:"Management Group",lastMessage:"Weekly operations meeting scheduled for Friday 10 AM.",time:"3 hours ago",unread:1,type:"group",status:"online",avatar:"MG"}],c=[{id:1,name:"Channel 1 - Main Ops",users:23,status:"active"},{id:2,name:"Channel 2 - Emergency",users:8,status:"standby"},{id:3,name:"Channel 3 - Site Bravo",users:12,status:"active"},{id:4,name:"Channel 4 - Management",users:5,status:"private"}],d=[{id:1,sender:"Sarah Johnson",content:"Perimeter check complete. All secure.",time:"14:32",type:"received"},{id:2,sender:"You",content:"Copy that. Good work. Any anomalies to report?",time:"14:33",type:"sent"},{id:3,sender:"Sarah Johnson",content:"Negative, all clear. Sector 4 camera seems a bit foggy, might need cleaning.",time:"14:34",type:"received"},{id:4,sender:"Mike Rodriguez",content:"Maintenance crew arriving at 15:00 for camera checks.",time:"14:35",type:"received"}],u=()=>{e.trim()&&(o({title:"Message Sent",description:"Your message has been delivered to Site Alpha Team."}),t(""))},h=()=>{o({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},f=()=>{o({title:"Emergency Broadcast Sent",description:"Critical alert dispatched to all active personnel and channels."})},g="bg-transparent p-0 space-x-1",y="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",x="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(s1,{className:"w-8 h-8 mr-3 text-blue-400"}),"Real-Time Communications"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Instant messaging and radio system for seamless operations."})]}),r.jsxs($,{onClick:f,className:"ios-button bg-red-600 hover:bg-red-700 mt-4 sm:mt-0",children:[r.jsx(dt,{className:"w-4 h-4 mr-2"}),"Emergency Broadcast"]})]}),r.jsxs(Zt,{defaultValue:"messaging",className:"space-y-6",children:[r.jsxs(Bt,{className:`${g} border-b border-slate-700`,children:[r.jsx(ne,{value:"messaging",className:`${y} ${x}`,children:"Instant Messaging"}),r.jsx(ne,{value:"radio",className:`${y} ${x}`,children:"Radio System"}),r.jsx(ne,{value:"emergency_log",className:`${y} ${x}`,children:"Emergency Log"})]}),r.jsx(ie,{value:"messaging",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-280px)] min-h-[500px]",children:[r.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:r.jsxs(H,{className:"ios-card h-full flex flex-col",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Conversations"})]}),r.jsxs("div",{className:"relative mt-2",children:[r.jsx(_t,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search chats...",className:"pl-8 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:p=>a(p.target.value)})]})]}),r.jsx(U,{className:"flex-grow overflow-y-auto scrollbar-hide pr-1",children:r.jsx("div",{className:"space-y-2",children:l.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).map(p=>r.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/40 hover:bg-slate-700/60 transition-colors cursor-pointer border border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${p.status==="online"?"bg-green-500":"bg-gray-500"}`}),r.jsx("span",{className:"text-white font-medium text-sm",children:p.name})]}),p.unread>0&&r.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 font-semibold",children:p.unread})]}),r.jsx("p",{className:"text-gray-400 text-xs truncate",children:p.lastMessage}),r.jsx("p",{className:"text-gray-500 text-xs mt-0.5 text-right",children:p.time})]},p.id))})})]})}),r.jsx(V.div,{className:"lg:col-span-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs(H,{className:"ios-card h-full flex flex-col",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center justify-between text-white",children:[r.jsx("span",{children:"Site Alpha Team"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-400",children:"23 online"})]})]})}),r.jsxs(U,{className:"flex-grow flex flex-col overflow-hidden",children:[r.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4 p-2 bg-slate-900/30 rounded-lg scrollbar-hide",children:d.map(p=>r.jsx("div",{className:`flex ${p.type==="sent"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] p-2.5 rounded-xl shadow ${p.type==="sent"?"bg-blue-600 text-white rounded-br-none":"bg-slate-700 text-white rounded-bl-none"}`,children:[p.type==="received"&&r.jsx("p",{className:"text-xs text-blue-300 mb-0.5 font-medium",children:p.sender}),r.jsx("p",{className:"text-sm",children:p.content}),r.jsx("p",{className:`text-xs opacity-70 mt-1 ${p.type==="sent"?"text-blue-200":"text-slate-400"} text-right`,children:p.time})]})},p.id))}),r.jsxs("div",{className:"flex space-x-2 items-center pt-2 border-t border-slate-700",children:[r.jsx($,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-blue-400",children:r.jsx(hT,{className:"w-5 h-5"})}),r.jsx(X,{placeholder:"Type your message...",value:e,onChange:p=>t(p.target.value),className:"flex-1 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500",onKeyPress:p=>p.key==="Enter"&&u()}),r.jsx($,{onClick:u,className:"ios-button bg-blue-600 hover:bg-blue-700",children:r.jsx(xT,{className:"w-4 h-4"})})]})]})]})})]})}),r.jsx(ie,{value:"radio",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Ag,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Radio Control Panel"})]}),r.jsx(ae,{className:"text-gray-400",children:"Push-to-talk and channel management."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-6 text-center",children:[r.jsx("div",{className:"w-40 h-40 bg-gradient-to-br from-green-600/20 to-emerald-700/30 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-green-500/40 shadow-lg",children:r.jsx(Ag,{className:"w-20 h-20 text-green-400"})}),r.jsx("p",{className:"text-white font-semibold text-lg",children:n}),r.jsxs("p",{className:"text-gray-400 text-sm -mt-2",children:[((w=c.find(p=>p.name===n))==null?void 0:w.users)||0," users connected"]}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsxs($,{onClick:h,className:"ios-button bg-green-600 hover:bg-green-700 px-8 py-6 text-lg rounded-xl",children:[r.jsx(Qm,{className:"w-5 h-5 mr-2"}),"Push to Talk"]}),r.jsx($,{variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700 p-4 rounded-xl",onClick:()=>o({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:r.jsx(fT,{className:"w-5 h-5"})})]})]})})]})}),r.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs(H,{className:"ios-card h-full",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Re,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Radio Channels"})]}),r.jsx(ae,{className:"text-gray-400",children:"Select an active radio channel."})]}),r.jsx(U,{className:"overflow-y-auto scrollbar-hide max-h-[300px]",children:r.jsx("div",{className:"space-y-2.5",children:c.map(p=>r.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all duration-150 ${p.name===n?"bg-green-500/20 border-green-500/40 ring-2 ring-green-500":"bg-slate-800/40 border-slate-700 hover:bg-slate-700/60"}`,onClick:()=>s(p.name),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:p.name}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[p.users," users"]})]}),r.jsxs("div",{className:"flex items-center space-x-1.5",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${p.status==="active"?"bg-green-500":p.status==="standby"?"bg-yellow-500":"bg-gray-500"}`}),r.jsx("span",{className:"text-xs text-gray-400 capitalize",children:p.status})]})]})},p.id))})})]})})]})}),r.jsx(ie,{value:"emergency_log",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(dt,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Emergency Communications Log"})]}),r.jsx(ae,{className:"text-gray-400",children:"Record of all critical alerts and broadcasts."})]}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-3",children:[[{type:"Drill",message:"Fire drill completed - All personnel accounted for. Duration: 15 mins.",time:"2 hours ago",status:"resolved"},{type:"Alert",message:"Severe weather warning issued for Sector Gamma. Secure outdoor equipment immediately.",time:"1 day ago",status:"resolved"},{type:"Incident",message:"Medical emergency reported at Building A, Floor 3. EMS dispatched.",time:"3 days ago",status:"active_monitoring"}].map((p,v)=>r.jsx("div",{className:"p-3.5 rounded-lg bg-slate-800/40 border border-slate-700",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2.5 mb-1.5",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p.type==="Drill"?"bg-blue-500/20 text-blue-400":p.type==="Alert"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:p.type}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p.status==="resolved"?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:p.status.replace("_"," ").toUpperCase()})]}),r.jsx("p",{className:"text-white text-sm",children:p.message})]}),r.jsx("p",{className:"text-gray-400 text-xs mt-0.5 ml-3 whitespace-nowrap",children:p.time})]})},v)),d.length===0&&r.jsx("p",{className:"text-center text-gray-500 py-4",children:"No emergency communications logged yet."})]})})]})})]})]})},M6=({standard:e,index:t})=>{const n=()=>e.standard==="ISO 18788"?r.jsx(ts,{className:"w-5 h-5 text-blue-400"}):e.standard==="ISO 14001"?r.jsx(rT,{className:"w-5 h-5 text-green-400"}):r.jsx(Re,{className:"w-5 h-5 text-yellow-400"});return r.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:t*.1},children:r.jsxs(H,{className:"ios-card hover-lift",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[n(),r.jsx("span",{className:"text-lg text-white",children:e.standard})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="Certified"?"bg-green-500/20 text-green-400":e.status==="In Progress"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})]})}),r.jsx(U,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:e.title}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Compliance"}),r.jsxs("span",{className:"text-white font-semibold",children:[e.compliance,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${e.compliance>=95?"bg-green-500":e.compliance>=85?"bg-yellow-500":"bg-red-500"}`,style:{width:`${e.compliance}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Last Audit"}),r.jsx("p",{className:"text-white",children:e.lastAudit})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Next Audit"}),r.jsx("p",{className:"text-white",children:e.nextAudit})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Open Findings"}),r.jsx("span",{className:`font-semibold ${e.findings===0?"text-green-400":e.findings<=3?"text-yellow-400":"text-red-400"}`,children:e.findings})]})]})})]})})},D6=({audit:e})=>{const{toast:t}=oe(),n=s=>{t({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.type}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.standard==="ISO 18788"?"bg-blue-500/20 text-blue-400":e.standard==="ISO 14001"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.standard}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="Completed"?"bg-green-500/20 text-green-400":e.status==="In Progress"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:e.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-400",children:[r.jsxs("span",{children:["Auditor: ",e.auditor]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:e.date})]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{children:e.site}),e.findings>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{className:"text-yellow-400",children:[e.findings," findings"]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-3 ml-2",children:r.jsx($,{variant:"outline",size:"sm",onClick:()=>n(e.id),className:"border-slate-600 hover:bg-slate-700 text-gray-300",children:"View Details"})})]})})};var Zu="focusScope.autoFocusOnMount",eh="focusScope.autoFocusOnUnmount",Ry={bubbles:!1,cancelable:!0},L6="FocusScope",I2=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),d=jn(i),u=jn(a),h=m.useRef(null),f=It(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(b){if(g.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:bs(h.current,{select:!0})},w=function(b){if(g.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||bs(h.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&bs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[s,l,g.paused]),m.useEffect(()=>{if(l){$y.add(g);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Zu,Ry);l.addEventListener(Zu,d),l.dispatchEvent(p),p.defaultPrevented||(I6(U6(F2(l)),{select:!0}),document.activeElement===x&&bs(l))}return()=>{l.removeEventListener(Zu,d),setTimeout(()=>{const p=new CustomEvent(eh,Ry);l.addEventListener(eh,u),l.dispatchEvent(p),p.defaultPrevented||bs(x??document.body,{select:!0}),l.removeEventListener(eh,u),$y.remove(g)},0)}}},[l,d,u,g]);const y=m.useCallback(x=>{if(!n&&!s||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(w&&p){const v=x.currentTarget,[b,j]=F6(v);b&&j?!x.shiftKey&&p===j?(x.preventDefault(),n&&bs(b,{select:!0})):x.shiftKey&&p===b&&(x.preventDefault(),n&&bs(j,{select:!0})):p===v&&x.preventDefault()}},[n,s,g.paused]);return r.jsx(Ce.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});I2.displayName=L6;function I6(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(bs(s,{select:t}),document.activeElement!==n)return}function F6(e){const t=F2(e),n=Oy(t,e),s=Oy(t.reverse(),e);return[n,s]}function F2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oy(e,t){for(const n of e)if(!V6(n,{upTo:t}))return n}function V6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B6(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&B6(e)&&t&&e.select()}}var $y=z6();function z6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=My(e,t),e.unshift(t)},remove(t){var n;e=My(e,t),(n=e[0])==null||n.resume()}}}function My(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function U6(e){return e.filter(t=>t.tagName!=="A")}var th=0;function H6(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dy()),document.body.insertAdjacentElement("beforeend",e[1]??Dy()),th++,()=>{th===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),th--}},[])}function Dy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var V2=h2(),nh=function(){},Rd=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:nh,onWheelCapture:nh,onTouchMoveCapture:nh}),i=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,p=e.as,v=p===void 0?"div":p,b=e.gapMode,j=Fp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,E=u2([n,t]),N=gt(gt({},j),i);return m.createElement(m.Fragment,null,u&&m.createElement(S,{sideCar:V2,removeScrollBar:d,shards:h,noRelative:g,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:b}),o?m.cloneElement(m.Children.only(l),gt(gt({},N),{ref:E})):m.createElement(v,gt({},N,{className:c,ref:E}),l))});Rd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rd.classNames={fullWidth:Ba,zeroRight:Va};var Hf=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return Hf=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Hf=!1}var Ur=Hf?{passive:!1}:!1,W6=function(e){return e.tagName==="TEXTAREA"},B2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!W6(e)&&n[t]==="visible")},q6=function(e){return B2(e,"overflowY")},G6=function(e){return B2(e,"overflowX")},Ly=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=z2(e,s);if(i){var a=U2(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},K6=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Y6=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},z2=function(e,t){return e==="v"?q6(t):G6(t)},U2=function(e,t){return e==="v"?K6(t):Y6(t)},Q6=function(e,t){return e==="h"&&t==="rtl"?-1:1},J6=function(e,t,n,s,i){var a=Q6(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var g=U2(e,l),y=g[0],x=g[1],w=g[2],p=x-w-a*y;(y||p)&&z2(e,l)&&(h+=p,f+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(i&&Math.abs(h)<1||!i&&o>h)||!u&&(i&&Math.abs(f)<1||!i&&-o>f))&&(d=!0),d},Cl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Iy=function(e){return[e.deltaX,e.deltaY]},Fy=function(e){return e&&"current"in e?e.current:e},X6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Z6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eF=0,Hr=[];function tF(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),i=m.useState(eF++)[0],a=m.useState(Vp)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=d2([e.lockRef.current],(e.shards||[]).map(Fy),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=Cl(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-p[0],j="deltaY"in x?x.deltaY:v[1]-p[1],S,E=x.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&N==="h"&&E.type==="range")return!1;var _=Ly(N,E);if(!_)return!0;if(_?S=N:(S=N==="v"?"h":"v",_=Ly(N,E)),!_)return!1;if(!s.current&&"changedTouches"in x&&(b||j)&&(s.current=S),!S)return!0;var R=s.current||S;return J6(R,w,x,R==="h"?b:j,!0)},[]),c=m.useCallback(function(x){var w=x;if(!(!Hr.length||Hr[Hr.length-1]!==a)){var p="deltaY"in w?Iy(w):Cl(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&X6(S.delta,p)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Fy).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(x,w,p,v){var b={name:x,delta:w,target:p,should:v,shadowParent:nF(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=m.useCallback(function(x){n.current=Cl(x),s.current=void 0},[]),h=m.useCallback(function(x){d(x.type,Iy(x),x.target,l(x,e.lockRef.current))},[]),f=m.useCallback(function(x){d(x.type,Cl(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return Hr.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ur),document.addEventListener("touchmove",c,Ur),document.addEventListener("touchstart",u,Ur),function(){Hr=Hr.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ur),document.removeEventListener("touchmove",c,Ur),document.removeEventListener("touchstart",u,Ur)}},[]);var g=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(a,{styles:Z6(i)}):null,g?m.createElement(g2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sF=m2(V2,tF);var H2=m.forwardRef(function(e,t){return m.createElement(Rd,gt({},e,{ref:t,sideCar:sF}))});H2.classNames=Rd.classNames;const rF=H2;var Od="Dialog",[W2,_8]=Tr(Od),[iF,En]=W2(Od),q2=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=To({prop:s,defaultProp:i??!1,onChange:a,caller:Od});return r.jsx(iF,{scope:t,triggerRef:l,contentRef:c,contentId:Fa(),titleId:Fa(),descriptionId:Fa(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};q2.displayName=Od;var G2="DialogTrigger",aF=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=En(G2,n),a=It(t,i.triggerRef);return r.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Yp(i.open),...s,ref:a,onClick:je(e.onClick,i.onOpenToggle)})});aF.displayName=G2;var Gp="DialogPortal",[oF,K2]=W2(Gp,{forceMount:void 0}),Y2=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=En(Gp,t);return r.jsx(oF,{scope:t,forceMount:n,children:m.Children.map(s,o=>r.jsx(Bi,{present:n||a.open,children:r.jsx(zm,{asChild:!0,container:i,children:o})}))})};Y2.displayName=Gp;var Fc="DialogOverlay",Q2=m.forwardRef((e,t)=>{const n=K2(Fc,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=En(Fc,e.__scopeDialog);return a.modal?r.jsx(Bi,{present:s||a.open,children:r.jsx(cF,{...i,ref:t})}):null});Q2.displayName=Fc;var lF=uo("DialogOverlay.RemoveScroll"),cF=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=En(Fc,n);return r.jsx(rF,{as:lF,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ce.div,{"data-state":Yp(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Cr="DialogContent",J2=m.forwardRef((e,t)=>{const n=K2(Cr,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=En(Cr,e.__scopeDialog);return r.jsx(Bi,{present:s||a.open,children:a.modal?r.jsx(dF,{...i,ref:t}):r.jsx(uF,{...i,ref:t})})});J2.displayName=Cr;var dF=m.forwardRef((e,t)=>{const n=En(Cr,e.__scopeDialog),s=m.useRef(null),i=It(t,n.contentRef,s);return m.useEffect(()=>{const a=s.current;if(a)return c2(a)},[]),r.jsx(X2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:je(e.onFocusOutside,a=>a.preventDefault())})}),uF=m.forwardRef((e,t)=>{const n=En(Cr,e.__scopeDialog),s=m.useRef(!1),i=m.useRef(!1);return r.jsx(X2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),X2=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=En(Cr,n),c=m.useRef(null),d=It(t,c);return H6(),r.jsxs(r.Fragment,{children:[r.jsx(I2,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Bm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Yp(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(hF,{titleId:l.titleId}),r.jsx(mF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Kp="DialogTitle",Z2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=En(Kp,n);return r.jsx(Ce.h2,{id:i.titleId,...s,ref:t})});Z2.displayName=Kp;var eS="DialogDescription",tS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=En(eS,n);return r.jsx(Ce.p,{id:i.descriptionId,...s,ref:t})});tS.displayName=eS;var nS="DialogClose",sS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=En(nS,n);return r.jsx(Ce.button,{type:"button",...s,ref:t,onClick:je(e.onClick,()=>i.onOpenChange(!1))})});sS.displayName=nS;function Yp(e){return e?"open":"closed"}var rS="DialogTitleWarning",[E8,iS]=Gk(rS,{contentName:Cr,titleName:Kp,docsSlug:"dialog"}),hF=({titleId:e})=>{const t=iS(rS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fF="DialogDescriptionWarning",mF=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iS(fF).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},pF=q2,gF=Y2,aS=Q2,oS=J2,lS=Z2,cS=tS,xF=sS;const Qp=pF,yF=gF,dS=Y.forwardRef(({className:e,...t},n)=>r.jsx(aS,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dS.displayName=aS.displayName;const $d=Y.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(yF,{children:[r.jsx(dS,{}),r.jsxs(oS,{ref:s,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg","dark:bg-slate-900 dark:border-slate-800",e),...n,children:[t,r.jsxs(xF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Xt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$d.displayName=oS.displayName;const Md=({className:e,...t})=>r.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Md.displayName="DialogHeader";const uS=({className:e,...t})=>r.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uS.displayName="DialogFooter";const Dd=Y.forwardRef(({className:e,...t},n)=>r.jsx(lS,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight","dark:text-white",e),...t}));Dd.displayName=lS.displayName;const Ld=Y.forwardRef(({className:e,...t},n)=>r.jsx(cS,{ref:n,className:se("text-sm text-muted-foreground","dark:text-slate-400",e),...t}));Ld.displayName=cS.displayName;const vF=({isOpen:e,setIsOpen:t,inspection:n,onSuccess:s})=>{const{toast:i}=oe(),[a,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState({inspection_id:null,site_id:null,iso_standard:"",issue_description:"",corrective_action_required:"",assigned_poc_id:null,priority_level:"Medium",due_date:"",status:"Pending"});m.useEffect(()=>{n&&u(x=>({...x,inspection_id:n.id,site_id:n.site_id,iso_standard:n.standard||"General",issue_description:`Finding from ${n.type} inspection on ${n.date}.`}))},[n]);const h=m.useCallback(async()=>{try{const{data:x,error:w}=await z.from("users").select("id, full_name");if(w)throw w;c(x)}catch(x){i({variant:"destructive",title:"Error fetching users",description:x.message})}},[i]);m.useEffect(()=>{e&&h()},[e,h]);const f=x=>{const{name:w,value:p}=x.target;u(v=>({...v,[w]:p}))},g=(x,w)=>{u(p=>({...p,[x]:w}))},y=async x=>{x.preventDefault(),o(!0);try{const{error:w}=await z.from("iso_corrective_actions").insert([d]);if(w)throw w;i({title:"Corrective action logged successfully"}),s()}catch(w){i({variant:"destructive",title:"Error logging action",description:w.message})}finally{o(!1)}};return r.jsx(Qp,{open:e,onOpenChange:t,children:r.jsxs($d,{className:"sm:max-w-[600px]",children:[r.jsxs(Md,{children:[r.jsx(Dd,{children:"Log Corrective Action"}),r.jsx(Ld,{children:"Create a new corrective action plan for an inspection finding."})]}),r.jsxs("form",{onSubmit:y,className:"space-y-4 pt-4",children:[r.jsxs("div",{children:[r.jsx(q,{htmlFor:"issue_description",children:"Issue Description"}),r.jsx(Ct,{id:"issue_description",name:"issue_description",value:d.issue_description,onChange:f,required:!0})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"corrective_action_required",children:"Corrective Action Required"}),r.jsx(Ct,{id:"corrective_action_required",name:"corrective_action_required",value:d.corrective_action_required,onChange:f,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(q,{htmlFor:"assigned_poc_id",children:"Point of Contact"}),r.jsxs(_e,{name:"assigned_poc_id",onValueChange:x=>g("assigned_poc_id",x),children:[r.jsx(Ne,{children:r.jsx(Ee,{placeholder:"Assign a user..."})}),r.jsx(Se,{children:l.map(x=>r.jsx(Z,{value:x.id,children:x.full_name},x.id))})]})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"priority_level",children:"Priority Level"}),r.jsxs(_e,{name:"priority_level",defaultValue:"Medium",onValueChange:x=>g("priority_level",x),children:[r.jsx(Ne,{children:r.jsx(Ee,{})}),r.jsxs(Se,{children:[r.jsx(Z,{value:"Low",children:"Low"}),r.jsx(Z,{value:"Medium",children:"Medium"}),r.jsx(Z,{value:"High",children:"High"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(q,{htmlFor:"due_date",children:"Due Date"}),r.jsx(X,{id:"due_date",name:"due_date",type:"date",value:d.due_date,onChange:f,required:!0})]}),r.jsxs(uS,{children:[r.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsxs($,{type:"submit",disabled:a,children:[a?r.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Sn,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Action"]})]})]})]})})},wF=({inspection:e,onActionAdded:t})=>{const[n,s]=m.useState(!1),i=e.status!=="Passed";return r.jsxs(r.Fragment,{children:[r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.type==="Security"?"bg-blue-500/20 text-blue-400":e.type==="Environmental"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.type}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="Passed"?"bg-green-500/20 text-green-400":e.status==="Minor Issues"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-400",children:[r.jsxs("span",{children:["Inspector: ",e.inspector]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{children:e.site}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:e.date})]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{className:`font-medium ${e.score>=95?"text-green-400":e.score>=85?"text-yellow-400":"text-red-400"}`,children:["Score: ",e.score,"%"]})]})]}),r.jsx("div",{className:"flex items-center space-x-3 ml-2",children:i&&r.jsxs($,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"border-yellow-600 hover:bg-yellow-700/50 text-yellow-400",children:[r.jsx(mT,{className:"w-4 h-4 mr-2"}),"Log Action"]})})]})}),r.jsx(vF,{isOpen:n,setIsOpen:s,inspection:e,onSuccess:()=>{s(!1),t&&t()}})]})},bF=({template:e,index:t})=>{const{toast:n}=oe();return r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:t*.1},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors cursor-pointer",onClick:()=>n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),children:[r.jsx(Ym,{className:"w-8 h-8 text-blue-400 mb-3"}),r.jsx("h3",{className:"text-white font-medium mb-2",children:e}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Generate comprehensive ISO compliance reports"})]})},jF=({action:e})=>{var s,i;const t=a=>{switch(a){case"Completed":return r.jsxs("span",{className:"flex items-center text-xs font-medium text-green-400 bg-green-500/20 px-2 py-1 rounded-full",children:[r.jsx(tt,{className:"w-3 h-3 mr-1.5"}),a]});case"In Progress":return r.jsxs("span",{className:"flex items-center text-xs font-medium text-yellow-400 bg-yellow-500/20 px-2 py-1 rounded-full",children:[r.jsx(zi,{className:"w-3 h-3 mr-1.5"}),a]});default:return r.jsxs("span",{className:"flex items-center text-xs font-medium text-red-400 bg-red-500/20 px-2 py-1 rounded-full",children:[r.jsx(pi,{className:"w-3 h-3 mr-1.5"}),a]})}},n=a=>{switch(a){case"High":return r.jsxs("span",{className:"flex items-center text-xs font-medium text-red-400",children:[r.jsx(pu,{className:"w-3 h-3 mr-1.5"}),a]});case"Medium":return r.jsxs("span",{className:"flex items-center text-xs font-medium text-yellow-400",children:[r.jsx(pu,{className:"w-3 h-3 mr-1.5"}),a]});default:return r.jsxs("span",{className:"flex items-center text-xs font-medium text-green-400",children:[r.jsx(pu,{className:"w-3 h-3 mr-1.5"}),a]})}};return r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-white font-semibold",children:e.iso_standard}),t(e.status)]}),r.jsx("p",{className:"text-sm text-slate-300 mb-3",children:e.issue_description}),r.jsxs("p",{className:"text-sm text-slate-400",children:[r.jsx("span",{className:"font-semibold text-slate-300",children:"Required Action:"})," ",e.corrective_action_required]})]}),r.jsxs("div",{className:"w-full sm:w-64 flex-shrink-0 sm:pl-4 sm:border-l sm:border-slate-700 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center text-slate-400",children:[r.jsx(ld,{className:"w-4 h-4 mr-2 text-sky-400"}),r.jsxs("span",{children:["Site: ",r.jsx("span",{className:"text-slate-200",children:((s=e.sites)==null?void 0:s.name)||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center text-slate-400",children:[r.jsx(Xm,{className:"w-4 h-4 mr-2 text-sky-400"}),r.jsxs("span",{children:["POC: ",r.jsx("span",{className:"text-slate-200",children:((i=e.users)==null?void 0:i.full_name)||"Unassigned"})]})]}),r.jsxs("div",{className:"flex items-center text-slate-400",children:[r.jsx(Us,{className:"w-4 h-4 mr-2 text-sky-400"}),r.jsxs("span",{children:["Due: ",r.jsx("span",{className:"text-slate-200",children:e.due_date})]})]}),r.jsx("div",{className:"flex items-center text-slate-400",children:n(e.priority_level)})]})]})})},NF=()=>{const[e,t]=m.useState(""),{toast:n}=oe(),[s,i]=m.useState([]),[a,o]=m.useState(!0),l=m.useCallback(async()=>{o(!0);try{const{data:p,error:v}=await z.from("iso_corrective_actions").select(`
          *,
          users (full_name),
          sites (name)
        `).order("created_at",{ascending:!1});if(v)throw v;i(p)}catch(p){n({variant:"destructive",title:"Error fetching corrective actions",description:p.message})}finally{o(!1)}},[n]);m.useEffect(()=>{l()},[l]);const c=[{id:1,standard:"ISO 18788",title:"Security Operations Management Systems",status:"Certified",lastAudit:"2024-11-15",nextAudit:"2025-11-15",compliance:98,findings:2},{id:2,standard:"ISO 14001",title:"Environmental Management Systems",status:"Certified",lastAudit:"2024-09-20",nextAudit:"2025-09-20",compliance:95,findings:3},{id:3,standard:"ISO 45001",title:"Occupational Health & Safety Management Systems",status:"In Progress",lastAudit:"2025-02-10",nextAudit:"2025-08-10",compliance:87,findings:5}],d=[{id:1,type:"Internal Audit",standard:"ISO 18788",auditor:"Sarah Johnson",date:"2025-01-15",status:"Completed",findings:2,site:"Corporate HQ Alpha"},{id:2,type:"External Audit",standard:"ISO 14001",auditor:"External Auditor Ltd.",date:"2025-03-20",status:"Scheduled",findings:0,site:"All Sites"},{id:3,type:"Surveillance Audit",standard:"ISO 45001",auditor:"Mike Rodriguez",date:"2025-04-12",status:"In Progress",findings:1,site:"Metro Hospital East"}],u=[{id:1,title:"Security Equipment Inspection",type:"Security",inspector:"John Smith",site:"Corporate HQ Alpha",date:"2025-01-15",status:"Passed",score:95},{id:2,title:"Environmental Compliance Check",type:"Environmental",inspector:"Lisa Chen",site:"Retail Plaza Central",date:"2025-02-14",status:"Minor Issues",score:88},{id:3,title:"Safety Protocol Review",type:"Safety",inspector:"Mike Rodriguez",site:"Metro Hospital East",date:"2025-03-13",status:"Passed",score:92}],h=["Monthly Compliance Report","Audit Findings Summary","Corrective Actions Report","Management Review Report","Risk Assessment Report","Training Compliance Report"],f=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},g=()=>{n({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},y="bg-transparent p-0 space-x-1",x="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",w="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Jb,{className:"w-8 h-8 mr-3 text-blue-400"}),"ISO Compliance Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage ISO 18788, 14001, and 45001 standards, audits, and inspections."})]}),r.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[r.jsxs($,{onClick:f,className:"ios-button bg-blue-600 hover:bg-blue-700",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Schedule Audit"]}),r.jsxs($,{onClick:g,variant:"outline",className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(W4,{className:"w-4 h-4 mr-2"}),"New Inspection"]})]})]}),r.jsxs(Zt,{defaultValue:"standards",className:"space-y-6",children:[r.jsxs(Bt,{className:`${y} border-b border-slate-700`,children:[r.jsx(ne,{value:"standards",className:`${x} ${w}`,children:"ISO Standards"}),r.jsx(ne,{value:"audits",className:`${x} ${w}`,children:"Audits"}),r.jsx(ne,{value:"inspections",className:`${x} ${w}`,children:"Inspections"}),r.jsx(ne,{value:"corrective_actions",className:`${x} ${w}`,children:"Corrective Actions"}),r.jsx(ne,{value:"reports",className:`${x} ${w}`,children:"Reports"})]}),r.jsx(ie,{value:"standards",className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((p,v)=>r.jsx(M6,{standard:p,index:v},p.id))})}),r.jsx(ie,{value:"audits",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Wr,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"ISO Audits Log"})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search audits...",value:e,onChange:p=>t(p.target.value),className:"pl-10 w-full sm:w-80 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Track internal and external ISO audits."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:d.filter(p=>p.type.toLowerCase().includes(e.toLowerCase())||p.standard.toLowerCase().includes(e.toLowerCase())).map(p=>r.jsx(D6,{audit:p},p.id))})})]})}),r.jsx(ie,{value:"inspections",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(e1,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Security, Safety & Environmental Inspections"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Log and manage site inspections and security tours."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:u.map(p=>r.jsx(wF,{inspection:p,onActionAdded:l},p.id))})})]})}),r.jsx(ie,{value:"corrective_actions",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(xi,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Corrective Actions Tracker"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Monitor and manage all open and completed corrective actions."})]}),r.jsx(U,{children:a?r.jsx("p",{className:"text-center text-gray-400 py-4",children:"Loading actions..."}):r.jsx("div",{className:"space-y-4",children:s.map(p=>r.jsx(jF,{action:p},p.id))})})]})}),r.jsx(ie,{value:"reports",className:"space-y-6",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Ym,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"ISO Compliance Reports"})]}),r.jsx(ae,{className:"text-gray-400 mt-1",children:"Generate and manage ISO compliance documentation."})]}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((p,v)=>r.jsx(bF,{template:p,index:v},p))})})]})})]})]})},SF=({isOpen:e,setIsOpen:t,siteId:n,onSuccess:s})=>(oe(),r.jsx(Qp,{open:e,onOpenChange:t,children:r.jsx($d,{children:r.jsxs(Md,{children:[r.jsx(Dd,{children:"Guide Form"}),r.jsx(Ld,{children:"This feature is not yet implemented."})]})})})),CF=({isOpen:e,setIsOpen:t,siteId:n,onSuccess:s})=>(oe(),r.jsx(Qp,{open:e,onOpenChange:t,children:r.jsx($d,{children:r.jsxs(Md,{children:[r.jsx(Dd,{children:"Contact Form"}),r.jsx(Ld,{children:"This feature is not yet implemented."})]})})})),_F=()=>{const{toast:e}=oe(),[t,n]=m.useState([]),[s,i]=m.useState(null),[a,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(!1),[g,y]=m.useState(!1),x=m.useCallback(async()=>{try{const{data:j,error:S}=await z.from("sites").select("id, name");if(S)throw S;n(j),j.length>0&&i(j[0].id)}catch(j){e({variant:"destructive",title:"Error fetching sites",description:j.message})}},[e]),w=m.useCallback(async()=>{if(s){u(!0);try{const{data:j,error:S}=await z.from("incident_command_guides").select("*").eq("site_id",s);if(S)throw S;o(j);const{data:E,error:N}=await z.from("incident_command_contacts").select("*").eq("site_id",s);if(N)throw N;c(E)}catch(j){e({variant:"destructive",title:"Error fetching site data",description:j.message})}finally{u(!1)}}},[s,e]);m.useEffect(()=>{x()},[x]),m.useEffect(()=>{w()},[w]);const p="bg-transparent p-0 space-x-1",v="text-gray-400 data-[state=active]:text-blue-400 data-[state=active]:border-blue-400 border-b-2 border-transparent rounded-none px-4 py-2.5 hover:text-blue-300 transition-all duration-200 text-sm font-medium",b="data-[state=active]:bg-transparent data-[state=active]:shadow-none";return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(wT,{className:"w-8 h-8 mr-3 text-red-500"}),"Incident Command Center"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage emergency guides and contacts for each site."})]}),r.jsx("div",{className:"w-full sm:w-auto mt-4 sm:mt-0",children:r.jsxs(_e,{onValueChange:j=>i(j),value:s||"",children:[r.jsx(Ne,{className:"w-full sm:w-72",children:r.jsx(Ee,{placeholder:"Select a site..."})}),r.jsx(Se,{children:t.map(j=>r.jsx(Z,{value:j.id,children:j.name},j.id))})]})})]}),r.jsxs(Zt,{defaultValue:"guides",className:"space-y-6",children:[r.jsxs(Bt,{className:`${p} border-b border-slate-700`,children:[r.jsx(ne,{value:"guides",className:`${v} ${b}`,children:"Quick Guides"}),r.jsx(ne,{value:"contacts",className:`${v} ${b}`,children:"Emergency Contacts"})]}),r.jsx(ie,{value:"guides",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(G,{className:"flex items-center",children:[r.jsx(Km,{className:"mr-2 text-blue-400"}),"Emergency Guides"]}),r.jsxs($,{onClick:()=>e({title:" Feature not implemented"}),children:[r.jsx(ut,{className:"mr-2 h-4 w-4"}),"Add Guide"]})]}),r.jsx(ae,{children:"Site-specific procedures for emergencies."})]}),r.jsx(U,{children:d?r.jsx("p",{children:"Loading..."}):a.map(j=>r.jsx("div",{className:"p-2 border-b border-slate-700",children:j.guide_title},j.id))})]})}),r.jsx(ie,{value:"contacts",children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(G,{className:"flex items-center",children:[r.jsx(Jm,{className:"mr-2 text-green-400"}),"Emergency Contacts"]}),r.jsxs($,{onClick:()=>e({title:" Feature not implemented"}),children:[r.jsx(ut,{className:"mr-2 h-4 w-4"}),"Add Contact"]})]}),r.jsx(ae,{children:"Key personnel and services to contact during an incident."})]}),r.jsx(U,{children:d?r.jsx("p",{children:"Loading..."}):l.map(j=>r.jsxs("div",{className:"p-2 border-b border-slate-700",children:[j.contact_name," - ",j.contact_title]},j.id))})]})})]}),r.jsx(SF,{isOpen:h,setIsOpen:f,siteId:s,onSuccess:w}),r.jsx(CF,{isOpen:g,setIsOpen:y,siteId:s,onSuccess:w})]})},EF=()=>{const[e,t]=m.useState(""),[n,s]=m.useState(""),{toast:i}=oe(),a=[{id:1,name:"Visitor Management System",type:"Web Application",url:"https://visitor.example.com",status:"Connected",lastSync:"2 minutes ago",icon:Re},{id:2,name:"Asset Tracking Mobile App",type:"Mobile Application",url:"https://assets.example.com",status:"Connected",lastSync:"15 minutes ago",icon:o1},{id:3,name:"Emergency Response Portal",type:"Web Portal",url:"https://emergency.example.com",status:"Disconnected",lastSync:"2 hours ago",icon:dt}],o=[{title:"Web Application",description:"Embed external web apps via iframe for seamless integration.",icon:lf,features:["Full screen embedding","Responsive design support","Cross-domain communication (if configured)"]},{title:"API Integration",description:"Connect mobile or backend services via secure API endpoints.",icon:cf,features:["REST/GraphQL support","Real-time data sync","OAuth 2.0 authentication"]},{title:"Desktop Connector",description:"Bridge desktop apps with web services for data exchange.",icon:Tg,features:["Local network access","Secure data tunneling","Scheduled sync tasks"]}],l=()=>{if(!e.trim()){i({variant:"destructive",title:"URL Required",description:"Please enter the URL of the external application."});return}if(!e.startsWith("http://")&&!e.startsWith("https://")){i({variant:"destructive",title:"Invalid URL",description:"Please enter a valid URL starting with http:// or https://."});return}s(e),i({title:"Application Preview Loaded",description:`Previewing ${e}. Note: Full integration may require further configuration.`})},c=u=>{i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},d=u=>{i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(kg,{className:"w-8 h-8 mr-3 text-blue-400"}),"External App Integrations"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Connect and manage third-party applications within SecureOps Pro."})]}),r.jsxs($,{onClick:()=>i({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "}),className:"ios-button bg-blue-600 hover:bg-blue-700 mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Add New Integration"]})]}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(cf,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{children:"Quick Connect Web App"})]}),r.jsx(ae,{className:"text-gray-400",children:"Enter a URL to preview and embed a web application."})]}),r.jsx(U,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[r.jsx(X,{placeholder:"Enter external application URL (e.g., https://example.com)",value:e,onChange:u=>t(u.target.value),className:"flex-1 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"}),r.jsxs($,{onClick:l,className:"ios-button bg-green-600 hover:bg-green-700",children:[r.jsx(kg,{className:"w-4 h-4 mr-2"}),"Preview & Connect"]})]})})]})}),n&&r.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{delay:.2},children:r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tg,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Integrated Application Preview"})]}),r.jsxs($,{variant:"ghost",size:"sm",onClick:()=>s(""),className:"text-red-400 hover:text-red-300",children:[r.jsx(Pg,{className:"w-4 h-4 mr-1"})," Close Preview"]})]})}),r.jsxs(U,{children:[r.jsx("iframe",{src:n,title:"External Application Preview",className:"w-full h-[500px] rounded-lg border border-slate-700 bg-white",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Note: Some applications may not allow embedding due to security policies (X-Frame-Options)."})]})]})}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n?.3:.2},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(Ti,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{children:"Integration Methods"})]}),r.jsx(ae,{className:"text-gray-400",children:"Explore different ways to integrate external services."})]}),r.jsx(U,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((u,h)=>r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:(n?.4:.3)+h*.1},className:"p-6 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors flex flex-col h-full",children:[r.jsx(u.icon,{className:"w-10 h-10 text-blue-400 mb-3"}),r.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:u.title}),r.jsx("p",{className:"text-gray-400 text-sm mb-3 flex-grow",children:u.description}),r.jsx("div",{className:"space-y-1.5 mt-auto",children:u.features.map((f,g)=>r.jsxs("div",{className:"flex items-center space-x-1.5 text-xs text-gray-300",children:[r.jsx(tt,{className:"w-3.5 h-3.5 text-green-400 flex-shrink-0"}),r.jsx("span",{children:f})]},g))})]},u.title))})})]})}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n?.5:.4},children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[r.jsx(_g,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Currently Connected Applications"})]}),r.jsx(ae,{className:"text-gray-400",children:"Manage your existing integrations."})]}),r.jsx(U,{children:r.jsx("div",{className:"space-y-4",children:a.map(u=>r.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-slate-800/40 border border-slate-700 hover:bg-slate-700/60 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 mb-3 sm:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-1.5",children:[r.jsx(u.icon,{className:`w-5 h-5 ${u.status==="Connected"?"text-green-400":"text-red-400"}`}),r.jsx("h3",{className:"text-white font-semibold",children:u.name}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="Connected"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:u.status})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-400",children:[r.jsx("span",{className:"truncate max-w-[200px] sm:max-w-xs",title:u.url,children:u.url}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Last sync: ",u.lastSync]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2 sm:mt-0",children:[r.jsxs($,{variant:"outline",size:"sm",onClick:()=>d(u.id),className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(Ti,{className:"w-3.5 h-3.5 mr-1 sm:mr-0"})," ",r.jsx("span",{className:"hidden sm:inline ml-1",children:"Config"})]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>window.open(u.url,"_blank"),className:"ios-button border-slate-600 hover:bg-slate-700",children:[r.jsx(_g,{className:"w-3.5 h-3.5 mr-1 sm:mr-0"})," ",r.jsx("span",{className:"hidden sm:inline ml-1",children:"Open"})]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>c(u.id),className:"ios-button border-red-500/50 text-red-400 hover:bg-red-500/20",children:[r.jsx(Pg,{className:"w-3.5 h-3.5 mr-1 sm:mr-0"})," ",r.jsx("span",{className:"hidden sm:inline ml-1",children:"Off"})]})]})]})},u.id))})})]})})]})};function kF(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function TF(e){const[t,n]=m.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Id="Switch",[PF,k8]=Tr(Id),[AF,RF]=PF(Id),hS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,g]=m.useState(null),y=It(t,b=>g(b)),x=m.useRef(!1),w=f?u||!!f.closest("form"):!0,[p,v]=To({prop:i,defaultProp:a??!1,onChange:d,caller:Id});return r.jsxs(AF,{scope:n,checked:p,disabled:l,children:[r.jsx(Ce.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":gS(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:je(e.onClick,b=>{v(j=>!j),w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),w&&r.jsx(pS,{control:f,bubbles:!x.current,name:s,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});hS.displayName=Id;var fS="SwitchThumb",mS=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=RF(fS,n);return r.jsx(Ce.span,{"data-state":gS(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});mS.displayName=fS;var OF="SwitchBubbleInput",pS=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=m.useRef(null),l=It(o,a),c=kF(n),d=TF(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&g){const y=new Event("click",{bubbles:s});g.call(u,n),u.dispatchEvent(y)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pS.displayName=OF;function gS(e){return e?"checked":"unchecked"}var xS=hS,$F=mS;const yS=Y.forwardRef(({className:e,...t},n)=>r.jsx(xS,{className:se("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input","data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-slate-700",e),...t,ref:n,children:r.jsx($F,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0","bg-white")})}));yS.displayName=xS.displayName;const MF=()=>{const{toast:e}=oe(),[t,n]=m.useState({}),[s,i]=m.useState(!0),[a,o]=m.useState(!1),l=[{key:"default_incident_distribution_high_severity",label:"High Severity Incident Distribution",type:"json",description:'JSON defining levels (e.g., ["national"]) and roles (e.g., ["executive"]) for high severity incident report distribution.',icon:Sg,category:"Distribution"},{key:"default_violation_distribution_critical",label:"Critical Violation Distribution",type:"json",description:"JSON defining distribution for critical violations.",icon:Sg,category:"Distribution"},{key:"allow_subcontractor_data_sharing",label:"Allow Subcontractor Data Sharing with Client",type:"boolean",description:"If enabled, clients can view relevant data from assigned subcontractors.",icon:Re,category:"Access Control"},{key:"max_incident_attachment_size_mb",label:"Max Incident Attachment Size (MB)",type:"number",description:"Maximum file size in MB for attachments to incident reports.",icon:ts,category:"System"},{key:"auto_archive_reports_days",label:"Auto-Archive Reports After (Days)",type:"number",description:"Number of days after which completed reports are auto-archived. 0 to disable.",icon:Sn,category:"System"},{key:"api_key_external_integrations",label:"External Integrations API Key",type:"text",description:"API Key for secure communication with external partner applications.",icon:Xb,category:"Integrations"}],c=m.useCallback(async()=>{i(!0);try{const{data:f,error:g}=await z.from("admin_settings").select("setting_key, setting_value");if(g)throw g;const y=f.reduce((w,{setting_key:p,setting_value:v})=>(w[p]=v,w),{}),x={};l.forEach(w=>{x[w.key]=y[w.key]??(w.type==="json"?{}:w.type==="boolean"?!1:w.type==="number"?0:"")}),n(x)}catch(f){e({variant:"destructive",title:"Error fetching settings",description:f.message})}finally{i(!1)}},[e]);m.useEffect(()=>{c()},[c]);const d=(f,g,y)=>{n(y==="number"?x=>({...x,[f]:g===""?"":Number(g)}):x=>({...x,[f]:g}))},u=async()=>{o(!0);const f=l.map(g=>{let y=t[g.key];if(g.type==="json"&&typeof y=="string")try{y=y.trim()===""?{}:JSON.parse(y)}catch{return e({variant:"destructive",title:`Invalid JSON for ${g.label}`,description:"Please correct the JSON format."}),Promise.reject(new Error(`Invalid JSON for ${g.label}`))}return z.from("admin_settings").upsert({setting_key:g.key,setting_value:y,description:g.description},{onConflict:"setting_key"})});try{await Promise.all(f),e({title:"Settings Saved",description:"All admin settings have been updated successfully."})}catch(g){g.message.startsWith("Invalid JSON")||e({variant:"destructive",title:"Error Saving Settings",description:g.message})}finally{o(!1)}};if(s)return r.jsx("div",{className:"text-center py-10 text-white",children:"Loading Admin Settings..."});const h=l.reduce((f,g)=>{const y=g.category||"General";return f[y]=f[y]?[...f[y],g]:[g],f},{});return r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 pb-10",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(Ti,{className:"w-8 h-8 mr-3 text-blue-400"}),"Admin Settings"]})}),Object.entries(h).map(([f,g])=>r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs(G,{className:"text-xl text-white flex items-center",children:[Y.createElement(g[0].icon,{className:"w-6 h-6 mr-2 text-blue-400"}),f," Settings"]})}),r.jsx(U,{className:"space-y-6",children:g.map(y=>r.jsxs("div",{className:"space-y-2 p-4 border border-slate-700 rounded-lg bg-slate-800/40",children:[r.jsxs(q,{htmlFor:y.key,className:"text-base font-medium text-gray-200 flex items-center",children:[Y.createElement(y.icon,{className:"w-4 h-4 mr-2 text-slate-400"})," ",y.label]}),r.jsx("p",{className:"text-xs text-gray-400 mb-1",children:y.description}),y.type==="json"&&r.jsx(Ct,{id:y.key,value:typeof t[y.key]=="object"?JSON.stringify(t[y.key],null,2):t[y.key],onChange:x=>d(y.key,x.target.value,"json"),rows:3}),y.type==="boolean"&&r.jsxs("div",{className:"flex items-center space-x-2 pt-1",children:[r.jsx(yS,{id:y.key,checked:!!t[y.key],onCheckedChange:x=>d(y.key,x,"boolean"),className:"data-[state=checked]:bg-blue-500"}),r.jsx(q,{htmlFor:y.key,className:"text-sm text-gray-300",children:t[y.key]?"Enabled":"Disabled"})]}),y.type==="number"&&r.jsx(X,{id:y.key,type:"number",value:t[y.key]??"",onChange:x=>d(y.key,x.target.value,"number")}),y.type==="text"&&r.jsx(X,{id:y.key,type:"text",value:t[y.key]||"",onChange:x=>d(y.key,x.target.value,"text")})]},y.key))})]},f)),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsxs($,{onClick:u,disabled:a||s,className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg text-base",children:[r.jsx(Sn,{className:"w-5 h-5 mr-2"}),a?"Saving...":"Save All Settings"]})})]})},za={async getIncidents(){const{data:e,error:t}=await z.from("health_safety_incidents").select(`
        id, 
        site_id, 
        description, 
        incident_date, 
        investigation_status, 
        report_url,
        created_at,
        sites ( name )
      `).order("incident_date",{ascending:!1});if(t)throw t;return e.map(n=>{var s;return{...n,site_name:((s=n.sites)==null?void 0:s.name)||"N/A",reported_by_name:"N/A (User info not available)"}})},async getSites(){const{data:e,error:t}=await z.from("sites").select("id, name").order("name");if(t)throw t;return e},async createIncident(e){const{data:t,error:n}=await z.from("health_safety_incidents").insert([e]).select();if(n)throw n;return t[0]},async updateIncident(e,t){const{data:n,error:s}=await z.from("health_safety_incidents").update(t).eq("id",e).select();if(s)throw s;return n[0]},async updateIncidentStatus(e,t){const{data:n,error:s}=await z.from("health_safety_incidents").update({investigation_status:t}).eq("id",e).select();if(s)throw s;return n[0]},async deleteIncident(e){const{error:t}=await z.from("health_safety_incidents").delete().eq("id",e);if(t)throw t;return!0},async getIncidentStats(){const{data:e,error:t}=await z.from("health_safety_incidents").select("investigation_status, incident_date");if(t)throw t;return{total:e.length,open:e.filter(s=>s.investigation_status==="open").length,inProgress:e.filter(s=>s.investigation_status==="in_progress").length,closed:e.filter(s=>s.investigation_status==="closed").length,thisMonth:e.filter(s=>{const i=new Date(s.incident_date),a=new Date;return i.getMonth()===a.getMonth()&&i.getFullYear()===a.getFullYear()}).length}},async searchIncidents(e){const{data:t,error:n}=await z.from("health_safety_incidents").select(`
        id, 
        site_id, 
        description, 
        incident_date, 
        investigation_status, 
        report_url,
        created_at,
        sites ( name )
      `).or(`description.ilike.%${e}%,sites.name.ilike.%${e}%`).order("incident_date",{ascending:!1});if(n)throw n;return t.map(s=>{var i;return{...s,site_name:((i=s.sites)==null?void 0:i.name)||"N/A",reported_by_name:"N/A (User info not available)"}})}},DF=({incident:e=null,onClose:t,onSuccess:n})=>{const[s,i]=m.useState({site_id:"",description:"",incident_date:new Date().toISOString().split("T")[0],investigation_status:"open",report_file:null}),[a,o]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState(null),{toast:h}=oe(),f=!!e;m.useEffect(()=>{(async()=>{try{const{data:{user:p}}=await z.auth.getUser();u(p);const v=await za.getSites();o(v)}catch(p){console.error("Error fetching initial data:",p),h({title:"Error",description:"Failed to load form data. Please try again.",variant:"destructive"})}})()},[h]),m.useEffect(()=>{e&&i({site_id:e.site_id||"",description:e.description||"",incident_date:e.incident_date?new Date(e.incident_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],investigation_status:e.investigation_status||"open",report_file:null})},[e]);const g=(w,p)=>{i(v=>({...v,[w]:p}))},y=w=>{var v;const p=(v=w.target.files)==null?void 0:v[0];p&&(i(b=>({...b,report_file:p})),h({title:"File Selected",description:`File "${p.name}" selected for upload.`}))},x=async w=>{if(w.preventDefault(),!d){h({title:"Authentication Required",description:"Please log in to report an incident.",variant:"destructive"});return}c(!0);try{const p={site_id:s.site_id,description:s.description,incident_date:s.incident_date,reported_by_id:d.id,investigation_status:s.investigation_status};let v;f?v=await za.updateIncident(e.id,p):v=await za.createIncident(p),h({title:f?"Incident Updated":"Incident Reported",description:`Health & safety incident has been ${f?"updated":"reported"} successfully.`,variant:"default"}),n==null||n(v),t()}catch(p){console.error("Error saving incident:",p),h({title:"Error",description:p.message||"Failed to save incident. Please try again.",variant:"destructive"})}finally{c(!1)}};return r.jsx(er,{children:r.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:r.jsxs(H,{className:"ios-card",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs(G,{className:"flex items-center space-x-2 text-white",children:[f?r.jsx(Nn,{className:"w-5 h-5 text-blue-400"}):r.jsx(dt,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:f?"Edit Incident":"Report New Incident"})]}),r.jsx($,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(Xt,{className:"w-4 h-4"})})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"site_id",className:"text-white",children:"Site"}),r.jsxs(_e,{value:s.site_id,onValueChange:w=>g("site_id",w),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{placeholder:"Select site"})}),r.jsx(Se,{className:"bg-slate-800 border-slate-600",children:a.map(w=>r.jsx(Z,{value:w.id,className:"text-white",children:w.name},w.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"incident_date",className:"text-white",children:"Incident Date"}),r.jsx(X,{id:"incident_date",type:"date",value:s.incident_date,onChange:w=>g("incident_date",w.target.value),className:"bg-slate-700/50 border-slate-600 text-white",required:!0})]}),f&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"investigation_status",className:"text-white",children:"Investigation Status"}),r.jsxs(_e,{value:s.investigation_status,onValueChange:w=>g("investigation_status",w),children:[r.jsx(Ne,{className:"bg-slate-700/50 border-slate-600 text-white",children:r.jsx(Ee,{})}),r.jsxs(Se,{className:"bg-slate-800 border-slate-600",children:[r.jsx(Z,{value:"open",className:"text-white",children:"Open"}),r.jsx(Z,{value:"in_progress",className:"text-white",children:"In Progress"}),r.jsx(Z,{value:"closed",className:"text-white",children:"Closed"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"description",className:"text-white",children:"Description of Incident"}),r.jsx(Ct,{id:"description",value:s.description,onChange:w=>g("description",w.target.value),placeholder:"Describe what happened, when, where, and any relevant details...",className:"bg-slate-700/50 border-slate-600 text-white min-h-[120px]",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{htmlFor:"report_file",className:"text-white",children:"Upload Report/Media (Optional)"}),r.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-600 border-dashed rounded-md bg-slate-800/30",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx(ST,{className:"mx-auto h-12 w-12 text-slate-400"}),r.jsxs("div",{className:"flex text-sm text-slate-500",children:[r.jsxs("label",{htmlFor:"report_file",className:"relative cursor-pointer rounded-md font-medium text-blue-400 hover:text-blue-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500 focus-within:ring-offset-slate-900",children:[r.jsx("span",{children:"Upload a file"}),r.jsx(X,{id:"report_file",name:"report_file",type:"file",className:"sr-only",onChange:y,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-slate-500",children:"PDF, JPG, PNG, DOC up to 10MB"})]})}),s.report_file&&r.jsxs("p",{className:"text-sm text-green-400 mt-2",children:["File selected: ",s.report_file.name]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"}),r.jsx($,{type:"submit",disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsxs("span",{children:[f?"Update":"Report"," Incident"]})]})})]})]})})]})})})})},LF=()=>{const{toast:e}=oe(),[t,n]=m.useState([]),[s,i]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState(""),h=m.useCallback(async()=>{i(!0);try{const p=await za.getIncidents();n(p)}catch(p){e({variant:"destructive",title:"Error fetching data",description:p.message})}finally{i(!1)}},[e]);m.useEffect(()=>{h()},[h]);const f=()=>{h()},g=p=>{c(p),o(!0)},y=()=>{o(!1),c(null)},x=async(p,v)=>{if(window.confirm(`Are you sure you want to change status to "${v.replace("_"," ")}"?`)){i(!0);try{await za.updateIncidentStatus(p,v),e({title:"Incident status updated successfully"}),h()}catch(b){e({variant:"destructive",title:"Error updating status",description:b.message})}finally{i(!1)}}},w=t.filter(p=>p.site_name.toLowerCase().includes(d.toLowerCase())||p.description.toLowerCase().includes(d.toLowerCase())||p.reported_by_name.toLowerCase().includes(d.toLowerCase()));return s&&t.length===0&&!a?r.jsx("div",{className:"text-center py-10 text-white",children:"Loading Health & Safety Incidents..."}):r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ko,{to:"/",className:"p-2 rounded-full hover:bg-slate-700/50 transition-colors bg-[#607D8B] hover:bg-[#546E7A] text-white",children:r.jsx(Gm,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(a1,{className:"w-8 h-8 mr-3 text-red-400"}),"Health & Safety"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Report and manage workplace health and safety incidents."})]})]}),!a&&r.jsxs($,{onClick:()=>o(!0),className:"bg-[#607D8B] hover:bg-[#546E7A] text-white mt-4 sm:mt-0",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Report New Incident"]})]}),a&&r.jsx(DF,{incident:l,onClose:y,onSuccess:f}),!a&&r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(G,{className:"text-xl text-white",children:"Incident Log"}),r.jsx(ae,{className:"text-gray-400",children:"Review all reported health and safety incidents."})]}),r.jsxs("div",{className:"relative mt-3 sm:mt-0",children:[r.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(X,{placeholder:"Search incidents...",value:d,onChange:p=>u(p.target.value),className:"pl-10 w-full sm:w-72 bg-slate-700/50 border-slate-600 text-gray-200 focus:ring-blue-500 focus:border-blue-500"})]})]})}),r.jsx(U,{children:s&&t.length===0?r.jsx("p",{className:"text-center text-gray-400 py-4",children:"Loading incidents..."}):!s&&t.length===0?r.jsx("p",{className:"text-center text-gray-400 py-4",children:'No health & safety incidents reported yet. Click "Report New Incident" to get started.'}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Up,{children:[r.jsx(Hp,{className:"ios-table-header",children:r.jsxs(wo,{children:[r.jsx(rn,{children:"Site"}),r.jsx(rn,{children:"Description"}),r.jsx(rn,{children:"Date"}),r.jsx(rn,{children:"Status"}),r.jsx(rn,{children:"Reported By"}),r.jsx(rn,{className:"text-right",children:"Actions"})]})}),r.jsx(Wp,{className:"dark-table-row-hover",children:w.map(p=>r.jsxs(wo,{children:[r.jsx(an,{className:"font-medium text-white",children:p.site_name}),r.jsx(an,{className:"max-w-xs truncate",title:p.description,children:p.description}),r.jsx(an,{children:new Date(p.incident_date).toLocaleDateString()}),r.jsx(an,{children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.investigation_status==="open"?"bg-yellow-500/20 text-yellow-400":p.investigation_status==="in_progress"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:p.investigation_status.replace("_"," ").toUpperCase()})}),r.jsx(an,{children:p.reported_by_name}),r.jsxs(an,{className:"text-right space-x-1 md:space-x-2",children:[r.jsx($,{variant:"ghost",size:"icon",onClick:()=>g(p),className:"hover:bg-blue-500/20 text-blue-400 bg-[#607D8B] hover:bg-[#546E7A] p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8",children:r.jsx(Nn,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),p.investigation_status==="open"&&r.jsx($,{variant:"ghost",size:"icon",onClick:()=>x(p.id,"in_progress"),className:"hover:bg-orange-500/20 text-orange-400 bg-[#607D8B] hover:bg-[#546E7A] p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8",children:r.jsx(_t,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),p.investigation_status==="in_progress"&&r.jsx($,{variant:"ghost",size:"icon",onClick:()=>x(p.id,"closed"),className:"hover:bg-green-500/20 text-green-400 bg-[#607D8B] hover:bg-[#546E7A] p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8",children:r.jsx(H4,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),p.report_url&&r.jsx($,{variant:"ghost",size:"icon",onClick:()=>e({title:"Feature Not Implemented",description:"Viewing/downloading reports is not yet implemented. "}),className:"hover:bg-purple-500/20 text-purple-400 bg-[#607D8B] hover:bg-[#546E7A] p-1.5 md:p-2 h-auto md:h-8 w-auto md:w-8",children:r.jsx(et,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]},p.id))})]})})})]})]})},Vy={title:"GS-3 SecureOps Pro Platform",version:"1.0.0",lastUpdated:new Date().toISOString().split("T")[0],description:"A comprehensive security operations management platform designed to streamline and enhance protective services through real-time monitoring, AI-driven analytics, and robust reporting tools. This portal provides an in-depth look at the project's architecture and codebase.",keyFeatures:[{title:"Unified Dashboard",description:"Centralized view of all operational metrics, active alerts, and system statuses.",icon:"LayoutDashboard"},{title:"Hierarchical Site Management",description:"Flexible system to define and manage sites, regions, and national entities.",icon:"Network"},{title:"Real-time Alerts & Notifications",description:"A dynamic ticker and notification system for immediate operational awareness.",icon:"AlertTriangle"},{title:"Role-Based Access Control (RBAC)",description:"Granular permission system to tailor user access based on roles like Admin, Supervisor, and Client.",icon:"Users"},{title:"ISO & Health/Safety Compliance",description:"Dedicated modules for tracking compliance, incidents, and audits.",icon:"ShieldCheck"},{title:"Extensible Admin Settings",description:"UI for configuring system-wide parameters and integration settings.",icon:"Settings"}],techStack:[{name:"React",version:"18.2.0",type:"Frontend Library"},{name:"Vite",version:"4.4.5",type:"Build Tool"},{name:"TailwindCSS",version:"3.3.3",type:"CSS Framework"},{name:"Supabase",version:"2.30.0",type:"Backend as a Service"},{name:"Framer Motion",version:"10.16.4",type:"Animation Library"},{name:"shadcn/ui",version:"Latest",type:"Component Library"}]},IF={name:"package.json",type:"file",content:`{
  "name": "security-management-platform",
  "type": "module",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@radix-ui/react-alert-dialog": "^1.0.5",
    "@radix-ui/react-avatar": "^1.0.3",
    "@radix-ui/react-checkbox": "^1.0.4",
    "@radix-ui/react-dialog": "^1.0.5",
    "@radix-ui/react-dropdown-menu": "^2.0.5",
    "@radix-ui/react-label": "^2.0.2",
    "@radix-ui/react-slot": "^1.0.2",
    "@radix-ui/react-tabs": "^1.0.4",
    "@radix-ui/react-toast": "^1.1.5",
    "@radix-ui/react-slider": "^1.1.2",
    "@radix-ui/react-select": "^1.2.2",
    "@radix-ui/react-switch": "^1.0.3",
    "@supabase/supabase-js": "2.30.0",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.0.0",
    "framer-motion": "^10.16.4",
    "lucide-react": "^0.285.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-helmet": "^6.1.0",
    "react-router-dom": "^6.16.0",
    "tailwind-merge": "^1.14.0",
    "tailwindcss-animate": "^1.0.7"
  },
  "devDependencies": {
    "@types/node": "^20.8.3",
    "@types/react": "^18.2.15",
    "@types/react-dom": "^18.2.7",
    "@vitejs/plugin-react": "^4.0.3",
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.31",
    "tailwindcss": "^3.3.3",
    "vite": "^4.4.5"
  }
}`},FF=[IF,{name:"tailwind.config.js",type:"file",content:"// Not relevant for this snapshot"},{name:"postcss.config.js",type:"file",content:"// Not relevant for this snapshot"},{name:"index.html",type:"file",content:"// Not relevant for this snapshot"},{name:"vite.config.js",type:"file",content:"// Not relevant for this snapshot"}],VF=`import React, { useEffect, useState, useCallback } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { Helmet } from 'react-helmet';
import { Toaster } from '@/components/ui/toaster';
import Layout from '@/components/Layout';
import Dashboard from '@/pages/Dashboard';
import Assessments from '@/pages/Assessments';
import Sites from '@/pages/Sites';
import Employees from '@/pages/Employees';
import Subcontractors from '@/pages/Subcontractors';
import Training from '@/pages/Training';
import LiveClasses from '@/pages/LiveClasses';
import NFCManagement from '@/pages/NFCManagement';
import reportRoutes from '@/routes/reportRoutes';
import Scheduling from '@/pages/Scheduling';
import Analytics from '@/pages/Analytics';
import Messaging from '@/pages/Messaging';
import ISO from '@/pages/ISO';
import ExternalApp from '@/pages/ExternalApp';
import AdminSettings from '@/pages/AdminSettings';
import HealthSafety from '@/pages/HealthSafety';
import DeveloperPage from '@/pages/DeveloperPage';
import { supabase } from '@/lib/supabaseClient';
import { useToast } from '@/components/ui/use-toast';

const PerformancePage = () => <div className="text-white p-5"><h1>Performance Evaluations Page</h1><p>Content coming soon...</p></div>;
const IncidentsPage = () => <div className="text-white p-5"><h1>Incidents Page</h1><p>Content coming soon...</p></div>;
const ObservationsPage = () => <div className="text-white p-5"><h1>Observations Page</h1><p>Content coming soon...</p></div>;
const LoginManagementPage = () => <div className="text-white p-5"><h1>Login Management Page</h1><p>Content coming soon...</p></div>;

function App() {
  const { toast } = useToast();
  const [userRole, setUserRole] = useState(null);
  const [loadingRole, setLoadingRole] = useState(true);

  const checkUserSession = useCallback(async () => {
    try {
      const { data: { session }, error: sessionError } = await supabase.auth.getSession();

      if (sessionError) {
        if (sessionError.message.includes('bad_jwt')) {
          console.error("Bad JWT detected. Forcing sign-out.");
          await supabase.auth.signOut();
          setUserRole(null);
          toast({
            variant: "destructive",
            title: "Session Invalid",
            description: "Your session has expired or is invalid. Please log in again.",
          });
          return;
        }
        throw new Error(\`Supabase session error: \${sessionError.message}\`);
      }

      if (session?.user) {
        const { data: userData, error: userError } = await supabase
          .from('users')
          .select('role, full_name')
          .eq('auth_user_id', session.user.id)
          .single();

        if (userError || !userData) {
          console.error('Error fetching user profile or user not found. Forcing sign-out.', userError?.message);
          await supabase.auth.signOut();
          setUserRole(null);
          toast({
            variant: "destructive",
            title: "User Profile Error",
            description: "Could not find your user profile. Please log in again or contact support.",
          });
        } else {
          setUserRole(userData.role);
        }
      } else {
        setUserRole(null);
      }
    } catch (error) {
      console.error('Critical error in user session check. Forcing sign-out.', error);
      await supabase.auth.signOut().catch(e => console.error("Sign out failed during error handling:", e));
      setUserRole(null);
      toast({
        variant: "destructive",
        title: "Application Error",
        description: "An unexpected error occurred. Please try logging in again.",
      });
    } finally {
      setLoadingRole(false);
    }
  }, [toast]);

  useEffect(() => {
    checkUserSession();

    const { data: { subscription } } = supabase.auth.onAuthStateChange((event) => {
      if (event === 'SIGNED_OUT') {
        setUserRole(null);
      } else if (event === 'SIGNED_IN' || event === 'TOKEN_REFRESHED' || event === 'USER_UPDATED') {
        checkUserSession();
      }
    });

    return () => {
      subscription?.unsubscribe();
    };
  }, [checkUserSession]);

  if (loadingRole) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 to-black text-white p-4">
        <img  alt="GS-3 SecureOps Pro Logo loading" className="w-32 h-32 mb-6 animate-pulse" src="https://images.unsplash.com/photo-1575821104894-b683ce7525ff" />
        <h1 className="text-2xl font-semibold mb-2">GS-3 SecureOps Pro</h1>
        <p className="text-slate-400">Initializing Security Management Platform...</p>
        <div className="mt-8 w-16 h-16 border-4 border-dashed rounded-full animate-spin border-blue-500"></div>
      </div>
    );
  }

  return (
    <>
      <Helmet>
        <title>GS-3 SecureOps Pro | Advanced Security Management</title>
        <meta name="description" content="GS-3 SecureOps Pro: Leading security operations platform with AI analytics, real-time monitoring, and comprehensive tools for protective services. Domain: gs-3.pro" />
        <link rel="canonical" href="https://gs-3.pro" />
      </Helmet>
      <Router>
        <div className="min-h-screen bg-gradient-to-br from-slate-900 to-black">
          <Routes>
            <Route path="/developer" element={<DeveloperPage />} />
            <Route path="/" element={<Layout userRole={userRole} />}>
              <Route index element={<Dashboard userRole={userRole} />} />
              <Route path="assessments" element={<Assessments />} />
              <Route path="sites" element={<Sites />} />
              <Route path="employees" element={<Employees />} />
              <Route path="performance" element={<PerformancePage />} />
              <Route path="subcontractors" element={<Subcontractors />} />
              <Route path="training" element={<Training />} />
              <Route path="live-classes" element={<LiveClasses />} />
              <Route path="nfc" element={<NFCManagement />} />
              {reportRoutes}
              <Route path="reports/incidents" element={<IncidentsPage />} />
              <Route path="reports/observations" element={<ObservationsPage />} />
              <Route path="scheduling" element={<Scheduling />} />
              <Route path="analytics" element={<Analytics />} />
              <Route path="messaging" element={<Messaging />} />
              <Route path="iso" element={<ISO />} />
              <Route path="health-safety" element={<HealthSafety />} />
              <Route path="external-app" element={<ExternalApp />} />
              <Route path="login-management" element={<LoginManagementPage />} />
              <Route path="admin-settings" element={userRole === 'admin' ? <AdminSettings /> : <Navigate to="/" replace />} />
              <Route path="*" element={<Navigate to="/" replace />} />
            </Route>
          </Routes>
          <Toaster />
        </div>
      </Router>
    </>
  );
}

export default App;
`,BF=`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from '@/App';
import '@/index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
`,zF=`@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 210 40% 98%;
    --card: 224 71% 10%;
    --card-foreground: 210 40% 98%;
    --popover: 224 71% 4%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 50.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 32.6% 17.5%;
    --input: 217 32.6% 17.5%;
    --ring: 216 80% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.scrollbar-thin::-webkit-scrollbar-track {
  @apply bg-slate-800/50 rounded-full;
}
.scrollbar-thin::-webkit-scrollbar-thumb {
  @apply bg-slate-700 rounded-full;
}
.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  @apply bg-slate-600;
}

.glass-effect {
  background: rgba(30, 41, 59, 0.6);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.ios-card {
  @apply bg-slate-800/70 backdrop-blur-md border border-slate-700/80 rounded-xl shadow-xl;
}
.ios-card .card-header { @apply p-4 sm:p-5; }
.ios-card .card-content { @apply p-4 sm:p-5; }
.ios-card .card-title { @apply text-lg sm:text-xl; }

.ios-table-header {
  @apply border-b border-slate-700;
}
.ios-table-header th {
  @apply text-xs uppercase text-slate-400 tracking-wider font-semibold py-3 px-4;
}
.dark-table-row-hover tbody tr {
  @apply border-b border-slate-700/50 transition-colors duration-150;
}
.dark-table-row-hover tbody tr:hover {
  @apply bg-slate-700/30;
}
.dark-table-row-hover tbody tr td {
  @apply py-3 px-4 text-sm text-slate-300;
}

.hover-lift {
  @apply transition-all duration-300 ease-in-out;
}
.hover-lift:hover {
  @apply transform -translate-y-1 shadow-2xl;
}

.glass-button {
  @apply bg-slate-700/50 backdrop-blur-sm border border-slate-600/70 text-slate-200 hover:bg-slate-600/70 hover:border-slate-500/70 transition-all duration-200;
}

.nav-blur {
  background: rgba(15, 23, 42, 0.85);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border-right: 1px solid rgba(51, 65, 85, 0.5);
}

.ticker-red { @apply bg-red-600/70 hover:bg-red-500/70; }
.ticker-orange { @apply bg-orange-500/70 hover:bg-orange-400/70; }
.ticker-yellow { @apply bg-yellow-500/70 hover:bg-yellow-400/70; }
.ticker-green { @apply bg-green-600/70 hover:bg-green-500/70; }
.ticker-blue { @apply bg-blue-600/70 hover:bg-blue-500/70; }
.ticker-slate { @apply bg-slate-600/70 hover:bg-slate-500/70; }
`,UF=`import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Loader2, AlertTriangle, Code } from 'lucide-react';

const CodeViewer = ({ file }) => {
  const [content, setContent] = useState('Select a file to view its content.');
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    if (file) {
      setIsLoading(true);
      setError(null);
      
      setTimeout(() => {
        if (file.content) {
          setContent(file.content);
        } else {
          setError('File content is not available or could not be loaded.');
          setContent('');
        }
        setIsLoading(false);
      }, 200);
    }
  }, [file]);

  const renderContent = () => {
    if (isLoading) {
      return (
        <div className="flex flex-col items-center justify-center h-full text-slate-400">
          <Loader2 className="w-8 h-8 animate-spin mb-4" />
          <p>Loading file content...</p>
        </div>
      );
    }
    if (error) {
      return (
        <div className="flex flex-col items-center justify-center h-full text-yellow-400">
          <AlertTriangle className="w-8 h-8 mb-4" />
          <p>{error}</p>
        </div>
      );
    }
    if (!file) {
        return (
             <div className="flex flex-col items-center justify-center h-full text-slate-400">
                <Code className="w-12 h-12 mb-4 text-sky-400" />
                <h3 className="text-lg font-semibold text-white">Select a file</h3>
                <p>Choose a file from the tree on the left to view its source code.</p>
            </div>
        )
    }
    return (
      <pre className="p-4"><code className="text-sm">{content}</code></pre>
    );
  };

  return (
    <div className="bg-slate-900/70 text-white font-mono rounded-lg h-full overflow-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50">
      {renderContent()}
    </div>
  );
};

export default CodeViewer;
`,HF=`import React, { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { File, Folder, ChevronRight, ChevronDown, Loader2 } from 'lucide-react';
import { projectFiles } from '@/data/projectFiles.js';

const FileNode = ({ node, onFileSelect, level = 0 }) => {
  const [isOpen, setIsOpen] = useState(level < 1);

  const handleToggle = () => {
    if (node.type === 'folder') {
      setIsOpen(!isOpen);
    } else {
      onFileSelect(node);
    }
  };

  const isFolder = node.type === 'folder';

  return (
    <div>
      <div
        onClick={handleToggle}
        className="flex items-center p-1.5 rounded-md hover:bg-slate-700/50 cursor-pointer transition-colors"
        style={{ paddingLeft: \`\${level * 1.25 + 0.5}rem\` }}
      >
        {isFolder ? (
          isOpen ? <ChevronDown className="w-4 h-4 mr-2 flex-shrink-0" /> : <ChevronRight className="w-4 h-4 mr-2 flex-shrink-0" />
        ) : (
          <File className="w-4 h-4 mr-2 flex-shrink-0 text-sky-400" />
        )}
        {isFolder ? (
          <Folder className="w-4 h-4 mr-2 flex-shrink-0 text-yellow-400" />
        ) : null}
        <span className="text-sm text-slate-300 truncate">{node.name}</span>
      </div>
      <AnimatePresence>
        {isFolder && isOpen && (
          <motion.div
            initial={{ height: 0, opacity: 0 }}
            animate={{ height: 'auto', opacity: 1 }}
            exit={{ height: 0, opacity: 0 }}
            className="overflow-hidden"
          >
            {node.children.map((childNode, index) => (
              <FileNode key={index} node={childNode} onFileSelect={onFileSelect} level={level + 1} />
            ))}
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
};

const FileTree = ({ onFileSelect }) => {
  const [fileStructure, setFileStructure] = useState(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    setTimeout(() => {
      setFileStructure(projectFiles);
      setIsLoading(false);
    }, 100);
  }, []);

  if (isLoading) {
    return (
      <div className="flex items-center justify-center h-full text-slate-400">
        <Loader2 className="w-6 h-6 animate-spin mr-2" />
        <span>Loading Project...</span>
      </div>
    );
  }

  return (
    <div className="bg-slate-800/50 text-white rounded-lg p-2 h-full overflow-y-auto border-r border-slate-700">
      {fileStructure.map((node, index) => (
        <FileNode key={index} node={node} onFileSelect={onFileSelect} />
      ))}
    </div>
  );
};

export default FileTree;
`,WF={name:"App.jsx",type:"file",content:VF},qF={name:"main.jsx",type:"file",content:BF},GF={name:"index.css",type:"file",content:zF},KF={name:"CodeViewer.jsx",type:"file",content:UF},YF={name:"FileTree.jsx",type:"file",content:HF},QF={name:"developer",type:"folder",children:[KF,YF]},JF={name:"components",type:"folder",children:[QF]},XF={name:"src",type:"folder",children:[WF,qF,GF,JF]},ZF=[...FF,XF],vS=({node:e,onFileSelect:t,level:n=0})=>{const[s,i]=m.useState(n<1),a=()=>{e.type==="folder"?i(!s):t(e)},o=e.type==="folder";return r.jsxs("div",{children:[r.jsxs("div",{onClick:a,className:"flex items-center p-1.5 rounded-md hover:bg-slate-700/50 cursor-pointer transition-colors",style:{paddingLeft:`${n*1.25+.5}rem`},children:[o?s?r.jsx(Kb,{className:"w-4 h-4 mr-2 flex-shrink-0"}):r.jsx(G4,{className:"w-4 h-4 mr-2 flex-shrink-0"}):r.jsx(J4,{className:"w-4 h-4 mr-2 flex-shrink-0 text-sky-400"}),o?r.jsx(X4,{className:"w-4 h-4 mr-2 flex-shrink-0 text-yellow-400"}):null,r.jsx("span",{className:"text-sm text-slate-300 truncate",children:e.name})]}),r.jsx(er,{children:o&&s&&r.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.children.map((l,c)=>r.jsx(vS,{node:l,onFileSelect:t,level:n+1},c))})})]})},e8=({onFileSelect:e})=>{const[t,n]=m.useState(null),[s,i]=m.useState(!0);return m.useEffect(()=>{setTimeout(()=>{n(ZF),i(!1)},100)},[]),s?r.jsxs("div",{className:"flex items-center justify-center h-full text-slate-400",children:[r.jsx(lt,{className:"w-6 h-6 animate-spin mr-2"}),r.jsx("span",{children:"Loading Project..."})]}):r.jsx("div",{className:"bg-slate-800/50 text-white rounded-lg p-2 h-full overflow-y-auto border-r border-slate-700",children:t.map((a,o)=>r.jsx(vS,{node:a,onFileSelect:e},o))})},t8=({file:e})=>{const[t,n]=m.useState("Select a file to view its content."),[s,i]=m.useState(!1),[a,o]=m.useState(null);m.useEffect(()=>{e&&(i(!0),o(null),setTimeout(()=>{e.content?n(e.content):(o("File content is not available or could not be loaded."),n("")),i(!1)},200))},[e]);const l=()=>s?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[r.jsx(lt,{className:"w-8 h-8 animate-spin mb-4"}),r.jsx("p",{children:"Loading file content..."})]}):a?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-yellow-400",children:[r.jsx(dt,{className:"w-8 h-8 mb-4"}),r.jsx("p",{children:a})]}):e?r.jsx("pre",{className:"p-4",children:r.jsx("code",{className:"text-sm",children:t})}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[r.jsx(cd,{className:"w-12 h-12 mb-4 text-sky-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select a file"}),r.jsx("p",{children:"Choose a file from the tree on the left to view its source code."})]});return r.jsx("div",{className:"bg-slate-900/70 text-white font-mono rounded-lg h-full overflow-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50",children:l()})},n8={LayoutDashboard:Zb,Network:yr,AlertTriangle:dt,Users:Re,ShieldCheck:xi,Settings:Ti,Database:Y4,Cpu:K4,Wrench:CT,Package:r1,Code:cd,Eye:ki},s8=()=>{const[e,t]=m.useState(!1),[n,s]=m.useState(""),[i,a]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(Vy),[f,g]=m.useState([]),[y,x]=m.useState(!1),[w,p]=m.useState(!0),{toast:v}=oe(),b=m.useCallback(async()=>{p(!0);const{data:N,error:_}=await z.from("developer_portal_snapshots").select("id, created_at, version_name").order("created_at",{ascending:!1});_?v({variant:"destructive",title:"Error fetching snapshots",description:_.message}):g(N),p(!1)},[v]);m.useEffect(()=>{e&&b()},[e,b]);const j=N=>{N.preventDefault(),l(!0),setTimeout(()=>{n==="mg@gs-3.com"&&i==="Developer2025!"?(t(!0),v({title:"Login Successful",description:"Welcome to the Developer Portal."})):v({variant:"destructive",title:"Login Failed",description:"Invalid credentials."}),l(!1)},500)},S=async()=>{x(!0);const N=`v${u.version} - ${new Date().toISOString()}`,{error:_}=await z.from("developer_portal_snapshots").insert([{version_name:N,snapshot_content:u}]);_?v({variant:"destructive",title:"Failed to save snapshot",description:_.message}):(v({title:"Snapshot Saved",description:`Version "${N}" has been saved.`}),b()),x(!1)},E=async N=>{if(!N||N==="latest"){h(Vy),v({title:"Loaded Latest Version",description:"Displaying the current project overview."});return}const{data:_,error:R}=await z.from("developer_portal_snapshots").select("snapshot_content").eq("id",N).single();R?v({variant:"destructive",title:"Failed to load snapshot",description:R.message}):(h(_.snapshot_content),v({title:"Snapshot Loaded",description:"Version data has been loaded into the overview."}))};return e?r.jsxs(r.Fragment,{children:[r.jsx(co,{children:r.jsx("title",{children:"Developer Portal | GS-3 SecureOps"})}),r.jsxs("div",{className:"text-white p-4 sm:p-6 lg:p-8",children:[r.jsx(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[r.jsx(NT,{className:"w-8 h-8 mr-3 text-sky-400"}),"Developer Portal"]})}),r.jsxs(Zt,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Bt,{className:"grid w-full grid-cols-2 max-w-md bg-slate-800/80 border border-slate-700",children:[r.jsxs(ne,{value:"overview",className:"data-[state=active]:bg-slate-700 data-[state=active]:text-white text-slate-300",children:[r.jsx(ki,{className:"w-4 h-4 mr-2"}),"Overview"]}),r.jsxs(ne,{value:"code",className:"data-[state=active]:bg-slate-700 data-[state=active]:text-white text-slate-300",children:[r.jsx(cd,{className:"w-4 h-4 mr-2"}),"Code Artifacts"]})]}),r.jsx(ie,{value:"overview",className:"mt-4",children:r.jsxs(H,{className:"ios-card",children:[r.jsx(K,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(G,{className:"text-2xl text-white",children:u.title}),r.jsxs(ae,{className:"text-slate-400",children:["Version: ",u.version," | Last Updated: ",u.lastUpdated]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[r.jsxs(_e,{onValueChange:E,disabled:w,children:[r.jsxs(Ne,{className:"w-[240px] glass-button",children:[r.jsx(nT,{className:"w-4 h-4 mr-2"}),r.jsx(Ee,{placeholder:"Load Version Snapshot..."})]}),r.jsxs(Se,{children:[r.jsx(Z,{value:"latest",children:"Latest Version (Default)"}),f.map(N=>r.jsxs(Z,{value:N.id,children:[new Date(N.created_at).toLocaleString()," - ",N.version_name]},N.id))]})]}),r.jsxs($,{onClick:S,disabled:y,className:"bg-sky-600 hover:bg-sky-700",children:[y?r.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Sn,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save Snapshot"]})]})]})}),r.jsxs(U,{className:"space-y-6 pt-4",children:[r.jsx("p",{className:"text-slate-300",children:u.description}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.keyFeatures.map(N=>{const _=n8[N.icon]||ki;return r.jsxs("div",{className:"p-4 bg-slate-800/60 rounded-lg border border-slate-700 hover-lift",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(_,{className:"w-5 h-5 mr-3 text-sky-400"}),r.jsx("h4",{className:"font-semibold text-white",children:N.title})]}),r.jsx("p",{className:"text-sm text-slate-400",children:N.description})]},N.title)})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Technology Stack"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.techStack.map(N=>r.jsxs("div",{className:"p-4 bg-slate-800/60 rounded-lg border border-slate-700",children:[r.jsxs("h4",{className:"font-semibold text-white",children:[N.name," ",r.jsx("span",{className:"text-xs text-slate-400 font-normal ml-1",children:N.version})]}),r.jsx("p",{className:"text-sm text-slate-400",children:N.type})]},N.name))})]})]})]})}),r.jsx(ie,{value:"code",className:"mt-4",children:r.jsx(H,{className:"ios-card",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 h-[calc(100vh-220px)] min-h-[600px]",children:[r.jsx("div",{className:"md:col-span-3 lg:col-span-3 border-r border-slate-700 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800/50",children:r.jsx(e8,{onFileSelect:d})}),r.jsx("div",{className:"md:col-span-9 lg:col-span-9 overflow-hidden",children:r.jsx(t8,{file:c})})]})})})]})]})]}):r.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 to-black p-4",children:[r.jsx(co,{children:r.jsx("title",{children:"Developer Portal Login"})}),r.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:r.jsxs(H,{className:"w-[380px] ios-card",children:[r.jsxs(K,{className:"text-center",children:[r.jsx("div",{className:"mx-auto bg-slate-700/50 p-3 rounded-full w-fit mb-4",children:r.jsx(Xb,{className:"w-8 h-8 text-sky-400"})}),r.jsx(G,{className:"text-2xl text-white",children:"Developer Portal Access"}),r.jsx(ae,{className:"text-slate-400",children:"Enter credentials to continue"})]}),r.jsx(U,{children:r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"text-slate-300",htmlFor:"username",children:"Username"}),r.jsx(X,{id:"username",type:"email",placeholder:"mg@gs-3.com",value:n,onChange:N=>s(N.target.value),required:!0,className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"text-slate-300",htmlFor:"password",children:"Password"}),r.jsx(X,{id:"password",type:"password",placeholder:"",value:i,onChange:N=>a(N.target.value),required:!0,className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs($,{type:"submit",disabled:o,className:"w-full bg-sky-600 hover:bg-sky-700 text-white",children:[o?r.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(aT,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})})]})})]})},r8=()=>r.jsxs("div",{className:"text-white p-5",children:[r.jsx("h1",{children:"Performance Evaluations Page"}),r.jsx("p",{children:"Content coming soon..."})]}),i8=()=>r.jsxs("div",{className:"text-white p-5",children:[r.jsx("h1",{children:"Incidents Page"}),r.jsx("p",{children:"Content coming soon..."})]}),a8=()=>r.jsxs("div",{className:"text-white p-5",children:[r.jsx("h1",{children:"Observations Page"}),r.jsx("p",{children:"Content coming soon..."})]}),o8=()=>r.jsxs("div",{className:"text-white p-5",children:[r.jsx("h1",{children:"Login Management Page"}),r.jsx("p",{children:"Content coming soon..."})]});function l8(){const{toast:e}=oe(),[t,n]=m.useState("admin"),[s,i]=m.useState(!1);return m.useCallback(async()=>{try{const{data:{session:a},error:o}=await z.auth.getSession();if(o){if(o.message.includes("bad_jwt")){console.error("Bad JWT detected. Forcing sign-out."),await z.auth.signOut(),n(null),e({variant:"destructive",title:"Session Invalid",description:"Your session has expired or is invalid. Please log in again."});return}throw new Error(`Supabase session error: ${o.message}`)}if(a!=null&&a.user){const{data:l,error:c}=await z.from("users").select("role, full_name").eq("auth_user_id",a.user.id).single();c||!l?(console.error("Error fetching user profile or user not found. Forcing sign-out.",c==null?void 0:c.message),await z.auth.signOut(),n(null),e({variant:"destructive",title:"User Profile Error",description:"Could not find your user profile. Please log in again or contact support."})):n(l.role)}else n(null)}catch(a){console.error("Critical error in user session check. Forcing sign-out.",a),await z.auth.signOut().catch(o=>console.error("Sign out failed during error handling:",o)),n(null),e({variant:"destructive",title:"Application Error",description:"An unexpected error occurred. Please try logging in again."})}finally{i(!1)}},[e]),s?r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 to-black text-white p-4",children:[r.jsx("img",{alt:"GS-3 SecureOps Pro Logo loading",className:"w-32 h-32 mb-6 animate-pulse",src:"https://images.unsplash.com/photo-1575821104894-b683ce7525ff"}),r.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"GS-3 SecureOps Pro"}),r.jsx("p",{className:"text-slate-400",children:"Initializing Security Management Platform..."}),r.jsx("div",{className:"mt-8 w-16 h-16 border-4 border-dashed rounded-full animate-spin border-blue-500"})]}):r.jsxs(r.Fragment,{children:[r.jsxs(co,{children:[r.jsx("title",{children:"GS-3 SecureOps Pro | Advanced Security Management"}),r.jsx("meta",{name:"description",content:"GS-3 SecureOps Pro: Leading security operations platform with AI analytics, real-time monitoring, and comprehensive tools for protective services. Domain: gs-3.pro"}),r.jsx("link",{rel:"canonical",href:"https://gs-3.pro"})]}),r.jsx(qE,{children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-black",children:[r.jsxs(IE,{children:[r.jsx(ge,{path:"/developer",element:r.jsx(s8,{})}),r.jsxs(ge,{path:"/",element:r.jsx(Y$,{userRole:t}),children:[r.jsx(ge,{index:!0,element:r.jsx(J$,{userRole:t})}),r.jsx(ge,{path:"assessments",element:r.jsx(LI,{})}),r.jsx(ge,{path:"sites",element:r.jsx(HI,{})}),r.jsx(ge,{path:"employees",element:r.jsx(QI,{})}),r.jsx(ge,{path:"entity-staff",element:r.jsx(JI,{})}),r.jsx(ge,{path:"performance",element:r.jsx(r8,{})}),r.jsx(ge,{path:"subcontractors",element:r.jsx(r6,{})}),r.jsx(ge,{path:"training",element:r.jsx(f6,{})}),r.jsx(ge,{path:"live-classes",element:r.jsx(m6,{})}),r.jsx(ge,{path:"nfc",element:r.jsx(p6,{})}),E6,r.jsx(ge,{path:"reports/incidents",element:r.jsx(i8,{})}),r.jsx(ge,{path:"reports/observations",element:r.jsx(a8,{})}),r.jsx(ge,{path:"scheduling",element:r.jsx(R6,{})}),r.jsx(ge,{path:"analytics",element:r.jsx(O6,{})}),r.jsx(ge,{path:"messaging",element:r.jsx($6,{})}),r.jsx(ge,{path:"iso",element:r.jsx(NF,{})}),r.jsx(ge,{path:"incident-command",element:r.jsx(_F,{})}),r.jsx(ge,{path:"health-safety",element:r.jsx(LF,{})}),r.jsx(ge,{path:"external-app",element:r.jsx(EF,{})}),r.jsx(ge,{path:"login-management",element:r.jsx(o8,{})}),r.jsx(ge,{path:"admin-settings",element:t==="admin"?r.jsx(MF,{}):r.jsx(Jh,{to:"/",replace:!0})}),r.jsx(ge,{path:"*",element:r.jsx(Jh,{to:"/",replace:!0})})]})]}),r.jsx(lP,{})]})})]})}sh.createRoot(document.getElementById("root")).render(r.jsx(Y.StrictMode,{children:r.jsx(l8,{})}));export{jS as g};
